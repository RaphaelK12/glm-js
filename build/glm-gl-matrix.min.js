var GLMAT={};GLMAT_VERSION="2.2.2";
(function(a){a.VERSION=GLMAT_VERSION;if(!c)var c=1E-6;if(!d)var d="undefined"!==typeof Float32Array?Float32Array:Array;if(!g)var g=Math.random;var f={setMatrixArrayType:function(b){d=b}};"undefined"!==typeof a&&(a.glMatrix=f);var l=Math.PI/180;f.toRadian=function(b){return b*l};f={create:function(){var b=new d(2);b[0]=0;b[1]=0;return b},clone:function(b){var e=new d(2);e[0]=b[0];e[1]=b[1];return e},fromValues:function(b,e){var q=new d(2);q[0]=b;q[1]=e;return q},copy:function(b,e){b[0]=e[0];b[1]=e[1];
return b},set:function(b,e,q){b[0]=e;b[1]=q;return b},add:function(b,e,q){b[0]=e[0]+q[0];b[1]=e[1]+q[1];return b},subtract:function(b,e,q){b[0]=e[0]-q[0];b[1]=e[1]-q[1];return b}};f.sub=f.subtract;f.multiply=function(b,e,q){b[0]=e[0]*q[0];b[1]=e[1]*q[1];return b};f.mul=f.multiply;f.divide=function(b,e,q){b[0]=e[0]/q[0];b[1]=e[1]/q[1];return b};f.div=f.divide;f.min=function(b,e,q){b[0]=Math.min(e[0],q[0]);b[1]=Math.min(e[1],q[1]);return b};f.max=function(b,e,q){b[0]=Math.max(e[0],q[0]);b[1]=Math.max(e[1],
q[1]);return b};f.scale=function(b,e,q){b[0]=e[0]*q;b[1]=e[1]*q;return b};f.scaleAndAdd=function(b,e,q,a){b[0]=e[0]+q[0]*a;b[1]=e[1]+q[1]*a;return b};f.distance=function(b,e){var q=e[0]-b[0],a=e[1]-b[1];return Math.sqrt(q*q+a*a)};f.dist=f.distance;f.squaredDistance=function(b,e){var q=e[0]-b[0],a=e[1]-b[1];return q*q+a*a};f.sqrDist=f.squaredDistance;f.length=function(b){var e=b[0];b=b[1];return Math.sqrt(e*e+b*b)};f.len=f.length;f.squaredLength=function(b){var e=b[0];b=b[1];return e*e+b*b};f.sqrLen=
f.squaredLength;f.negate=function(b,e){b[0]=-e[0];b[1]=-e[1];return b};f.inverse=function(b,e){b[0]=1/e[0];b[1]=1/e[1];return b};f.normalize=function(b,e){var q=e[0],a=e[1],q=q*q+a*a;0<q&&(q=1/Math.sqrt(q),b[0]=e[0]*q,b[1]=e[1]*q);return b};f.dot=function(b,e){return b[0]*e[0]+b[1]*e[1]};f.cross=function(b,e,q){e=e[0]*q[1]-e[1]*q[0];b[0]=b[1]=0;b[2]=e;return b};f.lerp=function(b,e,q,a){var c=e[0];e=e[1];b[0]=c+a*(q[0]-c);b[1]=e+a*(q[1]-e);return b};f.random=function(b,e){e=e||1;var q=2*g()*Math.PI;
b[0]=Math.cos(q)*e;b[1]=Math.sin(q)*e;return b};f.transformMat2=function(b,e,q){var a=e[0];e=e[1];b[0]=q[0]*a+q[2]*e;b[1]=q[1]*a+q[3]*e;return b};f.transformMat2d=function(b,e,q){var a=e[0];e=e[1];b[0]=q[0]*a+q[2]*e+q[4];b[1]=q[1]*a+q[3]*e+q[5];return b};f.transformMat3=function(b,e,q){var a=e[0];e=e[1];b[0]=q[0]*a+q[3]*e+q[6];b[1]=q[1]*a+q[4]*e+q[7];return b};f.transformMat4=function(b,e,q){var a=e[0];e=e[1];b[0]=q[0]*a+q[4]*e+q[12];b[1]=q[1]*a+q[5]*e+q[13];return b};var m=f.create();f.forEach=function(b,
e,q,a,c,k){e||(e=2);q||(q=0);for(a=a?Math.min(a*e+q,b.length):b.length;q<a;q+=e)m[0]=b[q],m[1]=b[q+1],c(m,m,k),b[q]=m[0],b[q+1]=m[1];return b};f.str=function(b){return"vec2("+b[0]+", "+b[1]+")"};"undefined"!==typeof a&&(a.vec2=f);var i={create:function(){var b=new d(3);b[0]=0;b[1]=0;b[2]=0;return b},clone:function(b){var e=new d(3);e[0]=b[0];e[1]=b[1];e[2]=b[2];return e},fromValues:function(b,e,a){var c=new d(3);c[0]=b;c[1]=e;c[2]=a;return c},copy:function(b,e){b[0]=e[0];b[1]=e[1];b[2]=e[2];return b},
set:function(b,e,a,c){b[0]=e;b[1]=a;b[2]=c;return b},add:function(b,e,a){b[0]=e[0]+a[0];b[1]=e[1]+a[1];b[2]=e[2]+a[2];return b},subtract:function(b,e,a){b[0]=e[0]-a[0];b[1]=e[1]-a[1];b[2]=e[2]-a[2];return b}};i.sub=i.subtract;i.multiply=function(b,e,a){b[0]=e[0]*a[0];b[1]=e[1]*a[1];b[2]=e[2]*a[2];return b};i.mul=i.multiply;i.divide=function(b,e,a){b[0]=e[0]/a[0];b[1]=e[1]/a[1];b[2]=e[2]/a[2];return b};i.div=i.divide;i.min=function(b,e,a){b[0]=Math.min(e[0],a[0]);b[1]=Math.min(e[1],a[1]);b[2]=Math.min(e[2],
a[2]);return b};i.max=function(b,e,a){b[0]=Math.max(e[0],a[0]);b[1]=Math.max(e[1],a[1]);b[2]=Math.max(e[2],a[2]);return b};i.scale=function(b,e,a){b[0]=e[0]*a;b[1]=e[1]*a;b[2]=e[2]*a;return b};i.scaleAndAdd=function(b,e,a,c){b[0]=e[0]+a[0]*c;b[1]=e[1]+a[1]*c;b[2]=e[2]+a[2]*c;return b};i.distance=function(b,e){var a=e[0]-b[0],c=e[1]-b[1],h=e[2]-b[2];return Math.sqrt(a*a+c*c+h*h)};i.dist=i.distance;i.squaredDistance=function(b,e){var a=e[0]-b[0],c=e[1]-b[1],h=e[2]-b[2];return a*a+c*c+h*h};i.sqrDist=
i.squaredDistance;i.length=function(b){var e=b[0],a=b[1];b=b[2];return Math.sqrt(e*e+a*a+b*b)};i.len=i.length;i.squaredLength=function(b){var e=b[0],a=b[1];b=b[2];return e*e+a*a+b*b};i.sqrLen=i.squaredLength;i.negate=function(b,e){b[0]=-e[0];b[1]=-e[1];b[2]=-e[2];return b};i.inverse=function(b,e){b[0]=1/e[0];b[1]=1/e[1];b[2]=1/e[2];return b};i.normalize=function(b,e){var a=e[0],c=e[1],h=e[2],a=a*a+c*c+h*h;0<a&&(a=1/Math.sqrt(a),b[0]=e[0]*a,b[1]=e[1]*a,b[2]=e[2]*a);return b};i.dot=function(b,e){return b[0]*
e[0]+b[1]*e[1]+b[2]*e[2]};i.cross=function(b,e,a){var c=e[0],h=e[1];e=e[2];var k=a[0],F=a[1];a=a[2];b[0]=h*a-e*F;b[1]=e*k-c*a;b[2]=c*F-h*k;return b};i.lerp=function(b,e,a,c){var h=e[0],k=e[1];e=e[2];b[0]=h+c*(a[0]-h);b[1]=k+c*(a[1]-k);b[2]=e+c*(a[2]-e);return b};i.random=function(b,e){e=e||1;var a=2*g()*Math.PI,c=2*g()-1,h=Math.sqrt(1-c*c)*e;b[0]=Math.cos(a)*h;b[1]=Math.sin(a)*h;b[2]=c*e;return b};i.transformMat4=function(b,e,a){var c=e[0],h=e[1];e=e[2];var k=a[3]*c+a[7]*h+a[11]*e+a[15],k=k||1;b[0]=
(a[0]*c+a[4]*h+a[8]*e+a[12])/k;b[1]=(a[1]*c+a[5]*h+a[9]*e+a[13])/k;b[2]=(a[2]*c+a[6]*h+a[10]*e+a[14])/k;return b};i.transformMat3=function(b,e,a){var c=e[0],h=e[1];e=e[2];b[0]=c*a[0]+h*a[3]+e*a[6];b[1]=c*a[1]+h*a[4]+e*a[7];b[2]=c*a[2]+h*a[5]+e*a[8];return b};i.transformQuat=function(b,e,a){var c=e[0],h=e[1],k=e[2];e=a[0];var F=a[1],d=a[2];a=a[3];var f=a*c+F*k-d*h,g=a*h+d*c-e*k,u=a*k+e*h-F*c,c=-e*c-F*h-d*k;b[0]=f*a+c*-e+g*-d-u*-F;b[1]=g*a+c*-F+u*-e-f*-d;b[2]=u*a+c*-d+f*-F-g*-e;return b};i.rotateX=
function(b,e,a,c){var h=[],k=[];h[0]=e[0]-a[0];h[1]=e[1]-a[1];h[2]=e[2]-a[2];k[0]=h[0];k[1]=h[1]*Math.cos(c)-h[2]*Math.sin(c);k[2]=h[1]*Math.sin(c)+h[2]*Math.cos(c);b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};i.rotateY=function(b,e,a,c){var h=[],k=[];h[0]=e[0]-a[0];h[1]=e[1]-a[1];h[2]=e[2]-a[2];k[0]=h[2]*Math.sin(c)+h[0]*Math.cos(c);k[1]=h[1];k[2]=h[2]*Math.cos(c)-h[0]*Math.sin(c);b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};i.rotateZ=function(b,e,a,c){var h=[],k=[];h[0]=e[0]-
a[0];h[1]=e[1]-a[1];h[2]=e[2]-a[2];k[0]=h[0]*Math.cos(c)-h[1]*Math.sin(c);k[1]=h[0]*Math.sin(c)+h[1]*Math.cos(c);k[2]=h[2];b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};var r=i.create();i.forEach=function(b,e,a,c,h,k){e||(e=3);a||(a=0);for(c=c?Math.min(c*e+a,b.length):b.length;a<c;a+=e)r[0]=b[a],r[1]=b[a+1],r[2]=b[a+2],h(r,r,k),b[a]=r[0],b[a+1]=r[1],b[a+2]=r[2];return b};i.str=function(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"};"undefined"!==typeof a&&(a.vec3=i);var j={create:function(){var b=
new d(4);b[0]=0;b[1]=0;b[2]=0;b[3]=0;return b},clone:function(b){var e=new d(4);e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];return e},fromValues:function(b,e,a,c){var h=new d(4);h[0]=b;h[1]=e;h[2]=a;h[3]=c;return h},copy:function(b,e){b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=e[3];return b},set:function(b,e,a,c,h){b[0]=e;b[1]=a;b[2]=c;b[3]=h;return b},add:function(b,e,a){b[0]=e[0]+a[0];b[1]=e[1]+a[1];b[2]=e[2]+a[2];b[3]=e[3]+a[3];return b},subtract:function(b,e,a){b[0]=e[0]-a[0];b[1]=e[1]-a[1];b[2]=e[2]-a[2];
b[3]=e[3]-a[3];return b}};j.sub=j.subtract;j.multiply=function(b,e,a){b[0]=e[0]*a[0];b[1]=e[1]*a[1];b[2]=e[2]*a[2];b[3]=e[3]*a[3];return b};j.mul=j.multiply;j.divide=function(b,e,a){b[0]=e[0]/a[0];b[1]=e[1]/a[1];b[2]=e[2]/a[2];b[3]=e[3]/a[3];return b};j.div=j.divide;j.min=function(b,e,a){b[0]=Math.min(e[0],a[0]);b[1]=Math.min(e[1],a[1]);b[2]=Math.min(e[2],a[2]);b[3]=Math.min(e[3],a[3]);return b};j.max=function(b,e,a){b[0]=Math.max(e[0],a[0]);b[1]=Math.max(e[1],a[1]);b[2]=Math.max(e[2],a[2]);b[3]=
Math.max(e[3],a[3]);return b};j.scale=function(b,e,a){b[0]=e[0]*a;b[1]=e[1]*a;b[2]=e[2]*a;b[3]=e[3]*a;return b};j.scaleAndAdd=function(b,e,a,c){b[0]=e[0]+a[0]*c;b[1]=e[1]+a[1]*c;b[2]=e[2]+a[2]*c;b[3]=e[3]+a[3]*c;return b};j.distance=function(b,e){var a=e[0]-b[0],c=e[1]-b[1],h=e[2]-b[2],k=e[3]-b[3];return Math.sqrt(a*a+c*c+h*h+k*k)};j.dist=j.distance;j.squaredDistance=function(b,e){var a=e[0]-b[0],c=e[1]-b[1],h=e[2]-b[2],k=e[3]-b[3];return a*a+c*c+h*h+k*k};j.sqrDist=j.squaredDistance;j.length=function(b){var e=
b[0],a=b[1],c=b[2];b=b[3];return Math.sqrt(e*e+a*a+c*c+b*b)};j.len=j.length;j.squaredLength=function(b){var e=b[0],a=b[1],c=b[2];b=b[3];return e*e+a*a+c*c+b*b};j.sqrLen=j.squaredLength;j.negate=function(b,e){b[0]=-e[0];b[1]=-e[1];b[2]=-e[2];b[3]=-e[3];return b};j.inverse=function(b,e){b[0]=1/e[0];b[1]=1/e[1];b[2]=1/e[2];b[3]=1/e[3];return b};j.normalize=function(b,e){var a=e[0],c=e[1],h=e[2],k=e[3],a=a*a+c*c+h*h+k*k;0<a&&(a=1/Math.sqrt(a),b[0]=e[0]*a,b[1]=e[1]*a,b[2]=e[2]*a,b[3]=e[3]*a);return b};
j.dot=function(b,e){return b[0]*e[0]+b[1]*e[1]+b[2]*e[2]+b[3]*e[3]};j.lerp=function(b,e,a,c){var h=e[0],k=e[1],F=e[2];e=e[3];b[0]=h+c*(a[0]-h);b[1]=k+c*(a[1]-k);b[2]=F+c*(a[2]-F);b[3]=e+c*(a[3]-e);return b};j.random=function(b,e){e=e||1;b[0]=g();b[1]=g();b[2]=g();b[3]=g();j.normalize(b,b);j.scale(b,b,e);return b};j.transformMat4=function(b,e,a){var c=e[0],h=e[1],k=e[2];e=e[3];b[0]=a[0]*c+a[4]*h+a[8]*k+a[12]*e;b[1]=a[1]*c+a[5]*h+a[9]*k+a[13]*e;b[2]=a[2]*c+a[6]*h+a[10]*k+a[14]*e;b[3]=a[3]*c+a[7]*h+
a[11]*k+a[15]*e;return b};j.transformQuat=function(b,e,a){var c=e[0],h=e[1],k=e[2];e=a[0];var F=a[1],d=a[2];a=a[3];var f=a*c+F*k-d*h,g=a*h+d*c-e*k,u=a*k+e*h-F*c,c=-e*c-F*h-d*k;b[0]=f*a+c*-e+g*-d-u*-F;b[1]=g*a+c*-F+u*-e-f*-d;b[2]=u*a+c*-d+f*-F-g*-e;return b};var s=j.create();j.forEach=function(b,e,a,c,h,k){e||(e=4);a||(a=0);for(c=c?Math.min(c*e+a,b.length):b.length;a<c;a+=e)s[0]=b[a],s[1]=b[a+1],s[2]=b[a+2],s[3]=b[a+3],h(s,s,k),b[a]=s[0],b[a+1]=s[1],b[a+2]=s[2],b[a+3]=s[3];return b};j.str=function(b){return"vec4("+
b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};"undefined"!==typeof a&&(a.vec4=j);f={create:function(){var b=new d(4);b[0]=1;b[1]=0;b[2]=0;b[3]=1;return b},clone:function(b){var e=new d(4);e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];return e},copy:function(b,e){b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=e[3];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;return b},transpose:function(b,e){if(b===e){var a=e[1];b[1]=e[2];b[2]=a}else b[0]=e[0],b[1]=e[2],b[2]=e[1],b[3]=e[3];return b},invert:function(b,e){var a=
e[0],c=e[1],h=e[2],k=e[3],d=a*k-h*c;if(!d)return null;d=1/d;b[0]=k*d;b[1]=-c*d;b[2]=-h*d;b[3]=a*d;return b},adjoint:function(b,e){var a=e[0];b[0]=e[3];b[1]=-e[1];b[2]=-e[2];b[3]=a;return b},determinant:function(b){return b[0]*b[3]-b[2]*b[1]},multiply:function(b,e,a){var c=e[0],h=e[1],k=e[2];e=e[3];var d=a[0],f=a[1],g=a[2];a=a[3];b[0]=c*d+k*f;b[1]=h*d+e*f;b[2]=c*g+k*a;b[3]=h*g+e*a;return b}};f.mul=f.multiply;f.rotate=function(b,e,a){var c=e[0],h=e[1],k=e[2];e=e[3];var d=Math.sin(a);a=Math.cos(a);b[0]=
c*a+k*d;b[1]=h*a+e*d;b[2]=c*-d+k*a;b[3]=h*-d+e*a;return b};f.scale=function(b,e,a){var c=e[1],h=e[2],k=e[3],d=a[0];a=a[1];b[0]=e[0]*d;b[1]=c*d;b[2]=h*a;b[3]=k*a;return b};f.str=function(b){return"mat2("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2))};f.LDU=function(b,e,a,c){b[2]=c[2]/c[0];a[0]=c[0];a[1]=c[1];a[3]=c[3]-b[2]*a[1];return[b,e,a]};"undefined"!==typeof a&&(a.mat2=f);f={create:function(){var b=
new d(6);b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},clone:function(b){var e=new d(6);e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];e[4]=b[4];e[5]=b[5];return e},copy:function(b,e){b[0]=e[0];b[1]=e[1];b[2]=e[2];b[3]=e[3];b[4]=e[4];b[5]=e[5];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},invert:function(b,e){var a=e[0],c=e[1],h=e[2],k=e[3],d=e[4],f=e[5],g=a*k-c*h;if(!g)return null;g=1/g;b[0]=k*g;b[1]=-c*g;b[2]=-h*g;b[3]=a*g;b[4]=(h*f-k*d)*g;b[5]=(c*d-a*f)*g;return b},
determinant:function(b){return b[0]*b[3]-b[1]*b[2]},multiply:function(b,a,c){var E=a[0],h=a[1],k=a[2],d=a[3],f=a[4];a=a[5];var g=c[0],t=c[1],u=c[2],n=c[3],i=c[4];c=c[5];b[0]=E*g+k*t;b[1]=h*g+d*t;b[2]=E*u+k*n;b[3]=h*u+d*n;b[4]=E*i+k*c+f;b[5]=h*i+d*c+a;return b}};f.mul=f.multiply;f.rotate=function(b,a,c){var E=a[0],h=a[1],k=a[2],d=a[3],f=a[4];a=a[5];var g=Math.sin(c);c=Math.cos(c);b[0]=E*c+k*g;b[1]=h*c+d*g;b[2]=E*-g+k*c;b[3]=h*-g+d*c;b[4]=f;b[5]=a;return b};f.scale=function(b,a,c){var E=a[1],h=a[2],
k=a[3],d=a[4],f=a[5],g=c[0];c=c[1];b[0]=a[0]*g;b[1]=E*g;b[2]=h*c;b[3]=k*c;b[4]=d;b[5]=f;return b};f.translate=function(b,a,c){var E=a[0],h=a[1],k=a[2],d=a[3],f=a[4];a=a[5];var g=c[0];c=c[1];b[0]=E;b[1]=h;b[2]=k;b[3]=d;b[4]=E*g+k*c+f;b[5]=h*g+d*c+a;return b};f.str=function(b){return"mat2d("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+1)};"undefined"!==
typeof a&&(a.mat2d=f);f={create:function(){var b=new d(9);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromMat4:function(b,a){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},clone:function(b){var a=new d(9);a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},copy:function(b,a){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},
identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},transpose:function(b,a){if(b===a){var c=a[1],E=a[2],h=a[5];b[1]=a[3];b[2]=a[6];b[3]=c;b[5]=a[7];b[6]=E;b[7]=h}else b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8];return b},invert:function(b,a){var c=a[0],E=a[1],h=a[2],k=a[3],d=a[4],f=a[5],g=a[6],t=a[7],u=a[8],n=u*d-f*t,i=-u*k+f*g,P=t*k-d*g,j=c*n+E*i+h*P;if(!j)return null;j=1/j;b[0]=n*j;b[1]=(-u*E+h*t)*j;b[2]=(f*
E-h*d)*j;b[3]=i*j;b[4]=(u*c-h*g)*j;b[5]=(-f*c+h*k)*j;b[6]=P*j;b[7]=(-t*c+E*g)*j;b[8]=(d*c-E*k)*j;return b},adjoint:function(b,a){var c=a[0],d=a[1],h=a[2],k=a[3],f=a[4],g=a[5],C=a[6],t=a[7],u=a[8];b[0]=f*u-g*t;b[1]=h*t-d*u;b[2]=d*g-h*f;b[3]=g*C-k*u;b[4]=c*u-h*C;b[5]=h*k-c*g;b[6]=k*t-f*C;b[7]=d*C-c*t;b[8]=c*f-d*k;return b},determinant:function(b){var a=b[3],c=b[4],d=b[5],h=b[6],k=b[7],f=b[8];return b[0]*(f*c-d*k)+b[1]*(-f*a+d*h)+b[2]*(k*a-c*h)},multiply:function(b,a,c){var d=a[0],h=a[1],k=a[2],f=a[3],
g=a[4],C=a[5],t=a[6],u=a[7];a=a[8];var n=c[0],i=c[1],j=c[2],l=c[3],m=c[4],v=c[5],O=c[6],p=c[7];c=c[8];b[0]=n*d+i*f+j*t;b[1]=n*h+i*g+j*u;b[2]=n*k+i*C+j*a;b[3]=l*d+m*f+v*t;b[4]=l*h+m*g+v*u;b[5]=l*k+m*C+v*a;b[6]=O*d+p*f+c*t;b[7]=O*h+p*g+c*u;b[8]=O*k+p*C+c*a;return b}};f.mul=f.multiply;f.translate=function(b,a,c){var d=a[0],h=a[1],k=a[2],f=a[3],g=a[4],C=a[5],t=a[6],u=a[7];a=a[8];var n=c[0];c=c[1];b[0]=d;b[1]=h;b[2]=k;b[3]=f;b[4]=g;b[5]=C;b[6]=n*d+c*f+t;b[7]=n*h+c*g+u;b[8]=n*k+c*C+a;return b};f.rotate=
function(b,a,c){var d=a[0],h=a[1],k=a[2],f=a[3],g=a[4],C=a[5],t=a[6],u=a[7];a=a[8];var n=Math.sin(c);c=Math.cos(c);b[0]=c*d+n*f;b[1]=c*h+n*g;b[2]=c*k+n*C;b[3]=c*f-n*d;b[4]=c*g-n*h;b[5]=c*C-n*k;b[6]=t;b[7]=u;b[8]=a;return b};f.scale=function(b,a,c){var d=c[0];c=c[1];b[0]=d*a[0];b[1]=d*a[1];b[2]=d*a[2];b[3]=c*a[3];b[4]=c*a[4];b[5]=c*a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b};f.fromMat2d=function(b,a){b[0]=a[0];b[1]=a[1];b[2]=0;b[3]=a[2];b[4]=a[3];b[5]=0;b[6]=a[4];b[7]=a[5];b[8]=1;return b};f.fromQuat=
function(b,a){var c=a[0],d=a[1],h=a[2],k=a[3],f=c+c,g=d+d,C=h+h,c=c*f,t=d*f,d=d*g,u=h*f,n=h*g,h=h*C,f=k*f,g=k*g,k=k*C;b[0]=1-d-h;b[3]=t-k;b[6]=u+g;b[1]=t+k;b[4]=1-c-h;b[7]=n-f;b[2]=u-g;b[5]=n+f;b[8]=1-c-d;return b};f.normalFromMat4=function(b,a){var c=a[0],d=a[1],h=a[2],k=a[3],f=a[4],g=a[5],C=a[6],t=a[7],u=a[8],n=a[9],i=a[10],j=a[11],l=a[12],m=a[13],v=a[14],p=a[15],r=c*g-d*f,s=c*C-h*f,x=c*t-k*f,y=d*C-h*g,w=d*t-k*g,L=h*t-k*C,H=u*m-n*l,I=u*v-i*l,u=u*p-j*l,J=n*v-i*m,n=n*p-j*m,i=i*p-j*v,j=r*i-s*n+x*J+
y*u-w*I+L*H;if(!j)return null;j=1/j;b[0]=(g*i-C*n+t*J)*j;b[1]=(C*u-f*i-t*I)*j;b[2]=(f*n-g*u+t*H)*j;b[3]=(h*n-d*i-k*J)*j;b[4]=(c*i-h*u+k*I)*j;b[5]=(d*u-c*n-k*H)*j;b[6]=(m*L-v*w+p*y)*j;b[7]=(v*x-l*L-p*s)*j;b[8]=(l*w-m*x+p*r)*j;return b};f.str=function(b){return"mat3("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+Math.pow(b[6],
2)+Math.pow(b[7],2)+Math.pow(b[8],2))};"undefined"!==typeof a&&(a.mat3=f);var w={create:function(){var b=new d(16);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},clone:function(b){var a=new d(16);a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},copy:function(b,a){b[0]=a[0];b[1]=a[1];b[2]=
a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},transpose:function(b,a){if(b===a){var c=a[1],d=a[2],h=a[3],k=a[6],f=a[7],g=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=d;b[9]=k;b[11]=a[14];b[12]=h;b[13]=f;b[14]=g}else b[0]=
a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b},invert:function(b,a){var c=a[0],d=a[1],h=a[2],k=a[3],f=a[4],g=a[5],i=a[6],t=a[7],u=a[8],n=a[9],j=a[10],l=a[11],m=a[12],p=a[13],v=a[14],r=a[15],s=c*g-d*f,w=c*i-h*f,x=c*t-k*f,y=d*i-h*g,B=d*t-k*g,L=h*t-k*i,H=u*p-n*m,I=u*v-j*m,J=u*r-l*m,K=n*v-j*p,D=n*r-l*p,M=j*r-l*v,G=s*M-w*D+x*K+y*J-B*I+L*H;if(!G)return null;G=1/G;b[0]=(g*M-i*
D+t*K)*G;b[1]=(h*D-d*M-k*K)*G;b[2]=(p*L-v*B+r*y)*G;b[3]=(j*B-n*L-l*y)*G;b[4]=(i*J-f*M-t*I)*G;b[5]=(c*M-h*J+k*I)*G;b[6]=(v*x-m*L-r*w)*G;b[7]=(u*L-j*x+l*w)*G;b[8]=(f*D-g*J+t*H)*G;b[9]=(d*J-c*D-k*H)*G;b[10]=(m*B-p*x+r*s)*G;b[11]=(n*x-u*B-l*s)*G;b[12]=(g*I-f*K-i*H)*G;b[13]=(c*K-d*I+h*H)*G;b[14]=(p*w-m*y-v*s)*G;b[15]=(u*y-n*w+j*s)*G;return b},adjoint:function(b,a){var c=a[0],d=a[1],h=a[2],k=a[3],f=a[4],g=a[5],i=a[6],t=a[7],j=a[8],n=a[9],l=a[10],m=a[11],p=a[12],r=a[13],v=a[14],s=a[15];b[0]=g*(l*s-m*v)-
n*(i*s-t*v)+r*(i*m-t*l);b[1]=-(d*(l*s-m*v)-n*(h*s-k*v)+r*(h*m-k*l));b[2]=d*(i*s-t*v)-g*(h*s-k*v)+r*(h*t-k*i);b[3]=-(d*(i*m-t*l)-g*(h*m-k*l)+n*(h*t-k*i));b[4]=-(f*(l*s-m*v)-j*(i*s-t*v)+p*(i*m-t*l));b[5]=c*(l*s-m*v)-j*(h*s-k*v)+p*(h*m-k*l);b[6]=-(c*(i*s-t*v)-f*(h*s-k*v)+p*(h*t-k*i));b[7]=c*(i*m-t*l)-f*(h*m-k*l)+j*(h*t-k*i);b[8]=f*(n*s-m*r)-j*(g*s-t*r)+p*(g*m-t*n);b[9]=-(c*(n*s-m*r)-j*(d*s-k*r)+p*(d*m-k*n));b[10]=c*(g*s-t*r)-f*(d*s-k*r)+p*(d*t-k*g);b[11]=-(c*(g*m-t*n)-f*(d*m-k*n)+j*(d*t-k*g));b[12]=
-(f*(n*v-l*r)-j*(g*v-i*r)+p*(g*l-i*n));b[13]=c*(n*v-l*r)-j*(d*v-h*r)+p*(d*l-h*n);b[14]=-(c*(g*v-i*r)-f*(d*v-h*r)+p*(d*i-h*g));b[15]=c*(g*l-i*n)-f*(d*l-h*n)+j*(d*i-h*g);return b},determinant:function(b){var a=b[0],c=b[1],d=b[2],h=b[3],k=b[4],f=b[5],g=b[6],i=b[7],j=b[8],l=b[9],n=b[10],m=b[11],p=b[12],r=b[13],s=b[14];b=b[15];return(a*f-c*k)*(n*b-m*s)-(a*g-d*k)*(l*b-m*r)+(a*i-h*k)*(l*s-n*r)+(c*g-d*f)*(j*b-m*p)-(c*i-h*f)*(j*s-n*p)+(d*i-h*g)*(j*r-l*p)},multiply:function(b,a,c){var d=a[0],h=a[1],k=a[2],
f=a[3],g=a[4],i=a[5],j=a[6],l=a[7],n=a[8],m=a[9],p=a[10],r=a[11],s=a[12],v=a[13],w=a[14];a=a[15];var z=c[0],A=c[1],x=c[2],y=c[3];b[0]=z*d+A*g+x*n+y*s;b[1]=z*h+A*i+x*m+y*v;b[2]=z*k+A*j+x*p+y*w;b[3]=z*f+A*l+x*r+y*a;z=c[4];A=c[5];x=c[6];y=c[7];b[4]=z*d+A*g+x*n+y*s;b[5]=z*h+A*i+x*m+y*v;b[6]=z*k+A*j+x*p+y*w;b[7]=z*f+A*l+x*r+y*a;z=c[8];A=c[9];x=c[10];y=c[11];b[8]=z*d+A*g+x*n+y*s;b[9]=z*h+A*i+x*m+y*v;b[10]=z*k+A*j+x*p+y*w;b[11]=z*f+A*l+x*r+y*a;z=c[12];A=c[13];x=c[14];y=c[15];b[12]=z*d+A*g+x*n+y*s;b[13]=
z*h+A*i+x*m+y*v;b[14]=z*k+A*j+x*p+y*w;b[15]=z*f+A*l+x*r+y*a;return b}};w.mul=w.multiply;w.translate=function(b,a,c){var d=c[0],h=c[1];c=c[2];var f,g,i,j,l,m,n,p,r,s,w,v;a===b?(b[12]=a[0]*d+a[4]*h+a[8]*c+a[12],b[13]=a[1]*d+a[5]*h+a[9]*c+a[13],b[14]=a[2]*d+a[6]*h+a[10]*c+a[14],b[15]=a[3]*d+a[7]*h+a[11]*c+a[15]):(f=a[0],g=a[1],i=a[2],j=a[3],l=a[4],m=a[5],n=a[6],p=a[7],r=a[8],s=a[9],w=a[10],v=a[11],b[0]=f,b[1]=g,b[2]=i,b[3]=j,b[4]=l,b[5]=m,b[6]=n,b[7]=p,b[8]=r,b[9]=s,b[10]=w,b[11]=v,b[12]=f*d+l*h+r*c+
a[12],b[13]=g*d+m*h+s*c+a[13],b[14]=i*d+n*h+w*c+a[14],b[15]=j*d+p*h+v*c+a[15]);return b};w.scale=function(b,a,c){var d=c[0],h=c[1];c=c[2];b[0]=a[0]*d;b[1]=a[1]*d;b[2]=a[2]*d;b[3]=a[3]*d;b[4]=a[4]*h;b[5]=a[5]*h;b[6]=a[6]*h;b[7]=a[7]*h;b[8]=a[8]*c;b[9]=a[9]*c;b[10]=a[10]*c;b[11]=a[11]*c;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};w.rotate=function(a,e,d,f){var h=f[0],g=f[1];f=f[2];var i=Math.sqrt(h*h+g*g+f*f),j,l,m,u,n,p,r,s,w,v,B,z,A,x,y,K,D,H,I,J;if(Math.abs(i)<c)return null;i=1/i;h*=
i;g*=i;f*=i;j=Math.sin(d);l=Math.cos(d);m=1-l;d=e[0];i=e[1];u=e[2];n=e[3];p=e[4];r=e[5];s=e[6];w=e[7];v=e[8];B=e[9];z=e[10];A=e[11];x=h*h*m+l;y=g*h*m+f*j;K=f*h*m-g*j;D=h*g*m-f*j;H=g*g*m+l;I=f*g*m+h*j;J=h*f*m+g*j;h=g*f*m-h*j;g=f*f*m+l;a[0]=d*x+p*y+v*K;a[1]=i*x+r*y+B*K;a[2]=u*x+s*y+z*K;a[3]=n*x+w*y+A*K;a[4]=d*D+p*H+v*I;a[5]=i*D+r*H+B*I;a[6]=u*D+s*H+z*I;a[7]=n*D+w*H+A*I;a[8]=d*J+p*h+v*g;a[9]=i*J+r*h+B*g;a[10]=u*J+s*h+z*g;a[11]=n*J+w*h+A*g;e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]);return a};
w.rotateX=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var h=c[4],g=c[5],i=c[6],j=c[7],m=c[8],l=c[9],p=c[10],n=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=h*d+m*f;a[5]=g*d+l*f;a[6]=i*d+p*f;a[7]=j*d+n*f;a[8]=m*d-h*f;a[9]=l*d-g*f;a[10]=p*d-i*f;a[11]=n*d-j*f;return a};w.rotateY=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var h=c[0],g=c[1],i=c[2],j=c[3],m=c[8],l=c[9],p=c[10],n=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],
a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=h*d-m*f;a[1]=g*d-l*f;a[2]=i*d-p*f;a[3]=j*d-n*f;a[8]=h*f+m*d;a[9]=g*f+l*d;a[10]=i*f+p*d;a[11]=j*f+n*d;return a};w.rotateZ=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var h=c[0],g=c[1],i=c[2],j=c[3],m=c[4],l=c[5],p=c[6],n=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=h*d+m*f;a[1]=g*d+l*f;a[2]=i*d+p*f;a[3]=j*d+n*f;a[4]=m*d-h*f;a[5]=l*d-g*f;a[6]=p*d-i*f;a[7]=n*d-j*f;return a};w.fromRotationTranslation=
function(a,c,d){var f=c[0],h=c[1],g=c[2],i=c[3],j=f+f,m=h+h,l=g+g;c=f*j;var p=f*m,f=f*l,n=h*m,h=h*l,g=g*l,j=i*j,m=i*m,i=i*l;a[0]=1-(n+g);a[1]=p+i;a[2]=f-m;a[3]=0;a[4]=p-i;a[5]=1-(c+g);a[6]=h+j;a[7]=0;a[8]=f+m;a[9]=h-j;a[10]=1-(c+n);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};w.fromQuat=function(a,c){var d=c[0],f=c[1],h=c[2],g=c[3],i=d+d,j=f+f,m=h+h,d=d*i,l=f*i,f=f*j,p=h*i,n=h*j,h=h*m,i=g*i,j=g*j,g=g*m;a[0]=1-f-h;a[1]=l+g;a[2]=p-j;a[3]=0;a[4]=l-g;a[5]=1-d-h;a[6]=n+i;a[7]=0;a[8]=p+j;
a[9]=n-i;a[10]=1-d-f;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};w.frustum=function(a,c,d,f,h,g,i){var j=1/(d-c),m=1/(h-f),l=1/(g-i);a[0]=2*g*j;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*m;a[6]=0;a[7]=0;a[8]=(d+c)*j;a[9]=(h+f)*m;a[10]=(i+g)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(i*g)*l;a[15]=0;return a};w.perspective=function(a,c,d,f,g){c=1/Math.tan(c/2);var k=1/(f-g);a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(g+f)*k;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*g*f*k;a[15]=0;
return a};w.ortho=function(a,c,d,f,g,k,i){var j=1/(c-d),m=1/(f-g),l=1/(k-i);a[0]=-2*j;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(c+d)*j;a[13]=(g+f)*m;a[14]=(i+k)*l;a[15]=1;return a};w.lookAt=function(a,e,d,f){var g,k,i,j,m,l,p,n,r=e[0],s=e[1];e=e[2];i=f[0];j=f[1];k=f[2];p=d[0];f=d[1];g=d[2];if(Math.abs(r-p)<c&&Math.abs(s-f)<c&&Math.abs(e-g)<c)return w.identity(a);d=r-p;f=s-f;p=e-g;n=1/Math.sqrt(d*d+f*f+p*p);d*=n;f*=n;p*=n;g=j*p-k*f;k=k*d-i*p;i=i*f-j*
d;(n=Math.sqrt(g*g+k*k+i*i))?(n=1/n,g*=n,k*=n,i*=n):i=k=g=0;j=f*i-p*k;m=p*g-d*i;l=d*k-f*g;(n=Math.sqrt(j*j+m*m+l*l))?(n=1/n,j*=n,m*=n,l*=n):l=m=j=0;a[0]=g;a[1]=j;a[2]=d;a[3]=0;a[4]=k;a[5]=m;a[6]=f;a[7]=0;a[8]=i;a[9]=l;a[10]=p;a[11]=0;a[12]=-(g*r+k*s+i*e);a[13]=-(j*r+m*s+l*e);a[14]=-(d*r+f*s+p*e);a[15]=1;return a};w.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};w.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof a&&(a.mat4=w);var p={create:function(){var a=new d(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},B=i.create(),K=i.fromValues(1,0,0),M=i.fromValues(0,1,0);p.rotationTo=
function(a,c,d){var f=i.dot(c,d);if(-0.999999>f)return i.cross(B,K,c),1E-6>i.length(B)&&i.cross(B,M,c),i.normalize(B,B),p.setAxisAngle(a,B,Math.PI),a;if(0.999999<f)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;i.cross(B,c,d);a[0]=B[0];a[1]=B[1];a[2]=B[2];a[3]=1+f;return p.normalize(a,a)};var D=f.create();p.setAxes=function(a,c,d,f){D[0]=d[0];D[3]=d[1];D[6]=d[2];D[1]=f[0];D[4]=f[1];D[7]=f[2];D[2]=-c[0];D[5]=-c[1];D[8]=-c[2];return p.normalize(a,p.fromMat3(a,D))};p.clone=j.clone;p.fromValues=j.fromValues;p.copy=
j.copy;p.set=j.set;p.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};p.setAxisAngle=function(a,c,d){d*=0.5;var f=Math.sin(d);a[0]=f*c[0];a[1]=f*c[1];a[2]=f*c[2];a[3]=Math.cos(d);return a};p.add=j.add;p.multiply=function(a,c,d){var f=c[0],g=c[1],k=c[2];c=c[3];var i=d[0],j=d[1],m=d[2];d=d[3];a[0]=f*d+c*i+g*m-k*j;a[1]=g*d+c*j+k*i-f*m;a[2]=k*d+c*m+f*j-g*i;a[3]=c*d-f*i-g*j-k*m;return a};p.mul=p.multiply;p.scale=j.scale;p.rotateX=function(a,c,d){d*=0.5;var f=c[0],g=c[1],i=c[2];c=c[3];var j=Math.sin(d);
d=Math.cos(d);a[0]=f*d+c*j;a[1]=g*d+i*j;a[2]=i*d-g*j;a[3]=c*d-f*j;return a};p.rotateY=function(a,c,d){d*=0.5;var f=c[0],g=c[1],i=c[2];c=c[3];var j=Math.sin(d);d=Math.cos(d);a[0]=f*d-i*j;a[1]=g*d+c*j;a[2]=i*d+f*j;a[3]=c*d-g*j;return a};p.rotateZ=function(a,c,d){d*=0.5;var f=c[0],g=c[1],i=c[2];c=c[3];var j=Math.sin(d);d=Math.cos(d);a[0]=f*d+g*j;a[1]=g*d-f*j;a[2]=i*d+c*j;a[3]=c*d-i*j;return a};p.calculateW=function(a,c){var d=c[0],f=c[1],g=c[2];a[0]=d;a[1]=f;a[2]=g;a[3]=Math.sqrt(Math.abs(1-d*d-f*f-
g*g));return a};p.dot=j.dot;p.lerp=j.lerp;p.slerp=function(a,c,d,f){var g=c[0],i=c[1],j=c[2];c=c[3];var m=d[0],l=d[1],p=d[2];d=d[3];var r,n,s;n=g*m+i*l+j*p+c*d;0>n&&(n=-n,m=-m,l=-l,p=-p,d=-d);1E-6<1-n?(r=Math.acos(n),s=Math.sin(r),n=Math.sin((1-f)*r)/s,f=Math.sin(f*r)/s):n=1-f;a[0]=n*g+f*m;a[1]=n*i+f*l;a[2]=n*j+f*p;a[3]=n*c+f*d;return a};p.invert=function(a,c){var d=c[0],f=c[1],g=c[2],i=c[3],j=d*d+f*f+g*g+i*i,j=j?1/j:0;a[0]=-d*j;a[1]=-f*j;a[2]=-g*j;a[3]=i*j;return a};p.conjugate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};p.length=j.length;p.len=p.length;p.squaredLength=j.squaredLength;p.sqrLen=p.squaredLength;p.normalize=j.normalize;p.fromMat3=function(a,c){var d=c[0]+c[4]+c[8];if(0<d)d=Math.sqrt(d+1),a[3]=0.5*d,d=0.5/d,a[0]=(c[5]-c[7])*d,a[1]=(c[6]-c[2])*d,a[2]=(c[1]-c[3])*d;else{var f=0;c[4]>c[0]&&(f=1);c[8]>c[3*f+f]&&(f=2);var g=(f+1)%3,i=(f+2)%3,d=Math.sqrt(c[3*f+f]-c[3*g+g]-c[3*i+i]+1);a[f]=0.5*d;d=0.5/d;a[3]=(c[3*g+i]-c[3*i+g])*d;a[g]=(c[3*g+f]+c[3*f+g])*d;a[i]=
(c[3*i+f]+c[3*f+i])*d}return a};p.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof a&&(a.quat=p)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e$$11){}glm=null;GLMJS_PREFIX="glm-js: ";
var GLMJSError=function(a,c){function d(d){this.name=a;Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=d;c&&c.apply(this,arguments)}d.prototype=Error();d.prototype.name=a;return d.prototype.constructor=d}("GLMJSError");
$GLM_extern=function(a,c){c=c||a;return function(){GLM[c]=GLM.$outer.functions[a]||GLM.$outer[a];if(!GLM[c])throw new GLMJSError("$GLM_extern: unresolved external symbol: "+a);GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+a+" "+typeof GLM[c]);return GLM[c].apply(this,arguments)}};
$GLM_reset_logging=function(a){if(a||"undefined"===typeof $GLM_log)$GLM_log=function(a,c){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(a){return GLM.$isGLMObject(a)||!isNaN(a)?GLM.to_string(a):a+""}))};if(a||"undefined"===typeof $GLM_console_log)$GLM_console_log=function(a,c){(console[a]||function(){}).apply(console,[].slice.call(arguments,1))};if(a||"undefined"===typeof $GLM_console_logger)$GLM_console_logger=function(a){return $GLM_console_log.bind($GLM_console_log,
a)};var c=$GLM_console_logger,d={};"debug,warn,info,error,log,write".replace(/\w+/g,function(a){d[a]=c(a)});"object"===typeof GLM&&GLM.$outer&&(GLM.$outer.console=d);return d};
GLM={$DEBUG:"undefined"!==typeof $GLM_DEBUG&&$GLM_DEBUG,version:"0.0.2",GLM_VERSION:95,$outer:{functions:{},intern:function(a,c){if(void 0===c&&"object"===typeof a)for(var d in a)GLM.$outer.intern(d,a[d]);else return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+a,c&&(c.name||typeof c)),GLM.$outer[a]=c},$import:function(a){GLM.$outer.intern(a.statics);GLM.$template.extend(GLM,GLM.$template.functions(a.functions),GLM.$template.operations(a.operations),GLM.$template.calculators(a.calculators));GLM.$init(a)},
console:$GLM_reset_logging(),quat_array_from_xyz:function(a){var c=glm.quat();c["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));c["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));c["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));return c.elements},quat_array_from_zyx:function(a){var c=glm.quat();c["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));c["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));c["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));return c.elements},_vec3_eulerAngles:function(a){var c=this.mat4_array_from_quat(a);a=c[0];
var d=c[4],g=c[1],f=c[5],l=c[2],m=c[6],c=c[10],i=new glm.vec3;i.y=Math.asin(-glm._clamp(l,-1,1));0.99999>Math.abs(l)?(i.x=Math.atan2(m,c),i.z=Math.atan2(g,a)):(i.x=0,i.z=Math.atan2(-d,f));return i}},$extern:$GLM_extern,$log:$GLM_log,GLMJSError:GLMJSError,_radians:function(a){return a*Math.PI/180},_degrees:function(a){return 180*a/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),
mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),angleAxis:$GLM_extern("angleAxis"),rotate:$GLM_extern("rotate"),scale:$GLM_extern("scale"),translate:$GLM_extern("translate"),perspective:function(a,c,d,g){return GLM.$outer.mat4_perspective(a,c,d,g)},eulerAngles:function(a){return GLM.$outer.vec3_eulerAngles(a)},angle:function(a){return 2*Math.acos(a.w)},axis:function(a){var c=1-a.w*a.w;if(0>=c)return glm.vec3(0,0,1);c=1/Math.sqrt(c);return glm.vec3(a.x*c,a.y*c,a.z*c)},$from_ptr:function(a,c){return new a(new Float32Array(new Float32Array(c.buffer||
c,0,a.componentLength)))},make_vec2:function(a){return GLM.$from_ptr(GLM.vec2,a)},make_vec3:function(a){return GLM.$from_ptr(GLM.vec3,a)},make_vec4:function(a){return GLM.$from_ptr(GLM.vec4,a)},make_quat:function(a){return GLM.$from_ptr(GLM.quat,a)},make_mat3:function(a){return GLM.$from_ptr(GLM.mat3,a)},make_mat4:function(a){return GLM.$from_ptr(GLM.mat4,a)},diagonal4x4:function(a){if("vec4"!==a.$type)throw new GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+type.o]);a=a.elements;
return new GLM.mat4([a[0],0,0,0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]])},toMat4:function(a){return new GLM.mat4(a)},FAITHFUL:!0,to_string:function(a,c){try{var d=a.$type||typeof a;if(!GLM[d])throw new GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+d,a]);return GLM.FAITHFUL?GLM.$to_string(a,c).replace(/[\t\n]/g,""):GLM.$to_string(a,c)}catch(g){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",d,a+"",g),g+""}},$sizeof:function(a){return a.BYTES_PER_ELEMENT},$types:[],$isGLMConstructor:function(a){return!!(a&&
a.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(a){return a instanceof GLM.$GLMBaseType&&a.constructor||"string"===typeof a&&GLM[a]},$isGLMObject:function(a){return a instanceof GLM.$GLMBaseType&&a.$type},$to_array:function(a){return[].slice.call(a.elements)},$to_json:function(a,c,d){this instanceof GLM.$GLMBaseType&&(d=c,c=a,a=this);return JSON.stringify(GLM.$to_object(a),c,d)},$inspect:function(a){this instanceof GLM.$GLMBaseType&&(a=this);return GLM.$to_json(a,null,2)},_clamp:function(a,
c,d){return a<c?c:a>d?d:a},max:function(a,c){return Math.max(a,c)},min:function(a,c){return Math.min(a,c)},_sign:function(a){return 0<a?1:0>a?-1:+a},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toFixedString:function(a,c,d,g){g=void 0===g?GLM.FIXEDPRECISION:g;if(!d||!d.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof d+")");try{var f="";d.map(function(a){a=c[f=a];if(!a.toFixed)throw Error("!toFixed in w");return a.toFixed(0)})}catch(l){throw GLM.$DEBUG&&GLM.$outer.console.error("$toFixedString error",
a,typeof c,Object.prototype.toString.call(c),f),GLM.$DEBUG&&glm.$log("$toFixedString error",a,typeof c,Object.prototype.toString.call(c),f),new GLMJSError(l);}d=d.map(function(a){return c[a].toFixed(g)});return a+"("+d.join(", ")+")"}};GLM.sign=Math.sign||GLM._sign;
GLM.$GLMBaseType=function(){function a(a,d){var g=a.$||{};this.$type=d;this.$type_name=g.name||"<"+d+">";g.components&&(this.$components=g.components[0]);this.$len=this.components=a.componentLength;this.constructor=a;this.byteLength=a.BYTES_PER_ELEMENT;this.repr=function(){return"function $GLMBaseType<"+d+">(){ [ GLMType@"+GLM.$template.$_module_stamp+" ] }"};GLM.$types.push(d)}a.prototype={clone:function(){return new this.constructor(this)},toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)}};
Object.defineProperty(a.prototype,"address",{get:function(){var a=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-a.length)+a}});return a}();
var GLM_template=GLM.$template={_genArgError:function(a,c,d,g){~g.indexOf(void 0)&&(g=g.slice(0,g.indexOf(void 0)));var f=RegExp.prototype.test.bind(/^[^$_]/);return new GLMJSError("unsupported argtype to "+c+""+a.$sig+": [typ="+d+"] :: got arg types: "+g.map(GLM_template.jstypes.get)+" // supported types: "+Object.keys(a).filter(f).join("||"))},jstypes:{get:function(a){return null===a?"null":void 0===a?"undefined":a.$type||GLM_template.jstypes[typeof a]||GLM_template.jstypes[a+""]||"<unknown "+[typeof a,
a]+">"},"0":"float",number:"float",string:"string","[object Float32Array]":"Float32Array"},_add_overrides:function(a,c){for(var d in c)c[d]&&GLM[d].override(a,c[d])},_add_inline_override:function(a,c,d){this[c]=eval(GLM_template._traceable("glm_"+a+"_"+c,d))();return this},"<T>":function(a,c){var d=GLM_template.jstypes;a.$sig="<T>";return this.slingshot({$template:a,override:this._add_inline_override.bind(a,c)},eval(this._traceable("glm_"+c,function(g){this instanceof GLM.$GLMBaseType&&(g=this);var f=
[g&&g.$type||d[typeof g]||"null"];if(!a[f])throw GLM_template._genArgError(a,c,f,[g]);return a[f](g)}))())},"<T,...>":function(a,c){var d=GLM_template.jstypes;a.$sig="<T,...>";return this.slingshot({$template:a,override:this._add_inline_override.bind(a,c)},eval(this._traceable("glm_"+c,function(g){var f=[].slice.call(arguments);this instanceof GLM.$GLMBaseType&&f.unshift(g=this);var l=[g&&g.$type||d[typeof g]||"null"];if(!a[l])throw GLM_template._genArgError(a,c,l,f);return a[l].apply(a,f)}))())},
"<T,V,n>":function(a,c){var d=GLM_template.jstypes;a.$sig="<T,V,n>";return this.slingshot({$template:a,override:this._add_inline_override.bind(a,c)},eval(this._traceable("glm_"+c,function(g,f,l){this instanceof GLM.$GLMBaseType&&(l=f,f=g,g=this);var m=[g&&g.$type||d[typeof g]||d[g+""]||"<unknown "+g+">",f&&f.$type||d[typeof f]||d[f+""]||"<unknown "+f+">"];if(!a[m])throw GLM_template._genArgError(a,c,m,[g,f,l]);if("number"!==typeof l)throw new GLMJSError(c+a.$sig+": unsupported n type: "+[typeof l,
l]);return a[m](g,f,l)}))())},"<T,V>":function(a,c){var d=GLM_template.jstypes;a.$sig="<T,V>";return this.slingshot({$template:a,override:this._add_inline_override.bind(a,c)},eval(this._traceable("glm_"+c,function(g,f,l,m,i){this instanceof GLM.$GLMBaseType&&(i=m,m=l,l=f,f=g,g=this);var r=[g&&g.$type||d[typeof g],f&&f.$type||d[typeof f]||d[f+""]||Array.isArray(f)&&"array"+f.length+""||""+f+""];if(!a[r])throw GLM_template._genArgError(a,c,r,[g,f,l,m,i]);return a[r](g,f,l,m,i)}))())},override:function(a,
c,d,g){GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",a,c,d.$op?'$op: ["'+d.$op+'"]':"");if(!g)throw Error("unspecified target group "+g+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var f=g[c];if(f&&f.$op!==d.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+[f.$op,"!=",d.$op].join(" ")+'"  p='+[c,f.$op,d.$op,"||"+Object.keys(f.$template).join("||")]);var l=GLM_template[a](GLM_template.deNify(d,c),c);l.$op=d.$op;if(f){var m=[],i;for(i in l.$template)i in
f.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+i+" overlayed"),f.$template[i]=l.$template[i]);Object.keys(f.$template).forEach(function(a){a in l.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+a+" carried-forward"),m.push(a))});GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+Object.keys(g[c].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return!~m.indexOf(a)?"*"+a+"*":
a}).join(" | "))}else g[c]=l,GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+Object.keys(g[c].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return"*"+a+"*"}).join(" | "));return g},_override:function(a,c,d){for(var g in c)this.override(a,g,c[g],d);return d},slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},extend:function(a,c){[].slice.call(arguments,1).forEach(function(c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g])});
return a},operations:function(a){return this._override("<T,V>",a,GLM.$outer.functions)},calculators:function(a){return this._override("<T>",a,GLM.$outer.functions)},varargs_functions:function(a){return this._override("<T,...>",a,GLM.$outer.functions)},functions:function(a){return this._override("<T,V,n>",a,GLM.$outer.functions)},_tojsname:function(a){return(a||"_").replace(/[^$a-zA-Z0-9_]/g,"_")},_traceable:function(a,c){if("function"!==typeof c)throw new GLMJSError("_traceable expects tidy function as first arg "+
c);if(!a)throw new GLMJSError("_traceable expects hint or what's the point"+[c,a]);a=this._tojsname(a||"_traceable");c+="";if(2===c.split(/^\s*function\b/).length)c=(function(){SRC;return HINT}+"").replace("HINT",a).replace("SRC",c.replace(/^function\s*\(/,"function "+a+"("));else throw new GLMJSError("expected singular anonymous function: "+[c,a]);return"1,"+c},deNify:function(a,c){var d={vec:[2,3,4],mat:[3,4]},g=this._tojsname.bind(this),f;for(f in a){var l=!1;f.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,
function(m,i){l=!0;var r=a[f];delete a[f];d[i.toLowerCase()].forEach(function(d){var i=f.replace(/<N[*]N>/g,d*d).replace(/<N>/g,d);if(!(i in a)){var m=g("glm_"+c+"_"+i);a[i]=(new Function("","return "+(r+"").replace(/^function\s*\(/,"function "+m+"(").replace(/N[*]N/g,d*d).replace(/N/g,d)))()}})}.bind(this));!l&&("function"===typeof a[f]&&!a[f].name)&&(GLM.$DEBUG&&GLM.$outer.console.debug("naming "+g(c+"_"+f)),a[f]=eval(this._traceable("glm_"+c+"_"+f,a[f]))())}return a},$_module_stamp:+new Date,GLMType:function(a,
c){var d=c.identity.length;Object.keys(c).filter(function(a){return"function"===typeof c[a]&&!c[a].name}).map(function(d){var g=a+"_"+d;GLM.$DEBUG&&GLM.$outer.console.debug("naming $."+d+" == "+g,this._traceable(g,c[d]));c[d]=eval(this._traceable("glm_"+g,c[d]))()}.bind(this));var g=eval(this._traceable("glm_"+a+"$class",function(f){var l=typeof f+arguments.length,m=c[l];if(!m)throw new GLMJSError("no template found for "+a+".$."+l);if(this instanceof g){if(f instanceof Float32Array){if(f.length>
d)throw glm.$outer.console.error(a+" elements size mismatch: "+["wanted:"+d,"handed:"+f.length]),l=f.subarray(0,d),Error(a+" elements size mismatch: "+["wanted:"+d,"handed:"+f.length,,"correctable?:"+l.length]);elements=f}else(elements=new Float32Array(d)).set(m.apply(c,arguments));Object.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:elements})}else return new g(m.apply(c,arguments))}))();c.components=c.components?c.components.map(function(a){return"string"===typeof a?a.split(""):
a}):[];g.$=c;g.componentLength=d;g.BYTES_PER_ELEMENT=d*Float32Array.BYTES_PER_ELEMENT;g.prototype=new GLM.$GLMBaseType(g,a);return g}};
GLM.$template.functions({mix:{"float,float":function(a,c,d){return c*d+a*(1-d)},"vec<N>,vec<N>":function(a,c,d){if(void 0===d)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");a=glm.$to_array(a);c=glm.$to_array(c);var g=1-d;return new glm.vecN(a.map(function(a,l){return c[l]*d+a*g}))}},clamp:{"float,float":function(a,c,d){return GLM._clamp(a,c,d)},"vec<N>,float":function(a,c,d){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._clamp(a,c,d)}))}}});
GLM.$template.extend(GLM,GLM.$template.calculators({degrees:{"float":function(a){return GLM._degrees(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._degrees))}},radians:{"float":function(a){return GLM._radians(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._radians))}},$to_object:{vec2:function(a){return{x:a.x,y:a.y}},vec3:function(a){return{x:a.x,y:a.y,z:a.z}},vec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},uvec4:function(a){return{x:a.x,y:a.y,z:a.z,
w:a.w}},quat:function(a){return{w:a.w,x:a.x,y:a.y,z:a.z}},mat3:function(a){return{"0":this.vec3(a[0]),1:this.vec3(a[1]),2:this.vec3(a[2])}},mat4:function(a){return{"0":this.vec4(a[0]),1:this.vec4(a[1]),2:this.vec4(a[2]),3:this.vec4(a[3])}}},$from_glsl:{string:function(a){var c;a.replace(/^(\w+)\(([-.0-9ef, ]+)\)$/,function(a,g,f){c=glm[g].apply(glm,f.split(",").map(parseFloat))});return c}}}),GLM.$template.varargs_functions({$to_glsl:{"vec<N>":function(a){for(var c=GLM.$to_array(a);c.length&&c[c.length-
2]===c[c.length-1];)c.pop();return a.$type+"("+c+")"},uvec4:function(a){return this.vec4(a)},quat:function(a){return 0===a.x+a.y+a.z?"quat("+a.w+")":"quat("+GLM.$to_array(a)+")"},"mat<N>":function(a){a=GLM.$to_array(a);return a.reduce(function(a,d){return a+d},0)===a[0]*N?"matN("+a[0]+")":"matN("+a+")"}}}));
GLM.$template.operations({rotate:{"float,vec3":function(a,c){return GLM.$outer.mat4_angleAxis(a,c)},"mat4,float":function(a,c,d){return a.mul(GLM.$outer.mat4_angleAxis(c,d))}},scale:{"mat4,vec3":function(a,c){return a.mul(GLM.$outer.mat4_scale(c))},"vec3,undefined":function(a){return GLM.$outer.mat4_scale(a)}},translate:{"mat4,vec3":function(a,c){return a.mul(GLM.$outer.mat4_translation(c))},"vec3,undefined":function(a){return GLM.$outer.mat4_translation(a)}},angleAxis:{"float,vec3":function(a,c){return GLM.$outer.quat_angleAxis(a,
c)},"float,float":function(a,c,d,g){return GLM.$outer.quat_angleAxis(a,glm.vec3(c,d,g))}}});
GLM.$to_string=GLM.$template.varargs_functions({$to_string:{"float":function(a,c){return GLM.$toFixedString("float",{value:a},["value"],c)},string:function(a){return a},"vec<N>":function(a,c){return GLM.$toFixedString(a.$type_name,a,a.$components,c)},uvec4:function(a){return a.$type_name+"("+glm.$to_array(a)+")"},"mat<N>":function(a,c){var d=[0,1,2,3].slice(0,N).map(function(c){return a[c]}).map(function(a){return GLM.$toFixedString("\t",a,a.$components,c)});return a.$type_name+"(\n"+d.join(", \n")+
"\n)"},quat:function(a,c){a=GLM.degrees(GLM.eulerAngles(a));return GLM.$toFixedString("<quat>"+a.$type_name,a,["x","y","z"],c)}}}).$to_string;
GLM.$template.operations({copy:{$op:"=","vec<N>,vec<N>":function(a,c){a.elements.set(c.elements);return a},"vec<N>,array<N>":function(a,c){a.elements.set(c);return a},"quat,quat":function(a,c){a.elements.set(c.elements);return a},"mat<N>,mat<N>":function(a,c){a.elements.set(c.elements);return a},"mat<N>,array<N>":function(a,c){c=c.reduce(function(a,c){if(!a.concat)throw new GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return a.concat(c)});if(c===N)throw new GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");
return a["="](c)},"mat<N>,array<N*N>":function(a,c){a.elements.set(c);return a},"mat4,array9":function(a,c){a.elements.set((new glm.mat4(c)).elements);return a}},sub:{$op:"-","vec<N>,vec<N>":function(a,c){return new glm.vecN(glm.$to_array(a).map(function(a,g){return a-c[g]}))}},sub_eq:{$op:"-=","vec<N>,vec<N>":function(a,c){glm.$to_array(a).map(function(d,g){return a.elements[g]=d-c[g]});return a}},add:{$op:"+","vec<N>,vec<N>":function(a,c){return new glm.vecN(glm.$to_array(a).map(function(a,g){return a+
c[g]}))}},add_eq:{$op:"+=","vec<N>,vec<N>":function(a,c){glm.$to_array(a).map(function(d,g){return a.elements[g]=d+c[g]});return a}},div:{$op:"/","vec<N>,float":function(a,c){return new glm.vecN(glm.$to_array(a).map(function(a){return a/c}))}},div_eq:{$op:"/=","vec<N>,float":function(a,c){for(var d=0;d<N;d++)a.elements[d]/=c;return a}},eql:{$op:"==",$eq:function(a,c){return c.elements.length===glm.$to_array(a).filter(function(a,g){return a===c.elements[g]}).length},"vec<N>,vec<N>":function(a,c){return this.$eq(a,
c)},"mat<N>,mat<N>":function(a,c){return this.$eq(a,c)},"quat,quat":function(a,c){return this.$eq(a,c)},"uvec4,uvec4":function(a,c){return this.$eq(a,c)}}});GLM.string={$type_name:"string",$:{}};GLM.number={$type_name:"float",$:{}};
GLM.vec2=GLM_template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},number1:function(a){return[a,a]},number2:function(a,c){return[a,c]},object1:function(a){switch(a.length){case 4:case 3:case 2:return[a[0],a[1]];default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+a);return[a.x,a.y]}}throw new GLMJSError("unrecognized object passed to GLM.vec2: "+a);}});
GLM.vec3=GLM_template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(a){return[a,a,a]},number2:function(a,c){return[a,c,c]},number3:function(a,c,d){return[a,c,d]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]];case 2:return[a[0],a[1],a[1]];default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+a);return[a.x,
a.y,a.z]}}throw new GLMJSError("unrecognized object passed to GLM.vec3: "+a);},object2:function(a,c){if(a instanceof GLM.vec2)return[a.x,a.y,c];throw new GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[a,c]);}});
GLM.vec4=GLM_template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},number1:function(a){return[a,a,a,a]},number2:function(a,c){return[a,c,c,c]},number3:function(a,c,d){return[a,c,d,d]},number4:function(a,c,d,g){return[a,c,d,g]},object1:function(a){if(a)switch(a.length){case 4:return[a[0],a[1],a[2],a[3]];case 3:return[a[0],a[1],a[2],a[2]];case 2:return[a[0],a[1],a[1],a[1]];default:if("w"in a&&"x"in a){if(typeof a.x!==typeof a.w)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+
a);return[a.x,a.y,a.z,a.w]}}throw new GLMJSError("unrecognized object passed to GLM.vec4: "+[a,a&&a.$type]);},object2:function(a,c){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,c];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[a,c]);},object3:function(a,c,d){if(a instanceof GLM.vec2)return[a.x,a.y,c,d];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[a,c,d]);}});
GLM.uvec4=GLM_template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],_clamp:function(a){return~~glm._clamp(a,0,Infinity)},undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a,a]},number2:function(a,c){a=this._clamp(a);c=this._clamp(c);return[a,c,c,c]},number3:function(a,c,d){a=this._clamp(a);c=this._clamp(c);d=this._clamp(d);return[a,c,d,d]},number4:function(a,c,d,g){return[a,c,d,g].map(this._clamp)},object1:function(a){if(a)switch(a.length){case 4:return[a[0],
a[1],a[2],a[3]].map(this._clamp);case 3:return[a[0],a[1],a[2],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1],a[1]].map(this._clamp);default:if("w"in a&&"x"in a)return[a.x,a.y,a.z,a.w].map(this._clamp)}throw new GLMJSError("unrecognized object passed to GLM.uvec4: "+[a,a&&a.$type]);},object2:function(a,c){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,c].map(this._clamp);throw new GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+[a,c]);}});
GLM.mat3=GLM_template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(a){return 1===a?this.identity:[a,0,0,0,a,0,0,0,a]},number9:function(){return arguments},object1:function(a){if(a){var c=a.elements||a;if(16===c.length)return[c[0],c[1],c[2],c[4],c[5],c[6],c[8],c[9],c[10]];if(9===c.length)return c}throw new GLMJSError("unrecognized object passed to GLM.mat3: "+a);},object3:function(a,c,d){return[a,c,d].map(glm.$to_array).reduce(function(a,
c){return a.concat(c)})}});
GLM.mat4=GLM_template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(){return arguments},number1:function(a){return 1===a?this.identity:[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,a]},object1:function(a){var c;if(a){if(a instanceof GLM.quat)return GLM.$outer.mat4_array_from_quat(a);c=a.elements||a;if(9===c.length)return[c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1];if(4===c.length&&c[0]&&4===c[0].length)return c[0].concat(c[1],
c[2],c[3]);if(16===c.length)return c}throw new GLMJSError("unrecognized object passed to GLM.mat4: "+[a,c&&c.length]);},object4:function(a,c,d,g){return[a,c,d,g].map(glm.$to_array).reduce(function(a,c){return a.concat(c)})}});
GLM.quat=GLM_template.GLMType("quat",{identity:[0,0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(a){if(1!==a)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(a,c,d,g){return[c,d,g,a]},object1:function(a){if(a){if(a instanceof GLM.mat4)return GLM.$outer.quat_array_from_mat4(a);if(4===a.length)return[a[0],a[1],a[2],a[3]];if(a instanceof GLM.quat)return[a.x,a.y,a.z,a.w];if(a instanceof GLM.vec3)return GLM.$outer.quat_array_from_zyx(a);
if("w"in a&&"x"in a)return[a.x,a.y,a.z,a.w]}throw new GLMJSError("unrecognized object passed to GLM.quat.object1: "+[a,a&&a.$type,typeof a,a&&a.constructor]);}});
(function(){var a=function(a,c,f){var l=[0,1,2,3].map(function(a){return{enumerable:f,get:function(){return this.elements[a]},set:function(c){this.elements[a]=c}}});c.forEach(function(c,f){Object.defineProperty(a.prototype,c,l[f])});if(isNaN(c[0])&&!/^_/.test(c[0])){var m={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[c.join("")];if(m)for(var i in m)(function(c,f,g,i){Object.defineProperty(a.prototype,c,{enumerable:!1,get:function(){return new GLM[f](this.elements.subarray(0*g+i,1*g+i))},set:function(a){return(new GLM[f](this.elements.subarray(0*
g+i,1*g+i)))["="](a)}})})(i,a.prototype.$type.replace(/[1-9]$/,i.length),i.length,m[i]);do(function(c,f,g){Object.defineProperty(a.prototype,c,{enumerable:!1,get:function(){return new GLM[f](this.elements.subarray(0*g,1*g))},set:function(a){return(new GLM[f](this.elements.subarray(0*g,1*g)))["="](a)}})})(c.join(""),a.prototype.$type.replace(/[1-9]$/,c.length),c.length);while(c[1]!=c.pop())}};a(GLM.vec2,["x","y"],!0);a(GLM.vec3,["x","y","z"],!0);a(GLM.vec3,["r","g","b"]);a(GLM.vec4,["x","y","z","w"],
!0);a(GLM.vec4,["r","g","b","a"]);a(GLM.quat,["x","y","z","w"],!0);a(GLM.uvec4,["x","y","z","w"],!0);a(GLM.uvec4,["0","1","2","3"]);Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});[2,3,4].forEach(function(c){c=GLM["vec"+c];a(c,c.$.identity.map(function(a,c){return c}))});var c=Float32Array.BYTES_PER_ELEMENT;GLM.$partition=function(a,g,f,l){if(void 0===f)throw new GLMJSError("nrows is undefined");var m=g.$.identity.length;f=f||m;for(var i=function(a){GLM.$DEBUG&&
GLM.$outer.console.debug("CACHEDBG: "+a)},r=c*m,j=0;j<f;j++)(function(c){var f=c*r,j=l&&l+c,B=c*m;Object.defineProperty(a,c,{configurable:!0,enumerable:!0,set:function(f){if(f instanceof g)this.elements.set(f.elements,B);else if(f&&f.length===m)this.elements.set(f,B);else throw new GLMJSError("unsupported argtype to "+(a&&a.$type)+"["+c+"] setter: "+[typeof f,f]);},get:function(){if(l){if(this[j])return c||i("cache hit "+j),this[j];c||i("cache miss "+j)}var a,d=new g(a=new Float32Array(this.elements.buffer,
this.elements.byteOffset+f,m));if(d.elements!==a)throw new GLMJSError("v.elements !== t");l&&Object.defineProperty(this,j,{configurable:!0,enumerable:!1,value:d});return d}})})(j)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();GLM.$dumpTypes=function(a){GLM.$types.forEach(function(c){GLM[c].componentLength&&a("GLM."+c,JSON.stringify({"#type":GLM[c].prototype.$type_name,"#floats":GLM[c].componentLength,"#bytes":GLM[c].BYTES_PER_ELEMENT}))})};
GLM.$init=function(a){a.prefix&&(GLMJS_PREFIX=a.prefix);var c=a.log||function(){};try{c("GLM-js: ENV: "+_ENV._VERSION)}catch(d){}c("GLM-JS: initializing: "+JSON.stringify(a,0,2));c(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));GLM.$outer.vec3_eulerAngles=GLM.$outer.vec3_eulerAngles||GLM.$outer._vec3_eulerAngles;GLM.$symbols=[];for(var g in GLM)"function"===typeof GLM[g]&&/^[a-z]/.test(g)&&GLM.$symbols.push(g);GLM.$types.forEach(function(a){var c=GLM[a].prototype.$type,d;for(d in GLM.$outer.functions){var g=
GLM.$outer.functions[d];g.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+c+"> "+d+" / "+g.$op),GLM[a].prototype[d]=g,GLM[a].prototype[g.$op]=g)}});c("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+a.vendor_name+" vendor_version="+a.vendor_version);glm.vendor=a};
GLM.using_namespace=function(a){GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!");var c=GLM.$symbols,d=[],g=[],f=[],l=[];eval(c.map(function(a,c){return"GLM.using_namespace['"+a+"'] = before["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+d.length);c.map(function(a){var c="GLM.using_namespace['"+a+"']=undefined;delete GLM.using_namespace['"+a+"'];";try{f.push(a+"=GLM.using_namespace['"+
a+"'];"+c)}catch(d){f.push(a+"=undefined;delete "+a+";"+c)}g.push(a+"=GLM."+a+";")});eval(g.join("\n"));a=a();eval(f.join("\n"));eval(c.map(function(a,c){return"after["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+l.length);if(d.length!==l.length)throw Error(JSON.stringify({before:d,after:l,usn:Object.keys(GLM.using_namespace)}));return a};try{module.exports=GLM}catch(e$$17){}GLMAT.mat4.exists;glm=GLM;
var DLL={_version:"0.0.1",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix",statics:{mat4_perspective:function(a,c,d,g){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),a,c,d,g))},mat4_angleAxis:function(a,c){var d=GLMAT.quat.setAxisAngle(new Float32Array(4),c,a);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),d))},quat_angleAxis:function(a,c){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),
c,a))},mat4_translation:function(a){var c=new glm.mat4;GLMAT.mat4.translate(c.elements,c.elements,a.elements);return c},mat4_scale:function(a){var c=new glm.mat4;GLMAT.mat4.scale(c.elements,c.elements,a.elements);return c},vec3_eulerAngles:function(a){var c=new Float32Array(16);GLMAT.mat4.fromQuat(c,a.elements);a=c[0];var d=c[4],g=c[1],f=c[5],l=c[2],m=c[6],c=c[10],i=new glm.vec3;i.y=Math.asin(-glm.clamp(l,-1,1));0.99999>Math.abs(l)?(i.x=Math.atan2(m,c),i.z=Math.atan2(g,a)):(i.x=0,i.z=Math.atan2(-d,
f));return i},mat4_array_from_quat:function(a){return GLMAT.mat4.fromQuat(new Float32Array(16),a.elements)},quat_array_from_mat4:function(a){a=GLMAT.mat3.fromMat4(new Float32Array(9),a.elements);return GLMAT.quat.fromMat3(new Float32Array(4),a)}},operations:{mul:{$op:"*","quat,vec3":function(a,c){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),c.elements,a.elements))},"vec3,quat":function(a,c){return this["quat,vec3"](c,a)},"vec4,quat":function(a,c){return new glm.vec4(this["quat,vec3"](c,
a),1)},"vec<N>,float":function(a,c){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),a.elements,c))},"mat4,vec4":function(a,c){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),c.elements,a.elements))},"mat<N>,mat<N>":function(a,c){return new glm.matN(GLMAT.matN.mul(new Float32Array(N*N),a.elements,c.elements))},"quat,quat":function(a,c){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),a.elements,c.elements))}},mul_eq:{$op:"*=","mat<N>,mat<N>":function(a,c){GLMAT.matN.multiply(a.elements,
a.elements,c.elements);return a},"vec<N>,float":function(a,c){return GLMAT.vecN.scale(a,a,c)},"quat,quat":function(a,c){GLMAT.quat.multiply(a.elements,a.elements,c.elements);return a}}},functions:{mix:{"quat,quat":function(a,c,d){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),a.elements,c.elements,d))}}},calculators:{normalize:{"vec<N>":function(a){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),a))},quat:function(a){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),
a.elements))}},length:{quat:function(a){return GLMAT.quat.length(a.elements)},"vec<N>":function(a){return GLMAT.vecN.length(a.elements)}},length2:{quat:function(a){return GLMAT.quat.squaredLength(a.elements)},"vec<N>":function(a){return GLMAT.vecN.squaredLength(a.elements)}},inverse:{quat:function(a){return new glm.quat(GLMAT.quat.invert(new Float32Array(4),a.elements))},mat4:function(a){return new glm.mat4(GLMAT.mat4.invert(new Float32Array(16),a.elements))}},transpose:{mat4:function(a){return new glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),
a.elements))}}}};glm.$outer.$import(DLL);try{module.exports=glm}catch(e$$18){};
