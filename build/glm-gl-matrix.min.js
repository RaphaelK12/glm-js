var GLMAT={};GLMAT_VERSION="2.2.2";
(function(b){b.VERSION=GLMAT_VERSION;if(!d)var d=1E-6;if(!g)var g="undefined"!==typeof Float32Array?Float32Array:Array;if(!h)var h=Math.random;var f={setMatrixArrayType:function(a){g=a}};"undefined"!==typeof b&&(b.glMatrix=f);var k=Math.PI/180;f.toRadian=function(a){return a*k};f={create:function(){var a=new g(2);a[0]=0;a[1]=0;return a},clone:function(a){var c=new g(2);c[0]=a[0];c[1]=a[1];return c},fromValues:function(a,c){var e=new g(2);e[0]=a;e[1]=c;return e},copy:function(a,c){a[0]=c[0];a[1]=c[1];
return a},set:function(a,c,e){a[0]=c;a[1]=e;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];return a}};f.sub=f.subtract;f.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];return a};f.mul=f.multiply;f.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];return a};f.div=f.divide;f.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);return a};f.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],
e[1]);return a};f.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;return a};f.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;return a};f.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1];return Math.sqrt(e*e+b*b)};f.dist=f.distance;f.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1];return e*e+b*b};f.sqrDist=f.squaredDistance;f.length=function(a){var c=a[0];a=a[1];return Math.sqrt(c*c+a*a)};f.len=f.length;f.squaredLength=function(a){var c=a[0];a=a[1];return c*c+a*a};f.sqrLen=
f.squaredLength;f.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];return a};f.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];return a};f.normalize=function(a,c){var e=c[0],b=c[1],e=e*e+b*b;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e);return a};f.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]};f.cross=function(a,c,e){c=c[0]*e[1]-c[1]*e[0];a[0]=a[1]=0;a[2]=c;return a};f.lerp=function(a,c,e,b){var s=c[0];c=c[1];a[0]=s+b*(e[0]-s);a[1]=c+b*(e[1]-c);return a};f.random=function(a,c){c=c||1;var e=2*h()*Math.PI;
a[0]=Math.cos(e)*c;a[1]=Math.sin(e)*c;return a};f.transformMat2=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[2]*c;a[1]=e[1]*b+e[3]*c;return a};f.transformMat2d=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[2]*c+e[4];a[1]=e[1]*b+e[3]*c+e[5];return a};f.transformMat3=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[3]*c+e[6];a[1]=e[1]*b+e[4]*c+e[7];return a};f.transformMat4=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[4]*c+e[12];a[1]=e[1]*b+e[5]*c+e[13];return a};var q=f.create();f.forEach=function(a,
c,e,b,s,d){c||(c=2);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)q[0]=a[e],q[1]=a[e+1],s(q,q,d),a[e]=q[0],a[e+1]=q[1];return a};f.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};"undefined"!==typeof b&&(b.vec2=f);var i={create:function(){var a=new g(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var c=new g(3);c[0]=a[0];c[1]=a[1];c[2]=a[2];return c},fromValues:function(a,c,e){var b=new g(3);b[0]=a;b[1]=c;b[2]=e;return b},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a},
set:function(a,c,e,b){a[0]=c;a[1]=e;a[2]=b;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];a[2]=c[2]+e[2];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];a[2]=c[2]-e[2];return a}};i.sub=i.subtract;i.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];a[2]=c[2]*e[2];return a};i.mul=i.multiply;i.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];a[2]=c[2]/e[2];return a};i.div=i.divide;i.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);a[2]=Math.min(c[2],
e[2]);return a};i.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],e[1]);a[2]=Math.max(c[2],e[2]);return a};i.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;return a};i.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;a[2]=c[2]+e[2]*b;return a};i.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],s=c[2]-a[2];return Math.sqrt(e*e+b*b+s*s)};i.dist=i.distance;i.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],s=c[2]-a[2];return e*e+b*b+s*s};i.sqrDist=
i.squaredDistance;i.length=function(a){var c=a[0],e=a[1];a=a[2];return Math.sqrt(c*c+e*e+a*a)};i.len=i.length;i.squaredLength=function(a){var c=a[0],e=a[1];a=a[2];return c*c+e*e+a*a};i.sqrLen=i.squaredLength;i.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a};i.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};i.normalize=function(a,c){var e=c[0],b=c[1],s=c[2],e=e*e+b*b+s*s;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e,a[2]=c[2]*e);return a};i.dot=function(a,c){return a[0]*
c[0]+a[1]*c[1]+a[2]*c[2]};i.cross=function(a,c,e){var b=c[0],s=c[1];c=c[2];var d=e[0],j=e[1];e=e[2];a[0]=s*e-c*j;a[1]=c*d-b*e;a[2]=b*j-s*d;return a};i.lerp=function(a,c,e,b){var s=c[0],d=c[1];c=c[2];a[0]=s+b*(e[0]-s);a[1]=d+b*(e[1]-d);a[2]=c+b*(e[2]-c);return a};i.random=function(a,c){c=c||1;var e=2*h()*Math.PI,b=2*h()-1,s=Math.sqrt(1-b*b)*c;a[0]=Math.cos(e)*s;a[1]=Math.sin(e)*s;a[2]=b*c;return a};i.transformMat4=function(a,c,e){var b=c[0],s=c[1];c=c[2];var d=e[3]*b+e[7]*s+e[11]*c+e[15],d=d||1;a[0]=
(e[0]*b+e[4]*s+e[8]*c+e[12])/d;a[1]=(e[1]*b+e[5]*s+e[9]*c+e[13])/d;a[2]=(e[2]*b+e[6]*s+e[10]*c+e[14])/d;return a};i.transformMat3=function(a,c,e){var b=c[0],s=c[1];c=c[2];a[0]=b*e[0]+s*e[3]+c*e[6];a[1]=b*e[1]+s*e[4]+c*e[7];a[2]=b*e[2]+s*e[5]+c*e[8];return a};i.transformQuat=function(a,c,e){var b=c[0],s=c[1],d=c[2];c=e[0];var j=e[1],f=e[2];e=e[3];var r=e*b+j*d-f*s,g=e*s+f*b-c*d,t=e*d+c*s-j*b,b=-c*b-j*s-f*d;a[0]=r*e+b*-c+g*-f-t*-j;a[1]=g*e+b*-j+t*-c-r*-f;a[2]=t*e+b*-f+r*-j-g*-c;return a};i.rotateX=
function(a,c,e,b){var s=[],d=[];s[0]=c[0]-e[0];s[1]=c[1]-e[1];s[2]=c[2]-e[2];d[0]=s[0];d[1]=s[1]*Math.cos(b)-s[2]*Math.sin(b);d[2]=s[1]*Math.sin(b)+s[2]*Math.cos(b);a[0]=d[0]+e[0];a[1]=d[1]+e[1];a[2]=d[2]+e[2];return a};i.rotateY=function(a,c,e,b){var s=[],d=[];s[0]=c[0]-e[0];s[1]=c[1]-e[1];s[2]=c[2]-e[2];d[0]=s[2]*Math.sin(b)+s[0]*Math.cos(b);d[1]=s[1];d[2]=s[2]*Math.cos(b)-s[0]*Math.sin(b);a[0]=d[0]+e[0];a[1]=d[1]+e[1];a[2]=d[2]+e[2];return a};i.rotateZ=function(a,c,e,b){var s=[],d=[];s[0]=c[0]-
e[0];s[1]=c[1]-e[1];s[2]=c[2]-e[2];d[0]=s[0]*Math.cos(b)-s[1]*Math.sin(b);d[1]=s[0]*Math.sin(b)+s[1]*Math.cos(b);d[2]=s[2];a[0]=d[0]+e[0];a[1]=d[1]+e[1];a[2]=d[2]+e[2];return a};var A=i.create();i.forEach=function(a,c,e,b,d,l){c||(c=3);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)A[0]=a[e],A[1]=a[e+1],A[2]=a[e+2],d(A,A,l),a[e]=A[0],a[e+1]=A[1],a[e+2]=A[2];return a};i.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};"undefined"!==typeof b&&(b.vec3=i);var m={create:function(){var a=
new g(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var c=new g(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},fromValues:function(a,c,e,b){var d=new g(4);d[0]=a;d[1]=c;d[2]=e;d[3]=b;return d},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},set:function(a,c,e,b,d){a[0]=c;a[1]=e;a[2]=b;a[3]=d;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];a[2]=c[2]+e[2];a[3]=c[3]+e[3];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];a[2]=c[2]-e[2];
a[3]=c[3]-e[3];return a}};m.sub=m.subtract;m.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];a[2]=c[2]*e[2];a[3]=c[3]*e[3];return a};m.mul=m.multiply;m.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];a[2]=c[2]/e[2];a[3]=c[3]/e[3];return a};m.div=m.divide;m.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);a[2]=Math.min(c[2],e[2]);a[3]=Math.min(c[3],e[3]);return a};m.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],e[1]);a[2]=Math.max(c[2],e[2]);a[3]=
Math.max(c[3],e[3]);return a};m.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;a[3]=c[3]*e;return a};m.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;a[2]=c[2]+e[2]*b;a[3]=c[3]+e[3]*b;return a};m.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],d=c[2]-a[2],l=c[3]-a[3];return Math.sqrt(e*e+b*b+d*d+l*l)};m.dist=m.distance;m.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],d=c[2]-a[2],l=c[3]-a[3];return e*e+b*b+d*d+l*l};m.sqrDist=m.squaredDistance;m.length=function(a){var c=
a[0],e=a[1],b=a[2];a=a[3];return Math.sqrt(c*c+e*e+b*b+a*a)};m.len=m.length;m.squaredLength=function(a){var c=a[0],e=a[1],b=a[2];a=a[3];return c*c+e*e+b*b+a*a};m.sqrLen=m.squaredLength;m.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=-c[3];return a};m.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];a[3]=1/c[3];return a};m.normalize=function(a,c){var e=c[0],b=c[1],d=c[2],l=c[3],e=e*e+b*b+d*d+l*l;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e,a[2]=c[2]*e,a[3]=c[3]*e);return a};
m.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]};m.lerp=function(a,c,e,b){var d=c[0],l=c[1],j=c[2];c=c[3];a[0]=d+b*(e[0]-d);a[1]=l+b*(e[1]-l);a[2]=j+b*(e[2]-j);a[3]=c+b*(e[3]-c);return a};m.random=function(a,c){c=c||1;a[0]=h();a[1]=h();a[2]=h();a[3]=h();m.normalize(a,a);m.scale(a,a,c);return a};m.transformMat4=function(a,c,e){var b=c[0],d=c[1],l=c[2];c=c[3];a[0]=e[0]*b+e[4]*d+e[8]*l+e[12]*c;a[1]=e[1]*b+e[5]*d+e[9]*l+e[13]*c;a[2]=e[2]*b+e[6]*d+e[10]*l+e[14]*c;a[3]=e[3]*b+e[7]*d+
e[11]*l+e[15]*c;return a};m.transformQuat=function(a,c,e){var b=c[0],d=c[1],l=c[2];c=e[0];var j=e[1],f=e[2];e=e[3];var r=e*b+j*l-f*d,g=e*d+f*b-c*l,t=e*l+c*d-j*b,b=-c*b-j*d-f*l;a[0]=r*e+b*-c+g*-f-t*-j;a[1]=g*e+b*-j+t*-c-r*-f;a[2]=t*e+b*-f+r*-j-g*-c;return a};var w=m.create();m.forEach=function(a,c,e,b,d,l){c||(c=4);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)w[0]=a[e],w[1]=a[e+1],w[2]=a[e+2],w[3]=a[e+3],d(w,w,l),a[e]=w[0],a[e+1]=w[1],a[e+2]=w[2],a[e+3]=w[3];return a};m.str=function(a){return"vec4("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof b&&(b.vec4=m);f={create:function(){var a=new g(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},clone:function(a){var c=new g(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,c){if(a===c){var e=c[1];a[1]=c[2];a[2]=e}else a[0]=c[0],a[1]=c[2],a[2]=c[1],a[3]=c[3];return a},invert:function(a,c){var e=
c[0],b=c[1],d=c[2],l=c[3],j=e*l-d*b;if(!j)return null;j=1/j;a[0]=l*j;a[1]=-b*j;a[2]=-d*j;a[3]=e*j;return a},adjoint:function(a,c){var e=c[0];a[0]=c[3];a[1]=-c[1];a[2]=-c[2];a[3]=e;return a},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,c,e){var b=c[0],d=c[1],l=c[2];c=c[3];var j=e[0],f=e[1],r=e[2];e=e[3];a[0]=b*j+l*f;a[1]=d*j+c*f;a[2]=b*r+l*e;a[3]=d*r+c*e;return a}};f.mul=f.multiply;f.rotate=function(a,c,e){var b=c[0],d=c[1],l=c[2];c=c[3];var j=Math.sin(e);e=Math.cos(e);a[0]=
b*e+l*j;a[1]=d*e+c*j;a[2]=b*-j+l*e;a[3]=d*-j+c*e;return a};f.scale=function(a,c,e){var b=c[1],d=c[2],l=c[3],j=e[0];e=e[1];a[0]=c[0]*j;a[1]=b*j;a[2]=d*e;a[3]=l*e;return a};f.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};f.LDU=function(a,c,e,b){a[2]=b[2]/b[0];e[0]=b[0];e[1]=b[1];e[3]=b[3]-a[2]*e[1];return[a,c,e]};"undefined"!==typeof b&&(b.mat2=f);f={create:function(){var a=
new g(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var c=new g(6);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,c){var e=c[0],b=c[1],d=c[2],l=c[3],j=c[4],f=c[5],r=e*l-b*d;if(!r)return null;r=1/r;a[0]=l*r;a[1]=-b*r;a[2]=-d*r;a[3]=e*r;a[4]=(d*f-l*j)*r;a[5]=(b*j-e*f)*r;return a},
determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],f=c[4];c=c[5];var r=e[0],g=e[1],t=e[2],n=e[3],h=e[4];e=e[5];a[0]=b*r+l*g;a[1]=d*r+j*g;a[2]=b*t+l*n;a[3]=d*t+j*n;a[4]=b*h+l*e+f;a[5]=d*h+j*e+c;return a}};f.mul=f.multiply;f.rotate=function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],f=c[4];c=c[5];var r=Math.sin(e);e=Math.cos(e);a[0]=b*e+l*r;a[1]=d*e+j*r;a[2]=b*-r+l*e;a[3]=d*-r+j*e;a[4]=f;a[5]=c;return a};f.scale=function(a,c,e){var b=c[1],d=c[2],
l=c[3],j=c[4],f=c[5],r=e[0];e=e[1];a[0]=c[0]*r;a[1]=b*r;a[2]=d*e;a[3]=l*e;a[4]=j;a[5]=f;return a};f.translate=function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],f=c[4];c=c[5];var r=e[0];e=e[1];a[0]=b;a[1]=d;a[2]=l;a[3]=j;a[4]=b*r+l*e+f;a[5]=d*r+j*e+c;return a};f.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};"undefined"!==
typeof b&&(b.mat2d=f);f={create:function(){var a=new g(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[4];a[4]=c[5];a[5]=c[6];a[6]=c[8];a[7]=c[9];a[8]=c[10];return a},clone:function(a){var c=new g(9);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a},
identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,c){if(a===c){var e=c[1],b=c[2],d=c[5];a[1]=c[3];a[2]=c[6];a[3]=e;a[5]=c[7];a[6]=b;a[7]=d}else a[0]=c[0],a[1]=c[3],a[2]=c[6],a[3]=c[1],a[4]=c[4],a[5]=c[7],a[6]=c[2],a[7]=c[5],a[8]=c[8];return a},invert:function(a,c){var e=c[0],b=c[1],d=c[2],l=c[3],j=c[4],f=c[5],r=c[6],g=c[7],t=c[8],n=t*j-f*g,h=-t*l+f*r,i=g*l-j*r,k=e*n+b*h+d*i;if(!k)return null;k=1/k;a[0]=n*k;a[1]=(-t*b+d*g)*k;a[2]=(f*
b-d*j)*k;a[3]=h*k;a[4]=(t*e-d*r)*k;a[5]=(-f*e+d*l)*k;a[6]=i*k;a[7]=(-g*e+b*r)*k;a[8]=(j*e-b*l)*k;return a},adjoint:function(a,c){var e=c[0],b=c[1],d=c[2],l=c[3],j=c[4],f=c[5],r=c[6],g=c[7],t=c[8];a[0]=j*t-f*g;a[1]=d*g-b*t;a[2]=b*f-d*j;a[3]=f*r-l*t;a[4]=e*t-d*r;a[5]=d*l-e*f;a[6]=l*g-j*r;a[7]=b*r-e*g;a[8]=e*j-b*l;return a},determinant:function(a){var c=a[3],e=a[4],b=a[5],d=a[6],l=a[7],j=a[8];return a[0]*(j*e-b*l)+a[1]*(-j*c+b*d)+a[2]*(l*c-e*d)},multiply:function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],
f=c[4],r=c[5],g=c[6],t=c[7];c=c[8];var n=e[0],h=e[1],i=e[2],k=e[3],m=e[4],u=e[5],E=e[6],p=e[7];e=e[8];a[0]=n*b+h*j+i*g;a[1]=n*d+h*f+i*t;a[2]=n*l+h*r+i*c;a[3]=k*b+m*j+u*g;a[4]=k*d+m*f+u*t;a[5]=k*l+m*r+u*c;a[6]=E*b+p*j+e*g;a[7]=E*d+p*f+e*t;a[8]=E*l+p*r+e*c;return a}};f.mul=f.multiply;f.translate=function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],f=c[4],g=c[5],h=c[6],t=c[7];c=c[8];var n=e[0];e=e[1];a[0]=b;a[1]=d;a[2]=l;a[3]=j;a[4]=f;a[5]=g;a[6]=n*b+e*j+h;a[7]=n*d+e*f+t;a[8]=n*l+e*g+c;return a};f.rotate=
function(a,c,e){var b=c[0],d=c[1],l=c[2],j=c[3],f=c[4],g=c[5],h=c[6],t=c[7];c=c[8];var n=Math.sin(e);e=Math.cos(e);a[0]=e*b+n*j;a[1]=e*d+n*f;a[2]=e*l+n*g;a[3]=e*j-n*b;a[4]=e*f-n*d;a[5]=e*g-n*l;a[6]=h;a[7]=t;a[8]=c;return a};f.scale=function(a,c,e){var b=e[0];e=e[1];a[0]=b*c[0];a[1]=b*c[1];a[2]=b*c[2];a[3]=e*c[3];a[4]=e*c[4];a[5]=e*c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a};f.fromMat2d=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=0;a[3]=c[2];a[4]=c[3];a[5]=0;a[6]=c[4];a[7]=c[5];a[8]=1;return a};f.fromQuat=
function(a,c){var e=c[0],b=c[1],d=c[2],l=c[3],j=e+e,f=b+b,g=d+d,e=e*j,h=b*j,b=b*f,t=d*j,n=d*f,d=d*g,j=l*j,f=l*f,l=l*g;a[0]=1-b-d;a[3]=h-l;a[6]=t+f;a[1]=h+l;a[4]=1-e-d;a[7]=n-j;a[2]=t-f;a[5]=n+j;a[8]=1-e-b;return a};f.normalFromMat4=function(a,c){var b=c[0],d=c[1],s=c[2],l=c[3],f=c[4],g=c[5],r=c[6],h=c[7],t=c[8],n=c[9],i=c[10],k=c[11],m=c[12],p=c[13],u=c[14],E=c[15],q=b*g-d*f,z=b*r-s*f,x=b*h-l*f,y=d*r-s*g,v=d*h-l*g,w=s*h-l*r,J=t*p-n*m,F=t*u-i*m,t=t*E-k*m,G=n*u-i*p,n=n*E-k*p,i=i*E-k*u,k=q*i-z*n+x*G+
y*t-v*F+w*J;if(!k)return null;k=1/k;a[0]=(g*i-r*n+h*G)*k;a[1]=(r*t-f*i-h*F)*k;a[2]=(f*n-g*t+h*J)*k;a[3]=(s*n-d*i-l*G)*k;a[4]=(b*i-s*t+l*F)*k;a[5]=(d*t-b*n-l*J)*k;a[6]=(p*w-u*v+E*y)*k;a[7]=(u*x-m*w-E*z)*k;a[8]=(m*v-p*x+E*q)*k;return a};f.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],
2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof b&&(b.mat3=f);var v={create:function(){var a=new g(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var c=new g(16);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=
c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,c){if(a===c){var b=c[1],d=c[2],s=c[3],l=c[6],f=c[7],g=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=b;a[6]=c[9];a[7]=c[13];a[8]=d;a[9]=l;a[11]=c[14];a[12]=s;a[13]=f;a[14]=g}else a[0]=
c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a},invert:function(a,c){var b=c[0],d=c[1],f=c[2],l=c[3],j=c[4],g=c[5],r=c[6],h=c[7],t=c[8],n=c[9],i=c[10],k=c[11],m=c[12],p=c[13],u=c[14],E=c[15],q=b*g-d*j,z=b*r-f*j,x=b*h-l*j,y=d*r-f*g,v=d*h-l*g,w=f*h-l*r,J=t*p-n*m,F=t*u-i*m,G=t*E-k*m,A=n*u-i*p,B=n*E-k*p,H=i*E-k*u,D=q*H-z*B+x*A+y*G-v*F+w*J;if(!D)return null;D=1/D;a[0]=(g*H-r*
B+h*A)*D;a[1]=(f*B-d*H-l*A)*D;a[2]=(p*w-u*v+E*y)*D;a[3]=(i*v-n*w-k*y)*D;a[4]=(r*G-j*H-h*F)*D;a[5]=(b*H-f*G+l*F)*D;a[6]=(u*x-m*w-E*z)*D;a[7]=(t*w-i*x+k*z)*D;a[8]=(j*B-g*G+h*J)*D;a[9]=(d*G-b*B-l*J)*D;a[10]=(m*v-p*x+E*q)*D;a[11]=(n*x-t*v-k*q)*D;a[12]=(g*F-j*A-r*J)*D;a[13]=(b*A-d*F+f*J)*D;a[14]=(p*z-m*y-u*q)*D;a[15]=(t*y-n*z+i*q)*D;return a},adjoint:function(a,c){var b=c[0],d=c[1],f=c[2],l=c[3],j=c[4],g=c[5],r=c[6],h=c[7],t=c[8],n=c[9],i=c[10],k=c[11],m=c[12],p=c[13],u=c[14],q=c[15];a[0]=g*(i*q-k*u)-
n*(r*q-h*u)+p*(r*k-h*i);a[1]=-(d*(i*q-k*u)-n*(f*q-l*u)+p*(f*k-l*i));a[2]=d*(r*q-h*u)-g*(f*q-l*u)+p*(f*h-l*r);a[3]=-(d*(r*k-h*i)-g*(f*k-l*i)+n*(f*h-l*r));a[4]=-(j*(i*q-k*u)-t*(r*q-h*u)+m*(r*k-h*i));a[5]=b*(i*q-k*u)-t*(f*q-l*u)+m*(f*k-l*i);a[6]=-(b*(r*q-h*u)-j*(f*q-l*u)+m*(f*h-l*r));a[7]=b*(r*k-h*i)-j*(f*k-l*i)+t*(f*h-l*r);a[8]=j*(n*q-k*p)-t*(g*q-h*p)+m*(g*k-h*n);a[9]=-(b*(n*q-k*p)-t*(d*q-l*p)+m*(d*k-l*n));a[10]=b*(g*q-h*p)-j*(d*q-l*p)+m*(d*h-l*g);a[11]=-(b*(g*k-h*n)-j*(d*k-l*n)+t*(d*h-l*g));a[12]=
-(j*(n*u-i*p)-t*(g*u-r*p)+m*(g*i-r*n));a[13]=b*(n*u-i*p)-t*(d*u-f*p)+m*(d*i-f*n);a[14]=-(b*(g*u-r*p)-j*(d*u-f*p)+m*(d*r-f*g));a[15]=b*(g*i-r*n)-j*(d*i-f*n)+t*(d*r-f*g);return a},determinant:function(a){var c=a[0],b=a[1],d=a[2],f=a[3],l=a[4],j=a[5],g=a[6],h=a[7],i=a[8],k=a[9],n=a[10],m=a[11],p=a[12],q=a[13],v=a[14];a=a[15];return(c*j-b*l)*(n*a-m*v)-(c*g-d*l)*(k*a-m*q)+(c*h-f*l)*(k*v-n*q)+(b*g-d*j)*(i*a-m*p)-(b*h-f*j)*(i*v-n*p)+(d*h-f*g)*(i*q-k*p)},multiply:function(a,c,b){var d=c[0],f=c[1],l=c[2],
j=c[3],g=c[4],h=c[5],i=c[6],k=c[7],n=c[8],m=c[9],p=c[10],q=c[11],v=c[12],u=c[13],w=c[14];c=c[15];var C=b[0],z=b[1],x=b[2],y=b[3];a[0]=C*d+z*g+x*n+y*v;a[1]=C*f+z*h+x*m+y*u;a[2]=C*l+z*i+x*p+y*w;a[3]=C*j+z*k+x*q+y*c;C=b[4];z=b[5];x=b[6];y=b[7];a[4]=C*d+z*g+x*n+y*v;a[5]=C*f+z*h+x*m+y*u;a[6]=C*l+z*i+x*p+y*w;a[7]=C*j+z*k+x*q+y*c;C=b[8];z=b[9];x=b[10];y=b[11];a[8]=C*d+z*g+x*n+y*v;a[9]=C*f+z*h+x*m+y*u;a[10]=C*l+z*i+x*p+y*w;a[11]=C*j+z*k+x*q+y*c;C=b[12];z=b[13];x=b[14];y=b[15];a[12]=C*d+z*g+x*n+y*v;a[13]=
C*f+z*h+x*m+y*u;a[14]=C*l+z*i+x*p+y*w;a[15]=C*j+z*k+x*q+y*c;return a}};v.mul=v.multiply;v.translate=function(a,c,b){var d=b[0],f=b[1];b=b[2];var l,g,h,r,i,k,n,m,p,q,v,u;c===a?(a[12]=c[0]*d+c[4]*f+c[8]*b+c[12],a[13]=c[1]*d+c[5]*f+c[9]*b+c[13],a[14]=c[2]*d+c[6]*f+c[10]*b+c[14],a[15]=c[3]*d+c[7]*f+c[11]*b+c[15]):(l=c[0],g=c[1],h=c[2],r=c[3],i=c[4],k=c[5],n=c[6],m=c[7],p=c[8],q=c[9],v=c[10],u=c[11],a[0]=l,a[1]=g,a[2]=h,a[3]=r,a[4]=i,a[5]=k,a[6]=n,a[7]=m,a[8]=p,a[9]=q,a[10]=v,a[11]=u,a[12]=l*d+i*f+p*b+
c[12],a[13]=g*d+k*f+q*b+c[13],a[14]=h*d+n*f+v*b+c[14],a[15]=r*d+m*f+u*b+c[15]);return a};v.scale=function(a,c,b){var d=b[0],f=b[1];b=b[2];a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*f;a[5]=c[5]*f;a[6]=c[6]*f;a[7]=c[7]*f;a[8]=c[8]*b;a[9]=c[9]*b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};v.rotate=function(a,c,b,f){var g=f[0],l=f[1];f=f[2];var j=Math.sqrt(g*g+l*l+f*f),h,i,k,t,n,m,p,q,v,u,w,C,z,x,y,A,B,H,F,G;if(Math.abs(j)<d)return null;j=1/j;g*=
j;l*=j;f*=j;h=Math.sin(b);i=Math.cos(b);k=1-i;b=c[0];j=c[1];t=c[2];n=c[3];m=c[4];p=c[5];q=c[6];v=c[7];u=c[8];w=c[9];C=c[10];z=c[11];x=g*g*k+i;y=l*g*k+f*h;A=f*g*k-l*h;B=g*l*k-f*h;H=l*l*k+i;F=f*l*k+g*h;G=g*f*k+l*h;g=l*f*k-g*h;l=f*f*k+i;a[0]=b*x+m*y+u*A;a[1]=j*x+p*y+w*A;a[2]=t*x+q*y+C*A;a[3]=n*x+v*y+z*A;a[4]=b*B+m*H+u*F;a[5]=j*B+p*H+w*F;a[6]=t*B+q*H+C*F;a[7]=n*B+v*H+z*F;a[8]=b*G+m*g+u*l;a[9]=j*G+p*g+w*l;a[10]=t*G+q*g+C*l;a[11]=n*G+v*g+z*l;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};
v.rotateX=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[4],g=c[5],j=c[6],h=c[7],k=c[8],i=c[9],m=c[10],n=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=f*b+k*d;a[5]=g*b+i*d;a[6]=j*b+m*d;a[7]=h*b+n*d;a[8]=k*b-f*d;a[9]=i*b-g*d;a[10]=m*b-j*d;a[11]=n*b-h*d;return a};v.rotateY=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],g=c[1],j=c[2],h=c[3],k=c[8],i=c[9],m=c[10],n=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],
a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b-k*d;a[1]=g*b-i*d;a[2]=j*b-m*d;a[3]=h*b-n*d;a[8]=f*d+k*b;a[9]=g*d+i*b;a[10]=j*d+m*b;a[11]=h*d+n*b;return a};v.rotateZ=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],g=c[1],j=c[2],h=c[3],k=c[4],i=c[5],m=c[6],n=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b+k*d;a[1]=g*b+i*d;a[2]=j*b+m*d;a[3]=h*b+n*d;a[4]=k*b-f*d;a[5]=i*b-g*d;a[6]=m*b-j*d;a[7]=n*b-h*d;return a};v.fromRotationTranslation=
function(a,c,b){var d=c[0],f=c[1],g=c[2],j=c[3],h=d+d,k=f+f,i=g+g;c=d*h;var m=d*k,d=d*i,n=f*k,f=f*i,g=g*i,h=j*h,k=j*k,j=j*i;a[0]=1-(n+g);a[1]=m+j;a[2]=d-k;a[3]=0;a[4]=m-j;a[5]=1-(c+g);a[6]=f+h;a[7]=0;a[8]=d+k;a[9]=f-h;a[10]=1-(c+n);a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};v.fromQuat=function(a,c){var b=c[0],d=c[1],f=c[2],g=c[3],j=b+b,h=d+d,k=f+f,b=b*j,i=d*j,d=d*h,m=f*j,n=f*h,f=f*k,j=g*j,h=g*h,g=g*k;a[0]=1-d-f;a[1]=i+g;a[2]=m-h;a[3]=0;a[4]=i-g;a[5]=1-b-f;a[6]=n+j;a[7]=0;a[8]=m+h;
a[9]=n-j;a[10]=1-b-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};v.frustum=function(a,c,b,d,f,g,j){var h=1/(b-c),k=1/(f-d),i=1/(g-j);a[0]=2*g*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*k;a[6]=0;a[7]=0;a[8]=(b+c)*h;a[9]=(f+d)*k;a[10]=(j+g)*i;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(j*g)*i;a[15]=0;return a};v.perspective=function(a,c,b,d,f){c=1/Math.tan(c/2);var g=1/(d-f);a[0]=c/b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(f+d)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*f*d*g;a[15]=0;
return a};v.ortho=function(a,c,b,d,f,g,j){var h=1/(c-b),k=1/(d-f),i=1/(g-j);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*i;a[11]=0;a[12]=(c+b)*h;a[13]=(f+d)*k;a[14]=(j+g)*i;a[15]=1;return a};v.lookAt=function(a,c,b,f){var g,h,j,k,i,m,p,n,q=c[0],w=c[1];c=c[2];j=f[0];k=f[1];h=f[2];p=b[0];f=b[1];g=b[2];if(Math.abs(q-p)<d&&Math.abs(w-f)<d&&Math.abs(c-g)<d)return v.identity(a);b=q-p;f=w-f;p=c-g;n=1/Math.sqrt(b*b+f*f+p*p);b*=n;f*=n;p*=n;g=k*p-h*f;h=h*b-j*p;j=j*f-k*
b;(n=Math.sqrt(g*g+h*h+j*j))?(n=1/n,g*=n,h*=n,j*=n):j=h=g=0;k=f*j-p*h;i=p*g-b*j;m=b*h-f*g;(n=Math.sqrt(k*k+i*i+m*m))?(n=1/n,k*=n,i*=n,m*=n):m=i=k=0;a[0]=g;a[1]=k;a[2]=b;a[3]=0;a[4]=h;a[5]=i;a[6]=f;a[7]=0;a[8]=j;a[9]=m;a[10]=p;a[11]=0;a[12]=-(g*q+h*w+j*c);a[13]=-(k*q+i*w+m*c);a[14]=-(b*q+f*w+p*c);a[15]=1;return a};v.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};v.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof b&&(b.mat4=v);var p={create:function(){var a=new g(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},B=i.create(),H=i.fromValues(1,0,0),K=i.fromValues(0,1,0);p.rotationTo=
function(a,c,b){var d=i.dot(c,b);if(-0.999999>d)return i.cross(B,H,c),1E-6>i.length(B)&&i.cross(B,K,c),i.normalize(B,B),p.setAxisAngle(a,B,Math.PI),a;if(0.999999<d)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;i.cross(B,c,b);a[0]=B[0];a[1]=B[1];a[2]=B[2];a[3]=1+d;return p.normalize(a,a)};var I=f.create();p.setAxes=function(a,c,b,d){I[0]=b[0];I[3]=b[1];I[6]=b[2];I[1]=d[0];I[4]=d[1];I[7]=d[2];I[2]=-c[0];I[5]=-c[1];I[8]=-c[2];return p.normalize(a,p.fromMat3(a,I))};p.clone=m.clone;p.fromValues=m.fromValues;p.copy=
m.copy;p.set=m.set;p.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};p.setAxisAngle=function(a,c,b){b*=0.5;var d=Math.sin(b);a[0]=d*c[0];a[1]=d*c[1];a[2]=d*c[2];a[3]=Math.cos(b);return a};p.add=m.add;p.multiply=function(a,c,b){var d=c[0],f=c[1],g=c[2];c=c[3];var h=b[0],k=b[1],i=b[2];b=b[3];a[0]=d*b+c*h+f*i-g*k;a[1]=f*b+c*k+g*h-d*i;a[2]=g*b+c*i+d*k-f*h;a[3]=c*b-d*h-f*k-g*i;return a};p.mul=p.multiply;p.scale=m.scale;p.rotateX=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);
b=Math.cos(b);a[0]=d*b+c*h;a[1]=f*b+g*h;a[2]=g*b-f*h;a[3]=c*b-d*h;return a};p.rotateY=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);b=Math.cos(b);a[0]=d*b-g*h;a[1]=f*b+c*h;a[2]=g*b+d*h;a[3]=c*b-f*h;return a};p.rotateZ=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);b=Math.cos(b);a[0]=d*b+f*h;a[1]=f*b-d*h;a[2]=g*b+c*h;a[3]=c*b-g*h;return a};p.calculateW=function(a,c){var b=c[0],d=c[1],f=c[2];a[0]=b;a[1]=d;a[2]=f;a[3]=Math.sqrt(Math.abs(1-b*b-d*d-
f*f));return a};p.dot=m.dot;p.lerp=m.lerp;p.slerp=function(a,c,b,d){var f=c[0],g=c[1],h=c[2];c=c[3];var k=b[0],i=b[1],m=b[2];b=b[3];var p,n,q;n=f*k+g*i+h*m+c*b;0>n&&(n=-n,k=-k,i=-i,m=-m,b=-b);1E-6<1-n?(p=Math.acos(n),q=Math.sin(p),n=Math.sin((1-d)*p)/q,d=Math.sin(d*p)/q):n=1-d;a[0]=n*f+d*k;a[1]=n*g+d*i;a[2]=n*h+d*m;a[3]=n*c+d*b;return a};p.invert=function(a,c){var b=c[0],d=c[1],f=c[2],g=c[3],h=b*b+d*d+f*f+g*g,h=h?1/h:0;a[0]=-b*h;a[1]=-d*h;a[2]=-f*h;a[3]=g*h;return a};p.conjugate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};p.length=m.length;p.len=p.length;p.squaredLength=m.squaredLength;p.sqrLen=p.squaredLength;p.normalize=m.normalize;p.fromMat3=function(a,c){var b=c[0]+c[4]+c[8];if(0<b)b=Math.sqrt(b+1),a[3]=0.5*b,b=0.5/b,a[0]=(c[5]-c[7])*b,a[1]=(c[6]-c[2])*b,a[2]=(c[1]-c[3])*b;else{var d=0;c[4]>c[0]&&(d=1);c[8]>c[3*d+d]&&(d=2);var f=(d+1)%3,g=(d+2)%3,b=Math.sqrt(c[3*d+d]-c[3*f+f]-c[3*g+g]+1);a[d]=0.5*b;b=0.5/b;a[3]=(c[3*f+g]-c[3*g+f])*b;a[f]=(c[3*f+d]+c[3*d+f])*b;a[g]=
(c[3*g+d]+c[3*d+g])*b}return a};p.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof b&&(b.quat=p)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}GLMJS_PREFIX="glm-js: ";function createErrorType(b,d){function g(g){this.name=b;Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=g;d&&d.apply(this,arguments)}g.prototype=Error();g.prototype.name=b;return g.prototype.constructor=g}var GLMJSError=createErrorType("GLMJSError");
$GLM_extern=function(b,d){d=d||b;return function(){GLM[d]=GLM.$functions[b]||GLM.outer[b];if(!GLM[d])throw new GLMJSError("$GLM_extern: unresolved external symbol: "+b);return GLM[d].apply(this,arguments)}};$GLM_intern=function(b,d){if(void 0===d&&"object"===typeof b)for(var g in b)$GLM_intern(g,b[g]);else return GLM.outer.console.debug("intern "+b,d&&(d.name||typeof d)),GLM.outer[b]=d};
GLM={version:"0.0.1",GLM_VERSION:95,$functions:{},outer:{console:{debug:function(){}||(console.debug?function(){console.debug([].slice.call(arguments).join(" "))}:function(){console.warn([].slice.call(arguments).join(" "))}),warn:function(){console.warn([].slice.call(arguments).join(" "))},info:function(){console.info([].slice.call(arguments).join(" "))},error:function(){console.error([].slice.call(arguments).join(" "))},write:function(b){try{console.write(b)}catch(d){this.debug(b)}}},quat_array_from_zyx:function(b){var d=
glm.quat();d["*="](glm.angleAxis(b.z,glm.vec3(0,0,1)));d["*="](glm.angleAxis(b.y,glm.vec3(0,1,0)));d["*="](glm.angleAxis(b.x,glm.vec3(1,0,0)));return d.elements},vec3_eulerAngles:function(b){var d=this.mat4_array_from_quat(b);b=d[0];var g=d[4],h=d[1],f=d[5],k=d[2],q=d[6],d=d[10],i=new glm.vec3;i.y=Math.asin(-glm._clamp(k,-1,1));0.99999>Math.abs(k)?(i.x=Math.atan2(q,d),i.z=Math.atan2(h,b)):(i.x=0,i.z=Math.atan2(-g,f));return i}},$intern:$GLM_intern,$extern:$GLM_extern,GLMJSError:GLMJSError,_radians:function(b){return b*
Math.PI/180},_degrees:function(b){return 180*b/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),rotate:function(b,d,g){return b.mul(GLM.outer.mat4_angleAxis(d,g))},scale:function(b,d){return b.mul(GLM.outer.mat4_scale(d))},translate:function(b,d){return b.mul(GLM.outer.mat4_translation(d))},perspective:function(b,d,g,h){return GLM.outer.mat4_perspective(b,
d,g,h)},eulerAngles:function(b){return GLM.outer.vec3_eulerAngles(b)},angleAxis:function(b,d){return GLM.outer.quat_angleAxis(b,d)},make_mat4:function(b){return new GLM.mat4([].slice.call(b,0,16))},toMat4:function(b){return new GLM.mat4(b)},FAITHFUL:!0,to_string:function(b){try{var d=b.$type||typeof b;if(!GLM[d])throw new GLMJSError("unsupported argtype to GLM.to_string: "+[b,d]);if(!GLM[d].$)throw new GLMJSError("missing .$... GLM.to_string: "+[b,d]);return GLM.FAITHFUL?GLM[d].$.to_string(b).replace(/[\t\n]/g,
""):GLM[d].$.to_string(b)}catch(g){return GLM.outer.console.error("to_string error: ",d,b+"",g),g+""}},$to_array:function(b){return[].slice.call(b.elements)},$sizeof:function(b){return b.BYTES_PER_ELEMENT},_clamp:function(b,d,g){return b<d?d:b>g?g:b},max:function(b,d){return Math.max(b,d)},min:function(b,d){return Math.min(b,d)},sign:Math.sign||function(b){return 0<b?1:0>b?-1:0},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toString:function(b,d,g){try{var h="";g.map(function(b){return d[h=b].toFixed(0)})}catch(f){throw GLM.outer.console.error("$toString error",
b,Object.prototype.toString.call(d),h),new GLMJSError(f);}return[b,"(",g.map(function(b){return d[b].toFixed(GLM.FIXEDPRECISION)}).join(", "),")"].join("")}};
var GLM_template=GLM.$template={_genArgError:function(b,d,g,h){return new GLMJSError("unsupported argtype to "+d+": ("+b.sig+"): ["+g+"] :: "+h.map(GLM_template.jstypes.get)+" // "+Object.keys(b).join("||"))},jstypes:{get:function(b){return null===b?"null":void 0===b?"undefined":b.$type||GLM_template.jstypes[typeof b]||GLM_template.jstypes[b+""]||"<unknown "+[typeof b,b]+">"},number:"float","[object Float32Array]":"Float32Array"},"<T>":function(b,d){function g(f){var g=f&&[f.$type||h[typeof f]||"null"];
if(!b[g])throw GLM_template._genArgError(b,d,g,[f]);return b[g](f)}var h=GLM_template.jstypes;b.$sig="<T>";g.$template=b;return g},"<T,V,n>":function(b,d){function g(f,g,q){this.$type&&(q=g,g=f,f=this);var i=g&&[f.$type||h[typeof g],g.$type||h[typeof g]||h[g+""]||"<unknown "+g+">"];if(!b[i])throw GLM_template._genArgError(b,d,i,[].slice.call(arguments));if("number"!==typeof q)throw new GLMJSError(d+b.$sig+": unsupported n type: "+[typeof q,q]);return b[i](f,g,q)}var h=GLM_template.jstypes;b.$sig=
"<T,V,n>";g.$template=b;return g},"<T,V>":function(b,d){function g(f,g,q,i,A){this.$type&&(A=i,i=q,q=g,g=f,f=this);var m=g&&[f.$type||h[typeof g],g.$type||h[typeof g]||h[g+""]||"<unknown "+g+">"];if(!b[m])throw GLM_template._genArgError(b,d,m,[].slice.call(arguments));return b[m](f,g,q,i,A)}var h=GLM_template.jstypes;b.sig="<T,V>";g.$template=b;return g},override:function(b,d,g,h){GLM.outer.console.debug("override",b,d,g.op||"");if(!h)throw Error('unspecified target group (expected override(<TV>, "p", {TSP}, ret={GROUP}))');
var f=h[d]&&h[d];h[d]=GLM_template[b](GLM_template.denify(g),d);h[d].op=g.op;if(f){if(f.op!==h[d].op)throw Error('mismatch merging existing override: .op "'+[f.op,"!=",h[d].op].join(" ")+'"  p='+[d,f.op,h[d].op,"||"+Object.keys(f.$template).join("||")]);for(var k in f.$template)k in h[d].$template||(GLM.outer.console.debug("carrying-forward: ",d,k),h[d].$template[k]=f.$template[k])}return h},_override:function(b,d,g){for(var h in d)this.override(b,h,d[h],g);return g},operations:function(b){return this._override("<T,V>",
b,GLM.$functions)},calculators:function(b){return this._override("<T>",b,GLM.$functions)},functions:function(b){return this._override("<T,V,n>",b,GLM.$functions)},denify:function(b){for(var d in b)if(/vec<N>/.test(d)){var g=b[d];delete b[d];[2,3,4].forEach(function(h){var f=d.replace(/<N>/g,h);f in b||(b[f]=eval(("1,"+g).replace(/N/g,h)))})}return b},GLMType:function(b,d){var g=d.identity.length,h=function(f){var k=typeof f+arguments.length,q=d[k];if(!q)throw new GLMJSError("no template found for "+
b+".$."+k);if(this instanceof h)if(f instanceof Float32Array){if(f.length>g)throw glm.outer.console.error(b+" elements size mismatch: "+["wanted:"+g,"handed:"+f.length]),f=f.subarray(0,g),Error(b+" elements size mismatch: "+["wanted:"+g,"handed:"+f.length]);this.elements=f}else(this.elements=new Float32Array(g)).set(q.apply(d,arguments));else return new h(q.apply(d,arguments))};h.$=d;h.componentLength=g;h.BYTES_PER_ELEMENT=g*Float32Array.BYTES_PER_ELEMENT;h.toString=function(){return"function GLM."+
b+"(){ [ GLMType ] }"};h.prototype={$type:b,$typeName:d.name||"<"+b+">",$len:g,constructor:h,clone:function(){return new h(this)},toString:function(){return d.to_string(this)},byteLength:h.BYTES_PER_ELEMENT,componentLength:h.componentLength,get address(){var b=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-b.length)+b}};return h}};
GLM.$template.functions({mix:{"float,float":function(b,d,g){return d*g+b*(1-g)},"vec<N>,vec<N>":function(b,d,g){if(void 0===g)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");b=glm.$to_array(b);d=glm.$to_array(d);var h=1-g;return new glm.vecN(b.map(function(b,k){return d[k]*g+b*h}))}},clamp:{"float,float":function(b,d,g){return GLM._clamp(b,d,g)},"vec<N>,float":function(b,d,g){return new GLM.vecN(GLM.$to_array(b).map(function(b){return GLM._clamp(b,d,g)}))}}});
GLM.degrees=GLM.$template.calculators({degrees:{"float":function(b){return GLM._degrees(b)},"vec<N>":function(b){return new GLM.vecN(GLM.$to_array(b).map(GLM._degrees))}}}).degrees;GLM.radians=GLM.$template.calculators({radians:{"float":function(b){return GLM._radians(b)},"vec<N>":function(b){return new GLM.vecN(GLM.$to_array(b).map(GLM._radians))}}}).radians;
GLM.to_glsl=GLM.$template.calculators({to_glsl:{"vec<N>":function(b){for(var d=GLM.$to_array(b);d.length&&d[d.length-2]===d[d.length-1];)d.pop();return b.$type+"("+d+")"},uvec4:function(b){return this.vec4(b)},quat:function(b){return 0===b.x+b.y+b.z?"quat("+b.w+")":"quat("+GLM.$to_array(b)+")"},mat3:function(b){b=GLM.$to_array(b);return b.reduce(function(b,g){return b+g},0)===3*b[0]?"mat3("+b[0]+")":"mat3("+b+")"},mat4:function(b){b=GLM.$to_array(b);return b.reduce(function(b,g){return b+g},0)===
4*b[0]?"mat4("+b[0]+")":"mat4("+b+")"}}}).to_glsl;GLM.from_glsl=function(b){var d;b.replace(/^(\w+)\(([-.0-9ef, ]+)\)$/,function(b,h,f){d=glm[h].apply(glm,f.split(",").map(parseFloat))});return d};GLM.$template.override("<T,V>","copy",{op:"=","mat4,mat4":function(b,d){b.elements.set(d.elements);return b},"mat3,mat3":function(b,d){b.elements.set(d.elements);return b},"quat,quat":function(b,d){b.elements.set(d.elements);return b},"vec<N>,vec<N>":function(b,d){b.elements.set(d.elements);return b}},GLM.$functions);
GLM.string={$typeName:"string",$:{to_string:function(b){return b}}};GLM.number={$typeName:"float",$:{to_string:function(b){return GLM.$toString("float",{value:b},["value"])}}};
GLM.vec2=GLM_template.GLMType("vec2",{name:"fvec2",identity:[0,0],undefined0:function(){return this.identity},number1:function(b){return[b,b]},number2:function(b,d){return[b,d]},object1:function(b){switch(b.length){case 4:case 3:case 2:return[b[0],b[1]];default:if("y"in b&&"x"in b){if(typeof b.x!==typeof b.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+b);return[b.x,b.y]}}throw new GLMJSError("unrecognized object passed to GLM.vec2: "+b);},to_string:function(b){return GLM.$toString(b.$typeName,
b,["x","y"])}});
GLM.vec3=GLM_template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],undefined0:function(){return GLM.vec3.$.identity},number1:function(b){return[b,b,b]},number2:function(b,d){return[b,d,d]},number3:function(b,d,g){return[b,d,g]},object1:function(b){switch(b.length){case 4:case 3:return[b[0],b[1],b[2]];case 2:return[b[0],b[1],b[1]];default:if("z"in b&&"x"in b){if(typeof b.x!==typeof b.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+b);return[b.x,b.y,b.z]}}throw new GLMJSError("unrecognized object passed to GLM.vec3: "+b);
},object2:function(b,d){if(b instanceof GLM.vec2)return[b.x,b.y,d];throw new GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[b,d]);},to_string:function(b){return GLM.$toString(b.$typeName,b,["x","y","z"])}});
GLM.vec4=GLM_template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],undefined0:function(){return this.identity},number1:function(b){return[b,b,b,b]},number2:function(b,d){return[b,d,d,d]},number3:function(b,d,g){return[b,d,g,g]},number4:function(b,d,g,h){return[b,d,g,h]},object1:function(b){switch(b.length){case 4:return[b[0],b[1],b[2],b[3]];case 3:return[b[0],b[1],b[2],b[2]];case 2:return[b[0],b[1],b[1],b[1]];default:if("w"in b&&"x"in b){if(typeof b.x!==typeof b.w)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+
b);return[b.x,b.y,b.z,b.w]}}throw new GLMJSError("unrecognized object passed to GLM.vec4: "+[b,b.$type]);},object2:function(b,d){if(b instanceof GLM.vec3)return[b.x,b.y,b.z,d];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[b,d]);},object3:function(b,d,g){if(b instanceof GLM.vec2)return[b.x,b.y,d,g];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[b,d,g]);},to_string:function(b){return GLM.$toString(b.$typeName,b,["x","y","z","w"])}});
GLM.uvec4=GLM_template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],_clamp:function(b){return~~glm._clamp(b,0,Infinity)},undefined0:function(){return this.identity},number1:function(b){b=this._clamp(b);return[b,b,b,b]},number2:function(b,d){b=this._clamp(b);d=this._clamp(d);return[b,d,d,d]},number3:function(b,d,g){b=this._clamp(b);d=this._clamp(d);g=this._clamp(g);return[b,d,g,g]},number4:function(b,d,g,h){return[b,d,g,h].map(this._clamp)},object1:function(b){switch(b.length){case 4:return[b[0],
b[1],b[2],b[3]].map(this._clamp);case 3:return[b[0],b[1],b[2],b[2]].map(this._clamp);case 2:return[b[0],b[1],b[1],b[1]].map(this._clamp);default:if("w"in b&&"x"in b)return[b.x,b.y,b.z,b.w].map(this._clamp)}throw new GLMJSError("unrecognized object passed to GLM.uvec4: "+[b,b.$type]);},object2:function(b,d){if(b instanceof GLM.vec3)return[b.x,b.y,b.z,d].map(this._clamp);throw new GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+[b,d]);},to_string:function(b){return b.$typeName+"("+glm.$to_array(b)+
")"}});
GLM.mat3=GLM_template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(b){return 1===b?this.identity:[b,0,0,0,b,0,0,0,b]},object1:function(b){var d=b.elements||b;if(16===d.length)return[d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]];if(9===d.length)return d;throw new GLMJSError("unrecognized object passed to GLM.mat3: "+b);},to_string:function(b){var d=[0,1,2].map(function(d){return b[d]}).map(function(b){return GLM.$toString("\t",b,
["x","y","z"])});return b.$typeName+"(\n"+d.join(", \n")+"\n)"}});
GLM.mat4=GLM_template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(){return arguments},number1:function(b){return 1===b?this.identity:[b,0,0,0,0,b,0,0,0,0,b,0,0,0,0,b]},object1:function(b){if(b instanceof GLM.quat||"quat"===b.$type)return GLM.outer.mat4_array_from_quat(b);var d=b.elements||b;if(9===d.length)return[d[0],d[1],d[2],0,d[3],d[4],d[5],0,d[6],d[7],d[8],0,0,0,0,1];if(16!==d.length)throw new GLMJSError("unrecognized object passed to GLM.mat4: "+
[b,d.length]);return d},to_string:function(b){var d=[0,1,2,3].map(function(d){return b[d]}).map(function(b){return GLM.$toString("\t",b,["x","y","z","w"])});return b.$typeName+"(\n"+d.join(", \n")+"\n)"}});
GLM.quat=GLM_template.GLMType("quat",{identity:[0,0,0,1],undefined0:function(){return this.identity},number1:function(b){if(1!==b)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(b,d,g,h){return[d,g,h,b]},object1:function(b){if(b instanceof GLM.mat4)return GLM.outer.quat_array_from_mat4(b);if(4===b.length)return b;if(b instanceof GLM.quat)return[b.x,b.y,b.z,b.w];if(b instanceof GLM.vec3)return GLM.outer.quat_array_from_zyx(b);if("w"in b&&
"x"in b)return[b.x,b.y,b.z,b.w];throw new GLMJSError("unrecognized object passed to GLM.quat.object1: "+[b,b.$type,typeof b,b.constructor]);},to_string:function(b){b=GLM.degrees(GLM.eulerAngles(b));return GLM.$toString("<quat>"+b.$typeName,b,["x","y","z"])}});
(function(){var b=[0,1,2,3].map(function(b){return{get:function(){return this.elements[b]},set:function(d){this.elements[b]=d}}}),d=function(d,f){f.forEach(function(f,g){Object.defineProperty(d.prototype,f,b[g])});if(isNaN(f[0])&&!/^_/.test(f[0])){do(function(b,f,g){Object.defineProperty(d.prototype,b,{get:function(){return new GLM[f](this.elements.subarray(0*g,1*g))}})})(f.join(""),"vec"+f.length,f.length);while(f[1]!=f.pop())}};d(GLM.vec2,["x","y"]);d(GLM.vec3,["x","y","z"]);d(GLM.vec3,["r","g",
"b"]);d(GLM.vec4,["x","y","z","w"]);d(GLM.vec4,["r","g","b","a"]);d(GLM.quat,["x","y","z","w"]);Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});[2,3,4].forEach(function(b){b=GLM["vec"+b];d(b,b.$.identity.map(function(b,d){return d}))});var g=Float32Array.BYTES_PER_ELEMENT;GLM.$partition=function(b,d,k,q){if(void 0===k)throw new GLMJSError("nrows is undefined");var i=d.$.identity.length;k=k||i;for(var A=g*i,m=0;m<k;m++)(function(g){var k=g*
A,m=q&&q+g,B=g*i;Object.defineProperty(b,g,{configurable:!0,enumerable:!0,set:function(k){console.warn("local elements !!SET"+k);if(k instanceof d)this.elements.set(k.elements,B);else if(k&&k.length===i)this.elements.set(k,B);else throw new GLMJSError("unsupported argtype to "+(b&&b.$type)+"["+g+"] setter: "+[typeof k,k]);},get:function(){if(q){if(this[m])return g||GLM.outer.console.debug("CACHEDBG: cache hit "+m),Object.defineProperty(this,g,{configurable:!0,enumerable:!1,value:this[m]}),this[m];
g||GLM.outer.console.debug("CACHEDBG: cache miss "+m)}var b,h=new d(b=new Float32Array(this.elements.buffer,this.elements.byteOffset+k,i));if(h.elements!==b)throw 5;q&&Object.defineProperty(this,m,{configurable:!0,enumerable:!1,value:h});return h}})})(m)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();
GLM.$dumpTypes=function(b){for(var d in GLM)GLM[d].componentLength&&b("GLM."+d,JSON.stringify({"#type":GLM[d].prototype.$typeName,"#floats":GLM[d].componentLength,"#bytes":GLM[d].BYTES_PER_ELEMENT}))};
GLM.init=function(b){b.prefix&&(GLMJS_PREFIX=b.prefix);var d=b.log||function(){};try{d("GLM-js: ENV: "+_ENV._VERSION)}catch(g){}d("GLM-JS: initializing: "+JSON.stringify(b,0,2));d(JSON.stringify({functions:Object.keys(GLM.$functions)}));GLM.$symbols=[];GLM.$types=[];for(var h in GLM)"function"===typeof GLM[h]&&(/^[a-z]/.test(h)&&GLM.$symbols.push(h),"$"in GLM[h]&&GLM.$types.push(h));GLM.$types.forEach(function(b){for(var d in GLM.$functions){var g=GLM.$functions[d];g.op&&(GLM[b].prototype[d]=g,GLM[b].prototype[g.op]=
g)}});d("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+b.vendor_name+" vendor_version="+b.vendor_version);glm.vendor=b};
GLM.using_namespace=function(b){GLM.outer.console.warn("GLM.using_namespace munges globals; it should not be used!");var d=[],g=GLM.$symbols,h=g.filter(function(b){return eval("1, 'undefined' !== typeof "+b)});g.map(function(b){var g="GLM.using_namespace."+b+"=undefined;delete GLM.using_namespace."+b+";";try{GLM.using_namespace[b]=eval("1,"+b),d.push(new Function("",b+"=GLM.using_namespace."+b+";"+g))}catch(h){d.push(new Function("",b+"=undefined;delete "+b+";"+g))}eval(b+"=GLM."+b)});b();d.map(function(b){b()});
b=g.filter(function(b){return eval("1, 'undefined' !== typeof "+b)});if(h.length!==b.length)throw Error(JSON.stringify({before:h,after:b,usn:Object.keys(GLM.using_namespace)}));};try{module.exports=GLM}catch(e$$18){}GLMAT.mat4.exists;glm=GLM;
var DLL={_version:"0.0.0",_name:"glm.gl-matrix.js",_glm_version:glm.version,vendor_version:GLMAT.VERSION,vendor_name:"glMatrix",$functions:{mat4_perspective:function(b,d,g,h){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),b,d,g,h))},mat4_angleAxis:function(b,d){var g=GLMAT.quat.setAxisAngle(new Float32Array(4),d,b);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),g))},quat_angleAxis:function(b,d){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),d,b))},mat4_translation:function(b){var d=
new glm.mat4;GLMAT.mat4.translate(d.elements,d.elements,b.elements);return d},mat4_scale:function(b){var d=new glm.mat4;GLMAT.mat4.scale(d.elements,d.elements,b.elements);return d},vec3_eulerAngles:function(b){var d=new Float32Array(16);GLMAT.mat4.fromQuat(d,b.elements);b=d[0];var g=d[4],h=d[1],f=d[5],k=d[2],q=d[6],d=d[10],i=new glm.vec3;i.y=Math.asin(-glm.clamp(k,-1,1));0.99999>Math.abs(k)?(i.x=Math.atan2(q,d),i.z=Math.atan2(h,b)):(i.x=0,i.z=Math.atan2(-g,f));return i},mat4_array_from_quat:function(b){return GLMAT.mat4.fromQuat(new Float32Array(16),
b.elements)},quat_array_from_mat4:function(b){b=GLMAT.mat3.fromMat4(new Float32Array(9),b.elements);return GLMAT.quat.fromMat3(new Float32Array(4),b)}}};
glm.$template.operations({mul:{op:"*","quat,vec3":function(b,d){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),d.elements,b.elements))},"vec3,quat":function(b,d){return this["quat,vec3"](d,b)},"vec4,quat":function(b,d){return new glm.vec4(this["quat,vec3"](d,b),1)},"vec<N>,float":function(b,d){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),b.elements,d))},"mat4,vec4":function(b,d){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),d.elements,b.elements))},
"mat4,mat4":function(b,d){return new glm.mat4(GLMAT.mat4.mul(new Float32Array(16),b.elements,d.elements))},"quat,quat":function(b,d){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),b.elements,d.elements))}},mul_eq:{op:"*=","mat4,mat4":function(b,d){GLMAT.mat4.multiply(b.elements,b.elements,d.elements);return b},"vec<N>,float":function(b,d){return GLMAT.vecN.scale(b,b,d)},"quat,quat":function(b,d){GLMAT.quat.multiply(b.elements,b.elements,d.elements);return b}}});
glm.$template.functions({mix:{"quat,quat":function(b,d,g){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),b.elements,d.elements,g))}}});
glm.$template.calculators({normalize:{"vec<N>":function(b){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),b))},quat:function(b){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),b.elements))}},length:{quat:function(b){return GLMAT.quat.length(b.elements)},"vec<N>":function(b){return GLMAT.vecN.length(b.elements)}},length2:{quat:function(b){return GLMAT.quat.squaredLength(b.elements)},"vec<N>":function(b){return GLMAT.vecN.squaredLength(b.elements)}},inverse:{quat:function(b){return new glm.quat(GLMAT.quat.invert(new Float32Array(4),
b.elements))},mat4:function(b){return new glm.mat4(GLMAT.mat4.invert(new Float32Array(16),b.elements))}},transpose:{mat4:function(b){return new glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),b.elements))}}});glm.$intern(DLL.$functions);glm.init(DLL,"glm-js[glMatrix]: ");try{module.exports=glm}catch(e$$19){};
