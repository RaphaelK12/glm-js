/*! glm-js built 2017-03-20 12:44:20-04:00 | (c) humbletim | http://humbletim.github.io/glm-js */
glm = (function glmjs_scope(g) { var GLMJS_PREFIX, $GLM_console_factory, $GLM_reset_logging;
/*

 --------------------------------------------------------------------------
 glm-js | (c) humbletim | http://humbletim.github.io/glm-js
 --------------------------------------------------------------------------

 The MIT License (MIT)

 Copyright (c) 2015-2016 humbletim

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

 --------------------------------------------------------------------------
 gl-matrix | (c) Brandon Jones, Colin MacKenzie IV | http://glmatrix.net/
 --------------------------------------------------------------------------

 Copyright (c) 2013 Brandon Jones, Colin MacKenzie IV

 This software is provided 'as-is', without any express or implied
 warranty. In no event will the authors be held liable for any damages
 arising from the use of this software.

 Permission is granted to anyone to use this software for any purpose,
 including commercial applications, and to alter it and redistribute it
 freely, subject to the following restrictions:

  1. The origin of this software must not be misrepresented; you must not
     claim that you wrote the original software. If you use this software
     in a product, an acknowledgment in the product documentation would be
     appreciated but is not required.

  2. Altered source versions must be plainly marked as such, and must not
     be misrepresented as being the original software.

  3. This notice may not be removed or altered from any source distribution.
*/
GLMAT={};GLMAT_VERSION="2.2.2";
(function(a){a.VERSION=GLMAT_VERSION;if(!b)var b=1E-6;if(!c)var c="undefined"!==typeof Float32Array?Float32Array:Array;if(!e)var e=Math.random;var d={setMatrixArrayType:function(h){c=h}};"undefined"!==typeof a&&(a.glMatrix=d);var m=Math.PI/180;d.toRadian=function(h){return h*m};d={create:function(){var h=new c(2);h[0]=0;h[1]=0;return h},clone:function(h){var a=new c(2);a[0]=h[0];a[1]=h[1];return a},fromValues:function(h,a){var f=new c(2);f[0]=h;f[1]=a;return f},copy:function(h,a){h[0]=a[0];h[1]=a[1];
return h},set:function(h,a,f){h[0]=a;h[1]=f;return h},add:function(h,a,f){h[0]=a[0]+f[0];h[1]=a[1]+f[1];return h},subtract:function(h,a,f){h[0]=a[0]-f[0];h[1]=a[1]-f[1];return h}};d.sub=d.subtract;d.multiply=function(h,a,f){h[0]=a[0]*f[0];h[1]=a[1]*f[1];return h};d.mul=d.multiply;d.divide=function(h,a,f){h[0]=a[0]/f[0];h[1]=a[1]/f[1];return h};d.div=d.divide;d.min=function(h,a,f){h[0]=Math.min(a[0],f[0]);h[1]=Math.min(a[1],f[1]);return h};d.max=function(h,a,f){h[0]=Math.max(a[0],f[0]);h[1]=Math.max(a[1],
f[1]);return h};d.scale=function(h,a,f){h[0]=a[0]*f;h[1]=a[1]*f;return h};d.scaleAndAdd=function(h,a,f,b){h[0]=a[0]+f[0]*b;h[1]=a[1]+f[1]*b;return h};d.distance=function(h,a){var f=a[0]-h[0],b=a[1]-h[1];return Math.sqrt(f*f+b*b)};d.dist=d.distance;d.squaredDistance=function(h,a){var f=a[0]-h[0],b=a[1]-h[1];return f*f+b*b};d.sqrDist=d.squaredDistance;d.length=function(h){var a=h[0];h=h[1];return Math.sqrt(a*a+h*h)};d.len=d.length;d.squaredLength=function(h){var a=h[0];h=h[1];return a*a+h*h};d.sqrLen=
d.squaredLength;d.negate=function(h,a){h[0]=-a[0];h[1]=-a[1];return h};d.inverse=function(h,a){h[0]=1/a[0];h[1]=1/a[1];return h};d.normalize=function(h,a){var f=a[0],b=a[1],f=f*f+b*b;0<f&&(f=1/Math.sqrt(f),h[0]=a[0]*f,h[1]=a[1]*f);return h};d.dot=function(h,a){return h[0]*a[0]+h[1]*a[1]};d.cross=function(h,a,f){a=a[0]*f[1]-a[1]*f[0];h[0]=h[1]=0;h[2]=a;return h};d.lerp=function(h,a,f,b){var c=a[0];a=a[1];h[0]=c+b*(f[0]-c);h[1]=a+b*(f[1]-a);return h};d.random=function(h,a){a=a||1;var f=2*e()*Math.PI;
h[0]=Math.cos(f)*a;h[1]=Math.sin(f)*a;return h};d.transformMat2=function(h,a,f){var b=a[0];a=a[1];h[0]=f[0]*b+f[2]*a;h[1]=f[1]*b+f[3]*a;return h};d.transformMat2d=function(h,a,f){var b=a[0];a=a[1];h[0]=f[0]*b+f[2]*a+f[4];h[1]=f[1]*b+f[3]*a+f[5];return h};d.transformMat3=function(h,a,f){var b=a[0];a=a[1];h[0]=f[0]*b+f[3]*a+f[6];h[1]=f[1]*b+f[4]*a+f[7];return h};d.transformMat4=function(h,a,f){var b=a[0];a=a[1];h[0]=f[0]*b+f[4]*a+f[12];h[1]=f[1]*b+f[5]*a+f[13];return h};var i=d.create();d.forEach=function(h,
a,f,b,c,d){a||(a=2);f||(f=0);for(b=b?Math.min(b*a+f,h.length):h.length;f<b;f+=a)i[0]=h[f],i[1]=h[f+1],c(i,i,d),h[f]=i[0],h[f+1]=i[1];return h};d.str=function(h){return"vec2("+h[0]+", "+h[1]+")"};"undefined"!==typeof a&&(a.vec2=d);var g={create:function(){var h=new c(3);h[0]=0;h[1]=0;h[2]=0;return h},clone:function(h){var a=new c(3);a[0]=h[0];a[1]=h[1];a[2]=h[2];return a},fromValues:function(h,a,f){var b=new c(3);b[0]=h;b[1]=a;b[2]=f;return b},copy:function(h,a){h[0]=a[0];h[1]=a[1];h[2]=a[2];return h},
set:function(h,a,f,b){h[0]=a;h[1]=f;h[2]=b;return h},add:function(h,a,f){h[0]=a[0]+f[0];h[1]=a[1]+f[1];h[2]=a[2]+f[2];return h},subtract:function(h,a,f){h[0]=a[0]-f[0];h[1]=a[1]-f[1];h[2]=a[2]-f[2];return h}};g.sub=g.subtract;g.multiply=function(h,a,f){h[0]=a[0]*f[0];h[1]=a[1]*f[1];h[2]=a[2]*f[2];return h};g.mul=g.multiply;g.divide=function(h,a,f){h[0]=a[0]/f[0];h[1]=a[1]/f[1];h[2]=a[2]/f[2];return h};g.div=g.divide;g.min=function(h,a,f){h[0]=Math.min(a[0],f[0]);h[1]=Math.min(a[1],f[1]);h[2]=Math.min(a[2],
f[2]);return h};g.max=function(h,a,f){h[0]=Math.max(a[0],f[0]);h[1]=Math.max(a[1],f[1]);h[2]=Math.max(a[2],f[2]);return h};g.scale=function(h,a,f){h[0]=a[0]*f;h[1]=a[1]*f;h[2]=a[2]*f;return h};g.scaleAndAdd=function(h,a,f,b){h[0]=a[0]+f[0]*b;h[1]=a[1]+f[1]*b;h[2]=a[2]+f[2]*b;return h};g.distance=function(h,a){var f=a[0]-h[0],b=a[1]-h[1],c=a[2]-h[2];return Math.sqrt(f*f+b*b+c*c)};g.dist=g.distance;g.squaredDistance=function(h,a){var f=a[0]-h[0],b=a[1]-h[1],c=a[2]-h[2];return f*f+b*b+c*c};g.sqrDist=
g.squaredDistance;g.length=function(h){var a=h[0],f=h[1];h=h[2];return Math.sqrt(a*a+f*f+h*h)};g.len=g.length;g.squaredLength=function(h){var a=h[0],f=h[1];h=h[2];return a*a+f*f+h*h};g.sqrLen=g.squaredLength;g.negate=function(h,a){h[0]=-a[0];h[1]=-a[1];h[2]=-a[2];return h};g.inverse=function(h,a){h[0]=1/a[0];h[1]=1/a[1];h[2]=1/a[2];return h};g.normalize=function(a,l){var f=l[0],b=l[1],c=l[2],f=f*f+b*b+c*c;0<f&&(f=1/Math.sqrt(f),a[0]=l[0]*f,a[1]=l[1]*f,a[2]=l[2]*f);return a};g.dot=function(a,l){return a[0]*
l[0]+a[1]*l[1]+a[2]*l[2]};g.cross=function(a,l,f){var b=l[0],c=l[1];l=l[2];var d=f[0],e=f[1];f=f[2];a[0]=c*f-l*e;a[1]=l*d-b*f;a[2]=b*e-c*d;return a};g.lerp=function(a,l,f,b){var c=l[0],d=l[1];l=l[2];a[0]=c+b*(f[0]-c);a[1]=d+b*(f[1]-d);a[2]=l+b*(f[2]-l);return a};g.random=function(a,l){l=l||1;var f=2*e()*Math.PI,b=2*e()-1,c=Math.sqrt(1-b*b)*l;a[0]=Math.cos(f)*c;a[1]=Math.sin(f)*c;a[2]=b*l;return a};g.transformMat4=function(a,l,f){var b=l[0],c=l[1];l=l[2];var d=f[3]*b+f[7]*c+f[11]*l+f[15],d=d||1;a[0]=
(f[0]*b+f[4]*c+f[8]*l+f[12])/d;a[1]=(f[1]*b+f[5]*c+f[9]*l+f[13])/d;a[2]=(f[2]*b+f[6]*c+f[10]*l+f[14])/d;return a};g.transformMat3=function(a,l,b){var c=l[0],E=l[1];l=l[2];a[0]=c*b[0]+E*b[3]+l*b[6];a[1]=c*b[1]+E*b[4]+l*b[7];a[2]=c*b[2]+E*b[5]+l*b[8];return a};g.transformQuat=function(a,l,b){var c=l[0],E=l[1],d=l[2];l=b[0];var e=b[1],s=b[2];b=b[3];var r=b*c+e*d-s*E,B=b*E+s*c-l*d,J=b*d+l*E-e*c,c=-l*c-e*E-s*d;a[0]=r*b+c*-l+B*-s-J*-e;a[1]=B*b+c*-e+J*-l-r*-s;a[2]=J*b+c*-s+r*-e-B*-l;return a};g.rotateX=
function(a,l,b,c){var E=[],d=[];E[0]=l[0]-b[0];E[1]=l[1]-b[1];E[2]=l[2]-b[2];d[0]=E[0];d[1]=E[1]*Math.cos(c)-E[2]*Math.sin(c);d[2]=E[1]*Math.sin(c)+E[2]*Math.cos(c);a[0]=d[0]+b[0];a[1]=d[1]+b[1];a[2]=d[2]+b[2];return a};g.rotateY=function(a,l,b,c){var d=[],e=[];d[0]=l[0]-b[0];d[1]=l[1]-b[1];d[2]=l[2]-b[2];e[0]=d[2]*Math.sin(c)+d[0]*Math.cos(c);e[1]=d[1];e[2]=d[2]*Math.cos(c)-d[0]*Math.sin(c);a[0]=e[0]+b[0];a[1]=e[1]+b[1];a[2]=e[2]+b[2];return a};g.rotateZ=function(a,l,b,c){var d=[],e=[];d[0]=l[0]-
b[0];d[1]=l[1]-b[1];d[2]=l[2]-b[2];e[0]=d[0]*Math.cos(c)-d[1]*Math.sin(c);e[1]=d[0]*Math.sin(c)+d[1]*Math.cos(c);e[2]=d[2];a[0]=e[0]+b[0];a[1]=e[1]+b[1];a[2]=e[2]+b[2];return a};var n=g.create();g.forEach=function(a,l,b,c,d,e){l||(l=3);b||(b=0);for(c=c?Math.min(c*l+b,a.length):a.length;b<c;b+=l)n[0]=a[b],n[1]=a[b+1],n[2]=a[b+2],d(n,n,e),a[b]=n[0],a[b+1]=n[1],a[b+2]=n[2];return a};g.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};"undefined"!==typeof a&&(a.vec3=g);var j={create:function(){var a=
new c(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var l=new c(4);l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=a[3];return l},fromValues:function(a,l,b,R){var d=new c(4);d[0]=a;d[1]=l;d[2]=b;d[3]=R;return d},copy:function(a,l){a[0]=l[0];a[1]=l[1];a[2]=l[2];a[3]=l[3];return a},set:function(a,l,b,c,d){a[0]=l;a[1]=b;a[2]=c;a[3]=d;return a},add:function(a,l,b){a[0]=l[0]+b[0];a[1]=l[1]+b[1];a[2]=l[2]+b[2];a[3]=l[3]+b[3];return a},subtract:function(a,l,b){a[0]=l[0]-b[0];a[1]=l[1]-b[1];a[2]=l[2]-b[2];
a[3]=l[3]-b[3];return a}};j.sub=j.subtract;j.multiply=function(a,l,b){a[0]=l[0]*b[0];a[1]=l[1]*b[1];a[2]=l[2]*b[2];a[3]=l[3]*b[3];return a};j.mul=j.multiply;j.divide=function(a,l,b){a[0]=l[0]/b[0];a[1]=l[1]/b[1];a[2]=l[2]/b[2];a[3]=l[3]/b[3];return a};j.div=j.divide;j.min=function(a,l,b){a[0]=Math.min(l[0],b[0]);a[1]=Math.min(l[1],b[1]);a[2]=Math.min(l[2],b[2]);a[3]=Math.min(l[3],b[3]);return a};j.max=function(a,l,b){a[0]=Math.max(l[0],b[0]);a[1]=Math.max(l[1],b[1]);a[2]=Math.max(l[2],b[2]);a[3]=
Math.max(l[3],b[3]);return a};j.scale=function(a,l,b){a[0]=l[0]*b;a[1]=l[1]*b;a[2]=l[2]*b;a[3]=l[3]*b;return a};j.scaleAndAdd=function(a,l,b,c){a[0]=l[0]+b[0]*c;a[1]=l[1]+b[1]*c;a[2]=l[2]+b[2]*c;a[3]=l[3]+b[3]*c;return a};j.distance=function(a,l){var b=l[0]-a[0],c=l[1]-a[1],d=l[2]-a[2],e=l[3]-a[3];return Math.sqrt(b*b+c*c+d*d+e*e)};j.dist=j.distance;j.squaredDistance=function(a,l){var b=l[0]-a[0],c=l[1]-a[1],d=l[2]-a[2],e=l[3]-a[3];return b*b+c*c+d*d+e*e};j.sqrDist=j.squaredDistance;j.length=function(a){var l=
a[0],b=a[1],c=a[2];a=a[3];return Math.sqrt(l*l+b*b+c*c+a*a)};j.len=j.length;j.squaredLength=function(a){var l=a[0],b=a[1],c=a[2];a=a[3];return l*l+b*b+c*c+a*a};j.sqrLen=j.squaredLength;j.negate=function(a,l){a[0]=-l[0];a[1]=-l[1];a[2]=-l[2];a[3]=-l[3];return a};j.inverse=function(a,l){a[0]=1/l[0];a[1]=1/l[1];a[2]=1/l[2];a[3]=1/l[3];return a};j.normalize=function(a,l){var b=l[0],c=l[1],d=l[2],e=l[3],b=b*b+c*c+d*d+e*e;0<b&&(b=1/Math.sqrt(b),a[0]=l[0]*b,a[1]=l[1]*b,a[2]=l[2]*b,a[3]=l[3]*b);return a};
j.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};j.lerp=function(a,b,f,c){var d=b[0],e=b[1],k=b[2];b=b[3];a[0]=d+c*(f[0]-d);a[1]=e+c*(f[1]-e);a[2]=k+c*(f[2]-k);a[3]=b+c*(f[3]-b);return a};j.random=function(a,b){b=b||1;a[0]=e();a[1]=e();a[2]=e();a[3]=e();j.normalize(a,a);j.scale(a,a,b);return a};j.transformMat4=function(a,b,f){var c=b[0],d=b[1],e=b[2];b=b[3];a[0]=f[0]*c+f[4]*d+f[8]*e+f[12]*b;a[1]=f[1]*c+f[5]*d+f[9]*e+f[13]*b;a[2]=f[2]*c+f[6]*d+f[10]*e+f[14]*b;a[3]=f[3]*c+f[7]*d+
f[11]*e+f[15]*b;return a};j.transformQuat=function(a,b,f){var c=b[0],d=b[1],e=b[2];b=f[0];var k=f[1],s=f[2];f=f[3];var r=f*c+k*e-s*d,B=f*d+s*c-b*e,J=f*e+b*d-k*c,c=-b*c-k*d-s*e;a[0]=r*f+c*-b+B*-s-J*-k;a[1]=B*f+c*-k+J*-b-r*-s;a[2]=J*f+c*-s+r*-k-B*-b;return a};var v=j.create();j.forEach=function(a,b,f,c,d,e){b||(b=4);f||(f=0);for(c=c?Math.min(c*b+f,a.length):a.length;f<c;f+=b)v[0]=a[f],v[1]=a[f+1],v[2]=a[f+2],v[3]=a[f+3],d(v,v,e),a[f]=v[0],a[f+1]=v[1],a[f+2]=v[2],a[f+3]=v[3];return a};j.str=function(a){return"vec4("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof a&&(a.vec4=j);d={create:function(){var a=new c(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},clone:function(a){var b=new c(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(a===b){var f=b[1];a[1]=b[2];a[2]=f}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},invert:function(a,b){var f=
b[0],c=b[1],d=b[2],e=b[3],k=f*e-d*c;if(!k)return null;k=1/k;a[0]=e*k;a[1]=-c*k;a[2]=-d*k;a[3]=f*k;return a},adjoint:function(a,b){var f=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=f;return a},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,b,f){var c=b[0],d=b[1],e=b[2];b=b[3];var k=f[0],s=f[1],r=f[2];f=f[3];a[0]=c*k+e*s;a[1]=d*k+b*s;a[2]=c*r+e*f;a[3]=d*r+b*f;return a}};d.mul=d.multiply;d.rotate=function(a,b,f){var c=b[0],d=b[1],e=b[2];b=b[3];var k=Math.sin(f);f=Math.cos(f);a[0]=
c*f+e*k;a[1]=d*f+b*k;a[2]=c*-k+e*f;a[3]=d*-k+b*f;return a};d.scale=function(a,b,f){var c=b[1],d=b[2],e=b[3],k=f[0];f=f[1];a[0]=b[0]*k;a[1]=c*k;a[2]=d*f;a[3]=e*f;return a};d.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};d.LDU=function(a,b,f,c){a[2]=c[2]/c[0];f[0]=c[0];f[1]=c[1];f[3]=c[3]-a[2]*f[1];return[a,b,f]};"undefined"!==typeof a&&(a.mat2=d);d={create:function(){var a=
new c(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var b=new c(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=f*e-c*d;if(!r)return null;r=1/r;a[0]=e*r;a[1]=-c*r;a[2]=-d*r;a[3]=f*r;a[4]=(d*s-e*k)*r;a[5]=(c*k-f*s)*r;return a},
determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],s=b[4];b=b[5];var r=f[0],B=f[1],J=f[2],y=f[3],g=f[4];f=f[5];a[0]=c*r+e*B;a[1]=d*r+k*B;a[2]=c*J+e*y;a[3]=d*J+k*y;a[4]=c*g+e*f+s;a[5]=d*g+k*f+b;return a}};d.mul=d.multiply;d.rotate=function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],s=b[4];b=b[5];var r=Math.sin(f);f=Math.cos(f);a[0]=c*f+e*r;a[1]=d*f+k*r;a[2]=c*-r+e*f;a[3]=d*-r+k*f;a[4]=s;a[5]=b;return a};d.scale=function(a,b,f){var c=b[1],d=b[2],
e=b[3],k=b[4],s=b[5],r=f[0];f=f[1];a[0]=b[0]*r;a[1]=c*r;a[2]=d*f;a[3]=e*f;a[4]=k;a[5]=s;return a};d.translate=function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],s=b[4];b=b[5];var r=f[0];f=f[1];a[0]=c;a[1]=d;a[2]=e;a[3]=k;a[4]=c*r+e*f+s;a[5]=d*r+k*f+b;return a};d.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};"undefined"!==
typeof a&&(a.mat2d=d);d={create:function(){var a=new c(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new c(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},
identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(a===b){var f=b[1],c=b[2],d=b[5];a[1]=b[3];a[2]=b[6];a[3]=f;a[5]=b[7];a[6]=c;a[7]=d}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},invert:function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=b[6],B=b[7],g=b[8],y=g*k-s*B,i=-g*e+s*r,m=B*e-k*r,j=f*y+c*i+d*m;if(!j)return null;j=1/j;a[0]=y*j;a[1]=(-g*c+d*B)*j;a[2]=(s*
c-d*k)*j;a[3]=i*j;a[4]=(g*f-d*r)*j;a[5]=(-s*f+d*e)*j;a[6]=m*j;a[7]=(-B*f+c*r)*j;a[8]=(k*f-c*e)*j;return a},adjoint:function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=b[6],B=b[7],g=b[8];a[0]=k*g-s*B;a[1]=d*B-c*g;a[2]=c*s-d*k;a[3]=s*r-e*g;a[4]=f*g-d*r;a[5]=d*e-f*s;a[6]=e*B-k*r;a[7]=c*r-f*B;a[8]=f*k-c*e;return a},determinant:function(a){var b=a[3],f=a[4],c=a[5],d=a[6],e=a[7],k=a[8];return a[0]*(k*f-c*e)+a[1]*(-k*b+c*d)+a[2]*(e*b-f*d)},multiply:function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],
s=b[4],r=b[5],B=b[6],g=b[7];b=b[8];var y=f[0],i=f[1],m=f[2],j=f[3],n=f[4],q=f[5],x=f[6],t=f[7];f=f[8];a[0]=y*c+i*k+m*B;a[1]=y*d+i*s+m*g;a[2]=y*e+i*r+m*b;a[3]=j*c+n*k+q*B;a[4]=j*d+n*s+q*g;a[5]=j*e+n*r+q*b;a[6]=x*c+t*k+f*B;a[7]=x*d+t*s+f*g;a[8]=x*e+t*r+f*b;return a}};d.mul=d.multiply;d.translate=function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],s=b[4],r=b[5],B=b[6],g=b[7];b=b[8];var y=f[0];f=f[1];a[0]=c;a[1]=d;a[2]=e;a[3]=k;a[4]=s;a[5]=r;a[6]=y*c+f*k+B;a[7]=y*d+f*s+g;a[8]=y*e+f*r+b;return a};d.rotate=
function(a,b,f){var c=b[0],d=b[1],e=b[2],k=b[3],s=b[4],r=b[5],B=b[6],g=b[7];b=b[8];var y=Math.sin(f);f=Math.cos(f);a[0]=f*c+y*k;a[1]=f*d+y*s;a[2]=f*e+y*r;a[3]=f*k-y*c;a[4]=f*s-y*d;a[5]=f*r-y*e;a[6]=B;a[7]=g;a[8]=b;return a};d.scale=function(a,b,f){var c=f[0];f=f[1];a[0]=c*b[0];a[1]=c*b[1];a[2]=c*b[2];a[3]=f*b[3];a[4]=f*b[4];a[5]=f*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};d.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};d.fromQuat=
function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=f+f,s=c+c,r=d+d,f=f*k,g=c*k,c=c*s,i=d*k,y=d*s,d=d*r,k=e*k,s=e*s,e=e*r;a[0]=1-c-d;a[3]=g-e;a[6]=i+s;a[1]=g+e;a[4]=1-f-d;a[7]=y-k;a[2]=i-s;a[5]=y+k;a[8]=1-f-c;return a};d.normalFromMat4=function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=b[6],g=b[7],i=b[8],y=b[9],m=b[10],j=b[11],n=b[12],q=b[13],t=b[14],x=b[15],u=f*s-c*k,w=f*r-d*k,K=f*g-e*k,C=c*r-d*s,A=c*g-e*s,z=d*g-e*r,v=i*q-y*n,F=i*t-m*n,i=i*x-j*n,G=y*t-m*q,y=y*x-j*q,m=m*x-j*t,j=u*m-w*y+K*G+
C*i-A*F+z*v;if(!j)return null;j=1/j;a[0]=(s*m-r*y+g*G)*j;a[1]=(r*i-k*m-g*F)*j;a[2]=(k*y-s*i+g*v)*j;a[3]=(d*y-c*m-e*G)*j;a[4]=(f*m-d*i+e*F)*j;a[5]=(c*i-f*y-e*v)*j;a[6]=(q*z-t*A+x*C)*j;a[7]=(t*K-n*z-x*w)*j;a[8]=(n*A-q*K+x*u)*j;return a};d.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],
2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof a&&(a.mat3=d);var u={create:function(){var a=new c(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new c(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=
b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(a===b){var f=b[1],c=b[2],d=b[3],e=b[6],k=b[7],s=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=f;a[6]=b[9];a[7]=b[13];a[8]=c;a[9]=e;a[11]=b[14];a[12]=d;a[13]=k;a[14]=s}else a[0]=
b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},invert:function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=b[6],g=b[7],i=b[8],y=b[9],j=b[10],m=b[11],n=b[12],q=b[13],t=b[14],x=b[15],u=f*s-c*k,A=f*r-d*k,w=f*g-e*k,z=c*r-d*s,v=c*g-e*s,H=d*g-e*r,I=i*q-y*n,F=i*t-j*n,G=i*x-m*n,M=y*t-j*q,O=y*x-m*q,P=j*x-m*t,D=u*P-A*O+w*M+z*G-v*F+H*I;if(!D)return null;D=1/D;a[0]=(s*P-r*
O+g*M)*D;a[1]=(d*O-c*P-e*M)*D;a[2]=(q*H-t*v+x*z)*D;a[3]=(j*v-y*H-m*z)*D;a[4]=(r*G-k*P-g*F)*D;a[5]=(f*P-d*G+e*F)*D;a[6]=(t*w-n*H-x*A)*D;a[7]=(i*H-j*w+m*A)*D;a[8]=(k*O-s*G+g*I)*D;a[9]=(c*G-f*O-e*I)*D;a[10]=(n*v-q*w+x*u)*D;a[11]=(y*w-i*v-m*u)*D;a[12]=(s*F-k*M-r*I)*D;a[13]=(f*M-c*F+d*I)*D;a[14]=(q*A-n*z-t*u)*D;a[15]=(i*z-y*A+j*u)*D;return a},adjoint:function(a,b){var f=b[0],c=b[1],d=b[2],e=b[3],k=b[4],s=b[5],r=b[6],g=b[7],i=b[8],j=b[9],m=b[10],n=b[11],q=b[12],t=b[13],u=b[14],x=b[15];a[0]=s*(m*x-n*u)-
j*(r*x-g*u)+t*(r*n-g*m);a[1]=-(c*(m*x-n*u)-j*(d*x-e*u)+t*(d*n-e*m));a[2]=c*(r*x-g*u)-s*(d*x-e*u)+t*(d*g-e*r);a[3]=-(c*(r*n-g*m)-s*(d*n-e*m)+j*(d*g-e*r));a[4]=-(k*(m*x-n*u)-i*(r*x-g*u)+q*(r*n-g*m));a[5]=f*(m*x-n*u)-i*(d*x-e*u)+q*(d*n-e*m);a[6]=-(f*(r*x-g*u)-k*(d*x-e*u)+q*(d*g-e*r));a[7]=f*(r*n-g*m)-k*(d*n-e*m)+i*(d*g-e*r);a[8]=k*(j*x-n*t)-i*(s*x-g*t)+q*(s*n-g*j);a[9]=-(f*(j*x-n*t)-i*(c*x-e*t)+q*(c*n-e*j));a[10]=f*(s*x-g*t)-k*(c*x-e*t)+q*(c*g-e*s);a[11]=-(f*(s*n-g*j)-k*(c*n-e*j)+i*(c*g-e*s));a[12]=
-(k*(j*u-m*t)-i*(s*u-r*t)+q*(s*m-r*j));a[13]=f*(j*u-m*t)-i*(c*u-d*t)+q*(c*m-d*j);a[14]=-(f*(s*u-r*t)-k*(c*u-d*t)+q*(c*r-d*s));a[15]=f*(s*m-r*j)-k*(c*m-d*j)+i*(c*r-d*s);return a},determinant:function(a){var b=a[0],f=a[1],c=a[2],d=a[3],e=a[4],k=a[5],g=a[6],r=a[7],j=a[8],i=a[9],m=a[10],n=a[11],q=a[12],t=a[13],u=a[14];a=a[15];return(b*k-f*e)*(m*a-n*u)-(b*g-c*e)*(i*a-n*t)+(b*r-d*e)*(i*u-m*t)+(f*g-c*k)*(j*a-n*q)-(f*r-d*k)*(j*u-m*q)+(c*r-d*g)*(j*t-i*q)},multiply:function(a,b,f){var c=b[0],d=b[1],e=b[2],
k=b[3],g=b[4],r=b[5],j=b[6],i=b[7],m=b[8],n=b[9],q=b[10],t=b[11],u=b[12],A=b[13],x=b[14];b=b[15];var w=f[0],z=f[1],v=f[2],C=f[3];a[0]=w*c+z*g+v*m+C*u;a[1]=w*d+z*r+v*n+C*A;a[2]=w*e+z*j+v*q+C*x;a[3]=w*k+z*i+v*t+C*b;w=f[4];z=f[5];v=f[6];C=f[7];a[4]=w*c+z*g+v*m+C*u;a[5]=w*d+z*r+v*n+C*A;a[6]=w*e+z*j+v*q+C*x;a[7]=w*k+z*i+v*t+C*b;w=f[8];z=f[9];v=f[10];C=f[11];a[8]=w*c+z*g+v*m+C*u;a[9]=w*d+z*r+v*n+C*A;a[10]=w*e+z*j+v*q+C*x;a[11]=w*k+z*i+v*t+C*b;w=f[12];z=f[13];v=f[14];C=f[15];a[12]=w*c+z*g+v*m+C*u;a[13]=
w*d+z*r+v*n+C*A;a[14]=w*e+z*j+v*q+C*x;a[15]=w*k+z*i+v*t+C*b;return a}};u.mul=u.multiply;u.translate=function(a,b,f){var c=f[0],d=f[1];f=f[2];var e,k,g,r,j,i,m,n,q,t,u,w;b===a?(a[12]=b[0]*c+b[4]*d+b[8]*f+b[12],a[13]=b[1]*c+b[5]*d+b[9]*f+b[13],a[14]=b[2]*c+b[6]*d+b[10]*f+b[14],a[15]=b[3]*c+b[7]*d+b[11]*f+b[15]):(e=b[0],k=b[1],g=b[2],r=b[3],j=b[4],i=b[5],m=b[6],n=b[7],q=b[8],t=b[9],u=b[10],w=b[11],a[0]=e,a[1]=k,a[2]=g,a[3]=r,a[4]=j,a[5]=i,a[6]=m,a[7]=n,a[8]=q,a[9]=t,a[10]=u,a[11]=w,a[12]=e*c+j*d+q*f+
b[12],a[13]=k*c+i*d+t*f+b[13],a[14]=g*c+m*d+u*f+b[14],a[15]=r*c+n*d+w*f+b[15]);return a};u.scale=function(a,b,f){var c=f[0],d=f[1];f=f[2];a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*f;a[9]=b[9]*f;a[10]=b[10]*f;a[11]=b[11]*f;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};u.rotate=function(a,c,f,d){var e=d[0],g=d[1];d=d[2];var k=Math.sqrt(e*e+g*g+d*d),j,r,i,m,n,q,t,u,w,z,v,A,Q,K,C,L,H,I,F,G;if(Math.abs(k)<b)return null;k=1/k;e*=
k;g*=k;d*=k;j=Math.sin(f);r=Math.cos(f);i=1-r;f=c[0];k=c[1];m=c[2];n=c[3];q=c[4];t=c[5];u=c[6];w=c[7];z=c[8];v=c[9];A=c[10];Q=c[11];K=e*e*i+r;C=g*e*i+d*j;L=d*e*i-g*j;H=e*g*i-d*j;I=g*g*i+r;F=d*g*i+e*j;G=e*d*i+g*j;e=g*d*i-e*j;g=d*d*i+r;a[0]=f*K+q*C+z*L;a[1]=k*K+t*C+v*L;a[2]=m*K+u*C+A*L;a[3]=n*K+w*C+Q*L;a[4]=f*H+q*I+z*F;a[5]=k*H+t*I+v*F;a[6]=m*H+u*I+A*F;a[7]=n*H+w*I+Q*F;a[8]=f*G+q*e+z*g;a[9]=k*G+t*e+v*g;a[10]=m*G+u*e+A*g;a[11]=n*G+w*e+Q*g;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};
u.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],g=b[5],k=b[6],i=b[7],r=b[8],j=b[9],m=b[10],n=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+r*d;a[5]=g*c+j*d;a[6]=k*c+m*d;a[7]=i*c+n*d;a[8]=r*c-e*d;a[9]=j*c-g*d;a[10]=m*c-k*d;a[11]=n*c-i*d;return a};u.rotateY=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],g=b[1],k=b[2],i=b[3],j=b[8],m=b[9],n=b[10],q=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],
a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-j*d;a[1]=g*c-m*d;a[2]=k*c-n*d;a[3]=i*c-q*d;a[8]=e*d+j*c;a[9]=g*d+m*c;a[10]=k*d+n*c;a[11]=i*d+q*c;return a};u.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],g=b[1],k=b[2],i=b[3],j=b[4],m=b[5],n=b[6],q=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+j*d;a[1]=g*c+m*d;a[2]=k*c+n*d;a[3]=i*c+q*d;a[4]=j*c-e*d;a[5]=m*c-g*d;a[6]=n*c-k*d;a[7]=q*c-i*d;return a};u.fromRotationTranslation=
function(a,b,c){var d=b[0],e=b[1],g=b[2],k=b[3],i=d+d,j=e+e,m=g+g;b=d*i;var n=d*j,d=d*m,q=e*j,e=e*m,g=g*m,i=k*i,j=k*j,k=k*m;a[0]=1-(q+g);a[1]=n+k;a[2]=d-j;a[3]=0;a[4]=n-k;a[5]=1-(b+g);a[6]=e+i;a[7]=0;a[8]=d+j;a[9]=e-i;a[10]=1-(b+q);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};u.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],g=b[3],k=c+c,i=d+d,j=e+e,c=c*k,m=d*k,d=d*i,n=e*k,q=e*i,e=e*j,k=g*k,i=g*i,g=g*j;a[0]=1-d-e;a[1]=m+g;a[2]=n-i;a[3]=0;a[4]=m-g;a[5]=1-c-e;a[6]=q+k;a[7]=0;a[8]=n+i;
a[9]=q-k;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};u.frustum=function(a,b,c,d,e,g,k){var i=1/(c-b),j=1/(e-d),m=1/(g-k);a[0]=2*g*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*j;a[6]=0;a[7]=0;a[8]=(c+b)*i;a[9]=(e+d)*j;a[10]=(k+g)*m;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(k*g)*m;a[15]=0;return a};u.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);var g=1/(d-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*g;a[15]=0;
return a};u.ortho=function(a,b,c,d,e,g,k){var i=1/(b-c),j=1/(d-e),m=1/(g-k);a[0]=-2*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*j;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*m;a[11]=0;a[12]=(b+c)*i;a[13]=(e+d)*j;a[14]=(k+g)*m;a[15]=1;return a};u.lookAt=function(a,c,f,d){var e,g,k,i,j,m,n,q,t=c[0],w=c[1];c=c[2];k=d[0];i=d[1];g=d[2];n=f[0];d=f[1];e=f[2];if(Math.abs(t-n)<b&&Math.abs(w-d)<b&&Math.abs(c-e)<b)return u.identity(a);f=t-n;d=w-d;n=c-e;q=1/Math.sqrt(f*f+d*d+n*n);f*=q;d*=q;n*=q;e=i*n-g*d;g=g*f-k*n;k=k*d-i*
f;(q=Math.sqrt(e*e+g*g+k*k))?(q=1/q,e*=q,g*=q,k*=q):k=g=e=0;i=d*k-n*g;j=n*e-f*k;m=f*g-d*e;(q=Math.sqrt(i*i+j*j+m*m))?(q=1/q,i*=q,j*=q,m*=q):m=j=i=0;a[0]=e;a[1]=i;a[2]=f;a[3]=0;a[4]=g;a[5]=j;a[6]=d;a[7]=0;a[8]=k;a[9]=m;a[10]=n;a[11]=0;a[12]=-(e*t+g*w+k*c);a[13]=-(i*t+j*w+m*c);a[14]=-(f*t+d*w+n*c);a[15]=1;return a};u.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};u.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof a&&(a.mat4=u);var q={create:function(){var a=new c(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},A=g.create(),z=g.fromValues(1,0,0),w=g.fromValues(0,1,0);q.rotationTo=
function(a,b,c){var d=g.dot(b,c);if(-0.999999>d)return g.cross(A,z,b),1E-6>g.length(A)&&g.cross(A,w,b),g.normalize(A,A),q.setAxisAngle(a,A,Math.PI),a;if(0.999999<d)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;g.cross(A,b,c);a[0]=A[0];a[1]=A[1];a[2]=A[2];a[3]=1+d;return q.normalize(a,a)};var t=d.create();q.setAxes=function(a,b,c,d){t[0]=c[0];t[3]=c[1];t[6]=c[2];t[1]=d[0];t[4]=d[1];t[7]=d[2];t[2]=-b[0];t[5]=-b[1];t[8]=-b[2];return q.normalize(a,q.fromMat3(a,t))};q.clone=j.clone;q.fromValues=j.fromValues;q.copy=
j.copy;q.set=j.set;q.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};q.setAxisAngle=function(a,b,c){c*=0.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a};q.add=j.add;q.multiply=function(a,b,c){var d=b[0],e=b[1],g=b[2];b=b[3];var i=c[0],j=c[1],m=c[2];c=c[3];a[0]=d*c+b*i+e*m-g*j;a[1]=e*c+b*j+g*i-d*m;a[2]=g*c+b*m+d*j-e*i;a[3]=b*c-d*i-e*j-g*m;return a};q.mul=q.multiply;q.scale=j.scale;q.rotateX=function(a,b,c){c*=0.5;var d=b[0],e=b[1],g=b[2];b=b[3];var i=Math.sin(c);
c=Math.cos(c);a[0]=d*c+b*i;a[1]=e*c+g*i;a[2]=g*c-e*i;a[3]=b*c-d*i;return a};q.rotateY=function(a,b,c){c*=0.5;var d=b[0],e=b[1],g=b[2];b=b[3];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c-g*i;a[1]=e*c+b*i;a[2]=g*c+d*i;a[3]=b*c-e*i;return a};q.rotateZ=function(a,b,c){c*=0.5;var d=b[0],e=b[1],g=b[2];b=b[3];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*i;a[1]=e*c-d*i;a[2]=g*c+b*i;a[3]=b*c-g*i;return a};q.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];a[0]=c;a[1]=d;a[2]=e;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-
e*e));return a};q.dot=j.dot;q.lerp=j.lerp;q.slerp=function(a,b,c,d){var e=b[0],g=b[1],i=b[2];b=b[3];var j=c[0],m=c[1],n=c[2];c=c[3];var q,t,u;t=e*j+g*m+i*n+b*c;0>t&&(t=-t,j=-j,m=-m,n=-n,c=-c);1E-6<1-t?(q=Math.acos(t),u=Math.sin(q),t=Math.sin((1-d)*q)/u,d=Math.sin(d*q)/u):t=1-d;a[0]=t*e+d*j;a[1]=t*g+d*m;a[2]=t*i+d*n;a[3]=t*b+d*c;return a};q.invert=function(a,b){var c=b[0],d=b[1],e=b[2],g=b[3],i=c*c+d*d+e*e+g*g,i=i?1/i:0;a[0]=-c*i;a[1]=-d*i;a[2]=-e*i;a[3]=g*i;return a};q.conjugate=function(a,b){a[0]=
-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};q.length=j.length;q.len=q.length;q.squaredLength=j.squaredLength;q.sqrLen=q.squaredLength;q.normalize=j.normalize;q.fromMat3=function(a,b){var c=b[0]+b[4]+b[8];if(0<c)c=Math.sqrt(c+1),a[3]=0.5*c,c=0.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[3*d+d]&&(d=2);var e=(d+1)%3,g=(d+2)%3,c=Math.sqrt(b[3*d+d]-b[3*e+e]-b[3*g+g]+1);a[d]=0.5*c;c=0.5/c;a[3]=(b[3*e+g]-b[3*g+e])*c;a[e]=(b[3*e+d]+b[3*d+e])*c;a[g]=
(b[3*g+d]+b[3*d+g])*c}return a};q.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof a&&(a.quat=q)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e$$11){}glm=null;GLMJS_PREFIX="glm-js: ";
GLM={$DEBUG:"undefined"!==typeof $GLM_DEBUG&&$GLM_DEBUG,version:"0.0.6",GLM_VERSION:96,$outer:{polyfills:GLM_polyfills(),functions:{},intern:function(a,b){if(a)if(void 0===b&&"object"===typeof a)for(var c in a)GLM.$outer.intern(c,a[c]);else return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+a,b&&(b.name||typeof b)),GLM.$outer[a]=b},$import:function(a){GLM.$outer.$import=function(){throw Error("glm.$outer.$import already called...");};GLM.$outer.intern(a.statics);GLM.$template.extend(GLM,GLM.$template["declare<T,V,number>"](a["declare<T,V,number>"]),
GLM.$template["declare<T,V,...>"](a["declare<T,V,...>"]),GLM.$template["declare<T,...>"](a["declare<T,...>"]),GLM.$template["declare<T>"](a["declare<T>"]));GLM.$init(a)},console:$GLM_reset_logging(),quat_array_from_xyz:function(a){var b=glm.quat(),c=glm.mat3(1);b["*="](glm.angleAxis(a.x,c[0]));b["*="](glm.angleAxis(a.y,c[1]));b["*="](glm.angleAxis(a.z,c[2]));return b.elements},Array:Array,ArrayBuffer:ArrayBuffer,Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,
Uint32Array:Uint32Array,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,DataView:"undefined"!==typeof DataView&&DataView,$rebindTypedArrays:function(a){var b=Object.keys(GLM.$outer).filter(RegExp.prototype.test.bind(/.Array$|^ArrayBuffer$|^DataView$/)).map(function(b){var e=a.call(this,b,GLM.$outer[b]);e!==GLM.$outer[b]&&(GLM.$outer.console.warn("$rebindTypedArrays("+b+")... replacing"),GLM.$outer[b]=e);return e});GLM.$subarray=GLM.patch_subarray();return b}},$extern:$GLM_extern,$log:$GLM_log,
GLMJSError:$GLM_GLMJSError("GLMJSError"),_radians:function(a){return a*this.PI/180}.bind(Math),_degrees:function(a){return 180*a/this.PI}.bind(Math),normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),distance:$GLM_extern("distance"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),slerp:$GLM_extern("slerp"),mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),angleAxis:$GLM_extern("angleAxis"),rotate:$GLM_extern("rotate"),scale:$GLM_extern("scale"),
translate:$GLM_extern("translate"),lookAt:$GLM_extern("lookAt"),cross:$GLM_extern("cross"),dot:$GLM_extern("dot"),perspective:function(a,b,c,e){return GLM.$outer.mat4_perspective(a,b,c,e)},_eulerAngles:function(a){return GLM.$outer.vec3_eulerAngles(a)},angle:function(a){return 2*Math.acos(a.w)},axis:function(a){var b=1-a.w*a.w;if(0>=b)return glm.vec3(0,0,1);b=1/Math.sqrt(b);return glm.vec3(a.x*b,a.y*b,a.z*b)},$from_ptr:function(a,b,c){if(this!==GLM)throw new GLM.GLMJSError("... use glm.make_<type>() (not new glm.make<type>())");
b=new GLM.$outer.Float32Array(b.buffer||b,c||0,a.componentLength);b=new GLM.$outer.Float32Array(b);return new a(b)},make_vec2:function(a,b){return GLM.$from_ptr.call(this,GLM.vec2,a,2===arguments.length?b:a.byteOffset)},make_vec3:function(a,b){return GLM.$from_ptr.call(this,GLM.vec3,a,2===arguments.length?b:a.byteOffset)},make_vec4:function(a,b){return GLM.$from_ptr.call(this,GLM.vec4,a,2===arguments.length?b:a.byteOffset)},make_quat:function(a,b){return GLM.$from_ptr.call(this,GLM.quat,a,2===arguments.length?
b:a.byteOffset)},make_mat3:function(a,b){return GLM.$from_ptr.call(this,GLM.mat3,a,2===arguments.length?b:a.byteOffset)},make_mat4:function(a,b){return GLM.$from_ptr.call(this,GLM.mat4,a,2===arguments.length?b:a.byteOffset)},diagonal4x4:function(a){if("vec4"!==GLM.$typeof(a))throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+GLM.$typeof(a)]);a=a.elements;return new GLM.mat4([a[0],0,0,0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]])},diagonal3x3:function(a){if("vec3"!==GLM.$typeof(a))throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal3x3: "+
["type:"+GLM.$typeof(a)]);a=a.elements;return new GLM.mat3([a[0],0,0,0,a[1],0,0,0,a[2]])},_toMat4:function(a){return new GLM.mat4(GLM.$outer.mat4_array_from_quat(a))},FAITHFUL:!0,to_string:function(a,b){try{var c=a.$type||typeof a;if(!GLM[c])throw new GLM.GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+c,a]);return GLM.FAITHFUL?GLM.$to_string(a,b).replace(/[\t\n]/g,""):GLM.$to_string(a,b)}catch(e){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",c,a+"",e),e+""}},$sizeof:function(a){return a.BYTES_PER_ELEMENT},
$types:[],$isGLMConstructor:function(a){return!!(a&&a.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(a){return a instanceof GLM.$GLMBaseType&&a.constructor||"string"===typeof a&&GLM[a]},$isGLMObject:function(a){return!!(a instanceof GLM.$GLMBaseType&&a.$type)},$typeof:function(a){return a instanceof GLM.$GLMBaseType?a.$type:"undefined"},$to_array:function(a){return[].slice.call(a.elements)},$to_json:function(a,b,c){this instanceof GLM.$GLMBaseType&&(c=b,b=a,a=this);return JSON.stringify(GLM.$to_object(a),
b,c)},$inspect:function(a){this instanceof GLM.$GLMBaseType&&(a=this);return GLM.$to_json(a,null,2)},_clamp:function(a,b,c){return a<b?b:a>c?c:a},_abs:function(a){return Math.abs(a)},_equal:function(a,b){return a===b},_epsilonEqual:function(a,b,c){return Math.abs(a-b)<c},_fract:function(a){return a-Math.floor(a)},_frexp:function(){function a(b,c){var e=GLM.$outer.DataView||a._DataView;if(0==b)return c&&Array.isArray(c)?c[0]=c[1]=0:[0,0];e=new e(new GLM.$outer.ArrayBuffer(8));e.setFloat64(0,b);var d=
e.getUint32(0)>>>20&2047;0===d&&(e.setFloat64(0,b*Math.pow(2,64)),d=(e.getUint32(0)>>>20&2047)-64);e=d-1022;d=GLM.ldexp(b,-e);return c&&Array.isArray(c)?(c[0]=e,c[1]=d):[d,e]}a._DataView=function(a){this.buffer=a;this.setFloat64=function(a,b){if(0!==a)throw Error("...this is a very limited DataView emulator");(new Uint8Array(this.buffer)).set([].reverse.call(new Uint8Array((new Float64Array([b])).buffer)),a)};this.getUint32=function(a){if(0!==a)throw Error("...this is a very limited DataView emulator");
return(new Uint32Array((new Uint8Array([].slice.call(new Uint8Array(this.buffer)).reverse())).buffer))[1]}};return a}(),_ldexp:function(a,b){return 1023<b?a*Math.pow(2,1023)*Math.pow(2,b-1023):-1074>b?a*Math.pow(2,-1074)*Math.pow(2,b+1074):a*Math.pow(2,b)},_max:Math.max,_min:Math.min,sqrt:Math.sqrt,__sign:function(a){return 0<a?1:0>a?-1:+a},$constants:{epsilon:1E-6,euler:0.5772156649015329,e:Math.E,ln_ten:Math.LN10,ln_two:Math.LN2,pi:Math.PI,half_pi:Math.PI/2,quarter_pi:Math.PI/4,one_over_pi:1/Math.PI,
two_over_pi:2/Math.PI,root_pi:Math.sqrt(Math.PI),root_two:Math.sqrt(2),root_three:Math.sqrt(3),two_over_root_pi:2/Math.sqrt(Math.PI),one_over_root_two:Math.SQRT1_2,root_two:Math.SQRT2},FIXEDPRECISION:6,$toFixedString:function(a,b,c,e){void 0===e&&(e=GLM.FIXEDPRECISION);if(!c||!c.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof c+")");try{var d="";c.map(function(c){c=b[d=c];if(!c.toFixed)throw Error("!toFixed in w"+[c,a,JSON.stringify(b)]);return c.toFixed(0)})}catch(m){throw GLM.$DEBUG&&
GLM.$outer.console.error("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),d),GLM.$DEBUG&&glm.$log("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),d),new GLM.GLMJSError(m);}c=c.map(function(a){return b[a].toFixed(e)});return a+"("+c.join(", ")+")"}};GLM._sign=Math.sign||GLM.__sign;for(var p in GLM.$constants)(function(a,b){GLM[b]=function(){return a};GLM[b].valueOf=GLM[b]})(GLM.$constants[p],p);
GLM.$GLMBaseType=function(){function a(a,c){var e=a.$||{};this.$type=c;this.$type_name=e.name||"<"+c+">";e.components&&(this.$components=e.components[0]);this.$len=this.components=a.componentLength;this.constructor=a;this.byteLength=a.BYTES_PER_ELEMENT;GLM.$types.push(c)}a.prototype={clone:function(){return new this.constructor(new this.elements.constructor(this.elements))},toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)},toJSON:function(){return GLM.$to_object(this)}};
Object.defineProperty(a.prototype,"address",{get:function(){var a=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-a.length)+a}});return a}();
(function(){function a(a,b,c){return a.subarray(b,c||a.length)}function b(a,b,c){var e=a.constructor;c=c||a.length;return new e(a.buffer,a.byteOffset+b*e.BYTES_PER_ELEMENT,c-b)}function c(){var a=new GLM.$outer.Float32Array([0,0]);a.subarray(1).subarray(0)[0]=1;var b=c.result=[a[1],(new GLM.$outer.Float32Array(16)).subarray(12,16).length];return!(a[1]!==b[0]||4!==b[1])}function e(a){var b=new GLM.$outer.Float32Array([0,0]);a(a(b,1),0)[0]=1;a=e.result=[b[1],a(new GLM.$outer.Float32Array(16),12,16).length];
return!(b[1]!==a[0]||4!==a[1])}Object.defineProperty(GLM,"patch_subarray",{configurable:!0,value:function(){var d=!c()?b:a;d.workaround_broken_spidermonkey_subarray=b;d.native_subarray=a;if(!e(d))throw Error("failed to resolve working TypedArray.subarray implementation... "+e.result);return d}})})();GLM.$subarray=GLM.patch_subarray();
var GLM_template=GLM.$template={_genArgError:function(a,b,c,e){~e.indexOf(void 0)&&(e=e.slice(0,e.indexOf(void 0)));var d=RegExp.prototype.test.bind(/^[^$_]/);return new GLM.GLMJSError("unsupported argtype to "+b+" "+a.$sig+": [typ="+c+"] :: got arg types: "+e.map(GLM.$template.jstypes.get)+" // supported types: "+Object.keys(a).filter(d).join("||"))},jstypes:{get:function(a){return null===a?"null":void 0===a?"undefined":a.$type||GLM.$template.jstypes[typeof a]||GLM.$template.jstypes[a+""]||function(a){if("object"===
typeof a){if(a instanceof GLM.$outer.Float32Array)return"Float32Array";if(a instanceof GLM.$outer.ArrayBuffer)return"ArrayBuffer";if(Array.isArray(a))return"array"}return"<unknown "+[typeof a,a]+">"}(a)},"0":"float","boolean":"bool",number:"float",string:"string","[object Float32Array]":"Float32Array","[object ArrayBuffer]":"ArrayBuffer","function":"function"},_add_overrides:function(a,b){for(var c in b)b[c]&&GLM[c].override(a,b[c])},_add_inline_override:function(a,b,c){this[b]=eval(GLM.$template._traceable("glm_"+
a+"_"+b,c))();return this},_inline_helpers:function(a,b){Object.defineProperty(a,"GLM",{value:GLM});return{$type:"built-in",$type_name:b,$template:a,F:a,dbg:b,override:this._add_inline_override.bind(a,b),link:function(c){var e=a[c];e||(e=a[[c,"undefined"]]);if(!e)throw new GLM.GLMJSError("error linking direct function for "+b+"<"+c+"> or "+b+"<"+[c,void 0]+">");return/\bthis[\[.]/.test(e+"")?e.bind(a):e}}},"template<T>":function(a,b){a.$sig="template<T>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,
d=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tglm_"+b,function(b){this instanceof d&&(b=this);var i=[b&&b.$type||c[typeof b]||c.get(b)||"null"];if(!a[i])throw e(a,arguments.callee.dbg,i,[b]);return a[i](b)}))())},"template<T,...>":function(a,b){a.$sig="template<T,...>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,d=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tdotglm_"+b,function(b){for(var i=Array(arguments.length),
g=0;g<i.length;g++)i[g]=arguments[g];this instanceof d&&i.unshift(b=this);g=[b&&b.$type||c[typeof b]||c.get(b)||"null"];if(!a[g])throw e(a,arguments.callee.dbg,g,i);return a[g].apply(a,i)}))())},"template<T,V,number>":function(a,b){a.$sig="template<T,V,number>";var c=GLM.$template.jstypes,e=GLM.$template._genArgError,d=GLM.GLMJSError,m=GLM.$GLMBaseType;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVnglm_"+b,function(){for(var b=Array(arguments.length),g=0;g<b.length;g++)b[g]=
arguments[g];this instanceof m&&b.unshift(this);var g=b[0],n=b[1],b=b[2],j=[g&&g.$type||c[typeof g]||c[g+""]||"<unknown "+g+">",n&&n.$type||c[typeof n]||c[n+""]||"<unknown "+n+">"];if(!a[j])throw e(a,arguments.callee.dbg,j,[g,n,b]);if("number"!==typeof b)throw new d(arguments.callee.dbg+a.$sig+": unsupported n type: "+[typeof b,b]);return a[j](g,n,b)}))())},"template<T,V,...>":function(a,b){a.$sig="template<T,V,...>";var c=GLM.$template.jstypes,e=GLM.$GLMBaseType,d=GLM.$template._genArgError,m=GLM.$outer.Array;
return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVglm_"+b,function(){for(var b=new m(arguments.length),g=0;g<b.length;g++)b[g]=arguments[g];this instanceof e&&b.unshift(this);var g=b[0],n=b[1],g=[g&&g.$type||c[typeof g],n&&n.$type||c[typeof n]||c[n+""]||m.isArray(n)&&"array"+n.length+""||""+n+""];if(!a[g])throw d(a,arguments.callee.dbg,g,b);return a[g].apply(a,b)}))())},override:function(a,b,c,e,d){function m(a,c){GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+
Object.keys(a.$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return!~c.indexOf(a)?"*"+a+"*":a}).join(" | "))}GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",a,b,c.$op?'$op: ["'+c.$op+'"]':"");if(!e)throw Error("unspecified target group "+e+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var i=e[b];if(i&&i.$op!==c.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+[i.$op,"!=",c.$op].join(" ")+'"  p='+[b,i.$op,c.$op,"||"+
Object.keys(i.$template).join("||")]);var g=GLM.$template[a](GLM.$template.deNify(c,b),b);if(i&&i.F.$sig!==g.F.$sig)throw Error('glm.$template.override: mismatch merging existing override: .$sig "'+[i&&i.F.$sig,"!=",g.F.$sig].join(" ")+'"  p='+[b,i&&i.F.$sig,g.F.$sig,"||"+Object.keys(i&&i.$template||{}).join("||")]);g.$op=c.$op;if(i){for(var n in g.$template)"$op"===n||"$sig"===n||(a=n in i.$template,!a||!0===d?(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+n+" merged"),
i.$template[n]=g.$template[n]):a&&GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+n+" skipped"));if(GLM.$DEBUG){var j=[];Object.keys(i.$template).forEach(function(a){a in g.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+a+" carried-forward"),j.push(a))});m(e[b],j)}}else e[b]=g,GLM.$DEBUG&&m(e[b],[]);return e},_override:function(a,b,c){for(var e in b){if("mat4_scale"!==e&&"object"!==typeof b[e])throw new GLM.GLMJSError("expect object property overrides"+
[e,b[e],Object.keys(c)]);"object"===typeof b[e]?this.override(a,e,b[e],c,!0):ret_scale=5}return c},slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},extend:function(a,b){[].slice.call(arguments,1).forEach(function(b){if(b)for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])});return a},"declare<T,V,...>":function(a){return!a?{}:this._override("template<T,V,...>",a,GLM.$outer.functions)},"declare<T>":function(a){return!a?{}:this._override("template<T>",a,GLM.$outer.functions)},
"declare<T,...>":function(a){return!a?{}:this._override("template<T,...>",a,GLM.$outer.functions)},"declare<T,V,number>":function(a){return!a?{}:this._override("template<T,V,number>",a,GLM.$outer.functions)},_tojsname:function(a){return(a||"_").replace(/[^$a-zA-Z0-9_]/g,"_")},_traceable:function(a,b){var c=b;if("function"!==typeof c)throw new GLM.GLMJSError("_traceable expects tidy function as second arg "+c);if(!a)throw new GLM.GLMJSError("_traceable expects hint or what's the point"+[c,a]);a=this._tojsname(a||
"_traceable");c=c.toString().replace(/^(\s*var\s*(\w+)\s*=\s*)__VA_ARGS__;/mg,function(a,b,c){return b+"new Array(arguments.length);for(var I=0;I<varname.length;I++)varname[I]=arguments[I];".replace(/I/g,"__VA_ARGS__I").replace(/varname/g,c)}).replace(/\barguments[.]callee\b/g,a);if(/^function _traceable/.test(c))throw new GLM.GLMJSError("already wrapped in a _traceable: "+[c,a]);c='function _traceable(){ "use strict"; SRC; return HINT; }'.replace("HINT",a.replace(/[$]/g,"$$$$")).replace("SRC",c.replace(/[$]/g,
"$$$$").replace(/^function\s*\(/,"function "+a+"("));c="1,"+c;if(GLM.$DEBUG)try{eval(c)}catch(e){throw console.error("_traceable error",a,c,b,e),e;}return c},deNify:function(a,b){var c={vec:[2,3,4],mat:[3,4]},e=this._tojsname.bind(this),d;for(d in a){var m=!1;d.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,function(i,g){m=!0;var n=a[d];delete a[d];c[g.toLowerCase()].forEach(function(c){var g=d.replace(/<N[*]N>/g,c*c).replace(/<N>/g,c);if(!(g in a)){var i=e("glm_"+b+"_"+g);a[g]=eval("'use strict'; 1,"+(n+"").replace(/^function\s*\(/,
"function "+i+"(").replace(/N[*]N/g,c*c).replace(/N/g,c))}})}.bind(this));/^[$]/.test(d)?GLM.$DEBUG&&GLM.$outer.console.debug("@ NOT naming "+d):!m&&("function"===typeof a[d]&&!a[d].name)&&(GLM.$DEBUG&&GLM.$outer.console.debug("naming "+e(b+"_"+d)),a[d]=eval(this._traceable("glm_"+b+"_"+d,a[d]))())}return a},$_module_stamp:+new Date,_iso:"/[*][^/*]*[*]/",_get_argnames:function(a){return(a+"").replace(/\s+/g,"").replace(RegExp(this._iso,"g"),"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,
"").split(",").filter(Boolean)},_fix_$_names:function(a,b){Object.keys(b).filter(function(a){return"function"===typeof b[a]&&!b[a].name}).map(function(c){var e=a+"_"+c;GLM.$DEBUG&&GLM.$outer.console.debug("naming $."+c+" == "+e,this._traceable(e,b[c]));b[c]=eval(this._traceable("glm_"+e,b[c]))()}.bind(this));return b},_typedArrayMaker:function(a,b){return function(c){if(c.length===a)return new b(c);var e=new b(a);e.set(c);return e}},GLMType:function(a,b){var c=this._fix_$_names(a,b),e=c.identity.length,
d,m=Object,i=GLM.$template._get_argnames.bind(GLM.$template),g=GLM.GLMJSError,n={},j;for(j in c)"function"===typeof c[j]&&function(a){n[j]=function(b){return a.apply(c,b)}}(c[j]);d=function(b){var d=n[typeof b[0]+b.length];if(!d){var e="glm."+a;b=e+"("+b.map(function(a){return typeof a})+")";d=m.keys(c).filter(function(a){return"function"===typeof c[a]&&/^\w+\d+$/.test(a)}).map(function(a){return e+"("+i(c[a])+")"});throw new g("no constructor found for: "+b+"\nsupported signatures:\n\t"+d.join("\n\t"));
}return d};var v,u=GLM;GLM.$template._get_argnames.bind(GLM.$template);v=function(b,c){2<u.$DEBUG&&u.$outer.console.info("adopting elements...",typeof b);if(b.length!=e){if(!1===c)return c;u.$outer.console.error(a+" elements size mismatch: "+["wanted:"+e,"handed:"+b.length]);var d=u.$subarray(b,0,e);throw new u.GLMJSError(a+" elements size mismatch: "+["wanted:"+e,"handed:"+b.length,"theoreticaly-correctable?:"+(d.length===e)]);}return b};var q=this._typedArrayMaker(e,GLM.$outer.Float32Array),A,z=
GLM.$outer;A=function(a){return a instanceof z.Float32Array};var w=function(a,b,c,f,g,i,j,k){return eval(k("glm_"+g+"$class",function(c){for(var f=new a(arguments.length),g=0;g<f.length;g++)f[g]=arguments[g];var i=d(f),g=w;if(this instanceof g)f=A(c)?v(c):q(i(f)),b.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:f});else return f=A(c)&&c.length===e?q(c):i(f),new g(f)}))()}(Array,Object,GLM,c,a,GLM.$template._get_argnames.bind(GLM.$template),GLM.GLMJSError,GLM.$template._traceable.bind(GLM.$template));
c.components=c.components?c.components.map(function(a){return"string"===typeof a?a.split(""):a}):[];w.$=c;w.componentLength=e;w.BYTES_PER_ELEMENT=e*GLM.$outer.Float32Array.BYTES_PER_ELEMENT;w.prototype=new GLM.$GLMBaseType(w,a);w.toJSON=function(){var b={glm$type:a,glm$class:w.prototype.$type_name,glm$eg:(new w).object},c;for(c in w)/function |^[$]/.test(c+w[c])||(b[c]=w[c]);return b};return w}};
GLM.$template["declare<T,V,...>"]({cross:{"vec2,vec2":function(a,b){return this.GLM.vec3(0,0,a.x*b.y-a.y*b.x)}},distance:{"vec<N>,vec<N>":function(a,b){return this.GLM.length(b.sub(a))}}});
GLM.$template["declare<T,V,number>"]({mix:{"float,float":function(a,b,c){return b*c+a*(1-c)},"vec<N>,vec<N>":function(a,b,c){var e=1-c,d=new this.GLM.vecN(new a.elements.constructor(N)),m=d.elements;a=a.elements;b=b.elements;for(var i=0;i<N;i++)m[i]=b[i]*c+a[i]*e;return d}},clamp:{"float,float":function(a,b,c){return GLM._clamp(a,b,c)},"vec<N>,float":function(a,b,c){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._clamp(a,b,c)}))}},epsilonEqual:{"float,float":GLM._epsilonEqual,"vec<N>,vec<N>":function(a,
b,c){for(var e=this["float,float"],d=glm.bvecN(),m=0;m<N;m++)d[m]=e(a[m],b[m],c);return d},"ivec<N>,ivec<N>":function(a,b,c){return this["vecN,vecN"](a,b,c)},"uvec<N>,uvec<N>":function(a,b,c){return this["vecN,vecN"](a,b,c)},"quat,quat":function(a,b,c){for(var e=this["float,float"],d=glm.bvec4(),m=0;4>m;m++)d[m]=e(a[m],b[m],c);return d},"mat<N>,mat<N>":function(){throw new GLM.GLMJSError("error: 'epsilonEqual' only accept floating-point and integer scalar or vector inputs");}}});
GLM.$template.extend(GLM,GLM.$template["declare<T>"]({degrees:{"float":function(a){return this.GLM._degrees(a)},"vec<N>":function(a){return new this.GLM.vecN(this.GLM.$to_array(a).map(this.GLM._degrees))}},radians:{"float":function(a){return this.GLM._radians(a)},"vec<N>":function(a){return new this.GLM.vecN(this.GLM.$to_array(a).map(this.GLM._radians))}},sign:{"null":function(){return 0},undefined:function(){return NaN},string:function(){return NaN},"float":function(a){return GLM._sign(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._sign))},
"ivec<N>":function(a){return new GLM.ivecN(GLM.$to_array(a).map(GLM._sign))}},abs:{"float":function(a){return GLM._abs(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._abs))}},fract:{"float":function(a){return GLM._fract(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._fract))}},all:{"vec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},"bvec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},"ivec<N>":function(a){return N===
GLM.$to_array(a).filter(Boolean).length},"uvec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},quat:function(a){return 4===GLM.$to_array(a).filter(Boolean).length}},$to_object:{vec2:function(a){return{x:a.x,y:a.y}},vec3:function(a){return{x:a.x,y:a.y,z:a.z}},vec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},uvec2:function(a){return{x:a.x,y:a.y}},uvec3:function(a){return{x:a.x,y:a.y,z:a.z}},uvec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},ivec2:function(a){return{x:a.x,y:a.y}},
ivec3:function(a){return{x:a.x,y:a.y,z:a.z}},ivec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},bvec2:function(a){return{x:!!a.x,y:!!a.y}},bvec3:function(a){return{x:!!a.x,y:!!a.y,z:!!a.z}},bvec4:function(a){return{x:!!a.x,y:!!a.y,z:!!a.z,w:!!a.w}},quat:function(a){return{w:a.w,x:a.x,y:a.y,z:a.z}},mat3:function(a){return{"0":this.vec3(a[0]),1:this.vec3(a[1]),2:this.vec3(a[2])}},mat4:function(a){return{"0":this.vec4(a[0]),1:this.vec4(a[1]),2:this.vec4(a[2]),3:this.vec4(a[3])}}},roll:{$atan2:Math.atan2,
quat:function(a){return this.$atan2(2*(a.x*a.y+a.w*a.z),a.w*a.w+a.x*a.x-a.y*a.y-a.z*a.z)}},pitch:{$atan2:Math.atan2,quat:function(a){return this.$atan2(2*(a.y*a.z+a.w*a.x),a.w*a.w-a.x*a.x-a.y*a.y+a.z*a.z)}},yaw:{$asin:Math.asin,quat:function(a){return this.$asin(this.GLM.clamp(-2*(a.x*a.z-a.w*a.y),-1,1))}},eulerAngles:{quat:function(a){return this.GLM.vec3(this.GLM.pitch(a),this.GLM.yaw(a),this.GLM.roll(a))}}}),GLM.$template["declare<T,...>"]({$from_glsl:{string:function(a,b){var c;a.replace(/^([$\w]+)\(([-.0-9ef, ]+)\)$/,
function(a,d,m){a=glm[d]||glm["$"+d];if(!a)throw new GLM.GLMJSError("glsl decoding issue: unknown type '"+d+"'");c=m.split(",").map(parseFloat);if(!b||b===a)c=a.apply(glm,c);else{if(!0===b||b===Array){for(;c.length<a.componentLength;)c.push(c[c.length-1]);return c}throw new GLM.GLMJSError("glsl decoding issue: second argument expected to be undefined|true|Array");}});return c}},$to_glsl:{"vec<N>":function(a,b){var c=GLM.$to_array(a);b&&("object"===typeof b&&"precision"in b)&&(c=c.map(function(a){return a.toFixed(b.precision)}));
for(;c.length&&c[c.length-2]===c[c.length-1];)c.pop();return a.$type+"("+c+")"},"uvec<N>":function(a,b){return this.vecN(a,b)},"ivec<N>":function(a,b){return this.vecN(a,b)},"bvec<N>":function(a,b){return this.vecN(a,b)},quat:function(a,b){var c;b&&("object"===typeof b&&"precision"in b)&&(c=b.precision);return 0===a.x+a.y+a.z?"quat("+(void 0===c?a.w:a.w.toFixed(c))+")":this.vec4(a,b)},"mat<N>":function(a,b){var c;b&&("object"===typeof b&&"precision"in b)&&(c=b.precision);var e=GLM.$to_array(a);void 0!==
c&&(e=e.map(function(a){return a.toFixed(c)}));return e.reduce(function(a,b){return a+1*b},0)===e[0]*N?"matN("+e[0]+")":"matN("+e+")"}},frexp:{"float":function(a,b){return 1===arguments.length?this["float,undefined"](a):this["float,array"](a,b)},"vec<N>":function(a,b){if(2>arguments.length)throw new GLM.GLMJSError("frexp(vecN, ivecN) expected ivecN as second parameter");return GLM.vecN(GLM.$to_array(a).map(function(a,e){var d=GLM._frexp(a);b[e]=d[1];return d[0]}))},"float,undefined":function(a){return GLM._frexp(a)},
"float,array":function(a,b){return GLM._frexp(a,b)}},ldexp:{"float":GLM._ldexp,"vec<N>":function(a,b){return GLM.vecN(GLM.$to_array(a).map(function(a,e){return GLM._ldexp(a,b[e])}))}}}));
GLM.$template["declare<T,V,...>"]({rotate:{"float,vec3":function(a,b){return this.GLM.$outer.mat4_angleAxis(a,b)},"mat4,float":function(a,b,c){return a.mul(this.GLM.$outer.mat4_angleAxis(b,c))}},scale:{$outer:GLM.$outer,"mat4,vec3":function(a,b){return a.mul(this.$outer.mat4_scale(b))},"vec3,undefined":function(a){return this.$outer.mat4_scale(a)}},translate:{"mat4,vec3":function(a,b){return a.mul(this.GLM.$outer.mat4_translation(b))},"vec3,undefined":function(a){return this.GLM.$outer.mat4_translation(a)}},
angleAxis:{"float,vec3":function(a,b){return this.GLM.$outer.quat_angleAxis(a,b)}},min:{"float,float":function(a,b){return this.GLM._min(a,b)},"vec<N>,float":function(a,b){return new this.GLM.vecN(this.GLM.$to_array(a).map(function(a){return this.GLM._min(a,b)}.bind(this)))}},max:{"float,float":function(a,b){return this.GLM._max(a,b)},"vec<N>,float":function(a,b){return new this.GLM.vecN(this.GLM.$to_array(a).map(function(a){return this.GLM._max(a,b)}.bind(this)))}},equal:{"float,float":GLM._equal,
"vec<N>,vec<N>":function(a,b){for(var c=this["float,float"],e=glm.bvecN(),d=0;d<N;d++)e[d]=c(a[d],b[d]);return e},"bvec<N>,bvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"quat,quat":function(a,b){for(var c=this["float,float"],e=glm.bvec4(),d=0;4>d;d++)e[d]=c(a[d],b[d]);return e}},_slerp:{"quat,quat":function(a,b,c){var e=b,d=glm.dot(glm.vec4(a),glm.vec4(b));0>d&&(e=
b.mul(-1),d=-d);if(d>1-glm.epsilon())return glm.quat(glm.mix(a.w,e.w,c),glm.mix(a.x,e.x,c),glm.mix(a.y,e.y,c),glm.mix(a.z,e.z,c));b=Math.acos(d);return(a.mul(Math.sin((1-c)*b))+e.mul(Math.sin(c*b)))/Math.sin(b)}},rotation:{"vec3,vec3":function(a,b){var c=this.$dot(a,b),e=new a.constructor(new a.elements.constructor(3));if(c>=1-this.$epsilon)return this.$quat();if(c<-1+this.$epsilon)return e=this.$cross(this.$m[2],a),this.$length2(e)<this.$epsilon&&(e=this.$cross(this.$m[0],a)),e=this.$normalize(e),
this.$angleAxis(this.$pi,e);var e=this.$cross(a,b),c=this.$sqrt(2*(1+c)),d=1/c;return this.$quat(0.5*c,e.x*d,e.y*d,e.z*d)}},project:{"vec3,mat4":function(a,b,c,e){a=glm.vec4(a,1);a=b["*"](a);a=c["*"](a);a["/="](a.w);a=a["*"](0.5)["+"](0.5);a[0]=a[0]*e[2]+e[0];a[1]=a[1]*e[3]+e[1];return glm.vec3(a)}},unProject:{"vec3,mat4":function(a,b,c,e){b=glm.inverse(c["*"](b));a=glm.vec4(a,1);a.x=(a.x-e[0])/e[2];a.y=(a.y-e[1])/e[3];a=a["*"](2)["-"](glm.vec4(1));e=b["*"](a);e["/="](e.w);return glm.vec3(e)}},orientedAngle:{"vec3,vec3":function(a,
b,c){var e=Math.acos(glm.clamp(glm.dot(a,b),0,1));return glm.mix(e,-e,0>glm.dot(c,glm.cross(a,b))?1:0)}}});
GLM.$to_string=GLM.$template["declare<T,...>"]({$to_string:{"function":function(a){return"[function "+(a.name||"anonymous")+"]"},ArrayBuffer:function(a){return"[object ArrayBuffer "+JSON.stringify({byteLength:a.byteLength})+"]"},Float32Array:function(a){return"[object Float32Array "+JSON.stringify({length:a.length,byteOffset:a.byteOffset,byteLength:a.byteLength,BPE:a.BYTES_PER_ELEMENT})+"]"},"float":function(a,b){return GLM.$toFixedString("float",{value:a},["value"],b&&b.precision)},string:function(a){return a},
bool:function(a){return"bool("+a+")"},"vec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&b.precision)},"uvec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&"object"===typeof b&&b.precision||0)},"ivec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&"object"===typeof b&&b.precision||0)},"bvec<N>":function(a){return a.$type_name+"("+GLM.$to_array(a).map(Boolean).join(", ")+")"},"mat<N>":function(a,b){var c=[0,1,2,
3].slice(0,N).map(function(b){return a[b]}).map(function(a){return GLM.$toFixedString("\t",a,a.$components,b&&b.precision)});return a.$type_name+"(\n"+c.join(", \n")+"\n)"},quat:function(a,b){a=GLM.degrees(GLM.eulerAngles(a));return GLM.$toFixedString("<quat>"+a.$type_name,a,["x","y","z"],b&&b.precision)}}}).$to_string;
GLM.$template["declare<T,V,...>"]({copy:{$op:"=","vec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,array<N>":function(a,b){a.elements.set(b);return a},"vec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,array<N>":function(a,b){a.elements.set(b);return a},
"uvec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,array<N>":function(a,b){a.elements.set(b);return a},"ivec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,bvec<N>":function(a,
b){a.elements.set(b.elements);return a},"bvec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,array<N>":function(a,b){a.elements.set(b);return a},"bvec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"quat,quat":function(a,b){a.elements.set(b.elements);return a},"mat<N>,mat<N>":function(a,b){a.elements.set(b.elements);return a},
"mat<N>,array<N>":function(a,b){b=b.reduce(function(a,b){if(!a.concat)throw new GLM.GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return a.concat(b)});if(b===N)throw new GLM.GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");return a["="](b)},"mat<N>,array<N*N>":function(a,b){a.elements.set(b);return a},"mat4,array9":function(a,b){a.elements.set((new GLM.mat4(b)).elements);return a}},sub:{$op:"-",_sub:function(a,b){return this.GLM.$to_array(a).map(function(a,e){return a-b[e]})},"vec<N>,vec<N>":function(a,
b){return new this.GLM.vecN(this._sub(a,b))},"vec<N>,uvec<N>":function(a,b){return new this.GLM.vecN(this._sub(a,b))},"uvec<N>,uvec<N>":function(a,b){return new this.GLM.uvecN(this._sub(a,b))},"uvec<N>,ivec<N>":function(a,b){return new this.GLM.uvecN(this._sub(a,b))},"vec<N>,ivec<N>":function(a,b){return new this.GLM.vecN(this._sub(a,b))},"ivec<N>,uvec<N>":function(a,b){return new this.GLM.ivecN(this._sub(a,b))},"ivec<N>,ivec<N>":function(a,b){return new this.GLM.ivecN(this._sub(a,b))}},sub_eq:{$op:"-=",
"vec<N>,vec<N>":function(a,b){for(var c=a.elements,e=b.elements,d=0;d<N;d++)c[d]-=e[d];return a},"vec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"vec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)}},add:{$op:"+",_add:function(a,
b){return this.GLM.$to_array(a).map(function(a,e){return a+b[e]})},"vec<N>,float":function(a,b){return new this.GLM.vecN(this._add(a,[b,b,b,b]))},"vec<N>,vec<N>":function(a,b){return new this.GLM.vecN(this._add(a,b))},"vec<N>,uvec<N>":function(a,b){return new this.GLM.vecN(this._add(a,b))},"uvec<N>,uvec<N>":function(a,b){return new this.GLM.uvecN(this._add(a,b))},"uvec<N>,ivec<N>":function(a,b){return new this.GLM.uvecN(this._add(a,b))},"vec<N>,ivec<N>":function(a,b){return new this.GLM.vecN(this._add(a,
b))},"ivec<N>,ivec<N>":function(a,b){return new this.GLM.ivecN(this._add(a,b))},"ivec<N>,uvec<N>":function(a,b){return new this.GLM.ivecN(this._add(a,b))}},add_eq:{$op:"+=","vec<N>,vec<N>":function(a,b){for(var c=a.elements,e=b.elements,d=0;d<N;d++)c[d]+=e[d];return a},"vec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"vec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,
b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)}},div:{$op:"/","vec<N>,float":function(a,b){return new this.GLM.vecN(this.GLM.$to_array(a).map(function(a){return a/b}))}},div_eq:{$op:"/=","vec<N>,float":function(a,b){for(var c=0;c<N;c++)a.elements[c]/=b;return a}},mul:{$op:"*","vec<N>,vec<N>":function(a,b){return new this.GLM.vecN(this.GLM.$to_array(a).map(function(a,e){return a*b[e]}))}},eql_epsilon:function(a){return{$op:"~=",
"vec<N>,vec<N>":a,"mat<N>,mat<N>":a,"quat,quat":a,"uvec<N>,uvec<N>":a,"ivec<N>,ivec<N>":a}}(function(a,b){return this.GLM.all(this.GLM.epsilonEqual(a,b,this.GLM.epsilon()))}),eql:function(a){return{$op:"==","mat<N>,mat<N>":function(a,c){return c.elements.length===glm.$to_array(a).filter(function(a,b){return a===c.elements[b]}).length},"vec<N>,vec<N>":a,"quat,quat":a,"uvec<N>,uvec<N>":a,"ivec<N>,ivec<N>":a,"bvec<N>,bvec<N>":a}}(function(a,b){return GLM.all(GLM.equal(a,b))})});
GLM.string={$type_name:"string",$:{}};GLM.number={$type_name:"float",$:{}};GLM["boolean"]={$type:"bool",$type_name:"bool",$:{}};
GLM.vec2=GLM.$template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},number1:function(a){return[a,a]},number2:function(a,b){return[a,b]},object1:function(a){if(null!==a)switch(a.length){case 4:case 3:case 2:return[a[0],a[1]];default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+a);return"string"===typeof a.x?[1*a.x,1*a.y]:[a.x,a.y]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec2: "+
a);}});
GLM.uvec2=GLM.$template.GLMType("uvec2",{name:"uvec2",identity:[0,0],components:["xy","01"],_clamp:function(a){return~~a},undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b]},object1:function(a){switch(a.length){case 4:case 3:case 2:return[a[0],a[1]].map(this._clamp);default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+
": "+a);return[a.x,a.y].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+a);}});
GLM.vec3=GLM.$template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(a){return[a,a,a]},number2:function(a,b){return[a,b,b]},number3:function(a,b,c){return[a,b,c]},Error:GLM.GLMJSError,object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]];case 2:return[a[0],a[1],a[1]];default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new this.Error("unrecognized .x-ish object passed to GLM.vec3: "+
a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z]:[a.x,a.y,a.z]}}throw new this.Error("unrecognized object passed to GLM.vec3: "+a);},object2:function(a,b){if(a instanceof GLM.vec2||a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,b];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[a,b]);}});
GLM.uvec3=GLM.$template.GLMType("uvec3",{name:"uvec3",identity:[0,0,0],components:["xyz","012"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b]},number3:function(a,b,c){a=this._clamp(a);b=this._clamp(b);c=this._clamp(c);return[a,b,c]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1]].map(this._clamp);
default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+a);return[a.x,a.y,a.z].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+a);},object2:function(a,b){if(a instanceof GLM.vec2)return[a.x,a.y,b].map(this._clamp);if(a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+
this.name+"(o,z): "+[a,b]);}});
GLM.vec4=GLM.$template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},number1:function(a){return[a,a,a,a]},number2:function(a,b){return[a,b,b,b]},number3:function(a,b,c){return[a,b,c,c]},number4:function(a,b,c,e){return[a,b,c,e]},Error:GLM.GLMJSError,object1:function(a){if(a)switch(a.length){case 4:return[a[0],a[1],a[2],a[3]];case 3:return[a[0],a[1],a[2],a[2]];case 2:return[a[0],a[1],a[1],a[1]];default:if("w"in a&&"x"in
a){if(typeof a.x!==typeof a.w)throw new this.Error("unrecognized .x-ish object passed to GLM.vec4: "+a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,a.z,a.w]}}throw new this.Error("unrecognized object passed to GLM.vec4: "+[a,a&&a.$type]);},$GLM:GLM,object2:function(a,b){if(a instanceof this.$GLM.vec3||a instanceof this.$GLM.uvec3||a instanceof this.$GLM.ivec3||a instanceof this.$GLM.bvec3)return[a.x,a.y,a.z,b];throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+
[a,b]);},object3:function(a,b,c){if(a instanceof this.$GLM.vec2||a instanceof this.$GLM.uvec2||a instanceof this.$GLM.ivec2||a instanceof this.$GLM.bvec2)return[a.x,a.y,b,c];throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[a,b,c]);}});
GLM.uvec4=GLM.$template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b,b]},number3:function(a,b,c){a=this._clamp(a);b=this._clamp(b);c=this._clamp(c);return[a,b,c,c]},number4:function(a,b,c,e){return[a,b,c,e].map(this._clamp)},Error:GLM.GLMJSError,object1:function(a){if(a)switch(a.length){case 4:return[a[0],
a[1],a[2],a[3]].map(this._clamp);case 3:return[a[0],a[1],a[2],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1],a[1]].map(this._clamp);default:if("w"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new this.Error("unrecognized .x-ish object passed to GLM."+this.name+": "+a);return[a.x,a.y,a.z,a.w].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+[a,a&&a.$type]);},object2:function(a,b){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,b].map(this._clamp);if(a instanceof
GLM.uvec3||a instanceof GLM.ivec3||a instanceof GLM.bvec3)return[a.x,a.y,a.z,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,w): "+[a,b]);},object3:function(a,b,c){if(a instanceof GLM.vec2)return[a.x,a.y,b,c].map(this._clamp);if(a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,this._clamp(b),this._clamp(c)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,z,w): "+[a,b,c]);}});
GLM.ivec2=GLM.$template.GLMType("ivec2",GLM.$template.extend({},GLM.uvec2.$,{name:"ivec2"}));GLM.ivec3=GLM.$template.GLMType("ivec3",GLM.$template.extend({},GLM.uvec3.$,{name:"ivec3"}));GLM.ivec4=GLM.$template.GLMType("ivec4",GLM.$template.extend({},GLM.uvec4.$,{name:"ivec4"}));GLM.bvec2=GLM.$template.GLMType("bvec2",GLM.$template.extend({},GLM.uvec2.$,{name:"bvec2",boolean1:GLM.uvec2.$.number1,boolean2:GLM.uvec2.$.number2}));
GLM.bvec3=GLM.$template.GLMType("bvec3",GLM.$template.extend({},GLM.uvec3.$,{name:"bvec3",boolean1:GLM.uvec3.$.number1,boolean2:GLM.uvec3.$.number2,boolean3:GLM.uvec3.$.number3}));GLM.bvec4=GLM.$template.GLMType("bvec4",GLM.$template.extend({},GLM.uvec4.$,{name:"bvec4",boolean1:GLM.uvec4.$.number1,boolean2:GLM.uvec4.$.number2,boolean3:GLM.uvec4.$.number3,boolean4:GLM.uvec4.$.number4}));GLM.bvec2.$._clamp=GLM.bvec3.$._clamp=GLM.bvec4.$._clamp=function(a){return!!a};
GLM.mat3=GLM.$template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(a){return 1===a?this.identity:[a,0,0,0,a,0,0,0,a]},number9:function(a,b,c,e,d,m,i,g,n){return arguments},Error:GLM.GLMJSError,$vec3:GLM.vec3,object1:function(a){if(a){var b=a.elements||a;if(16===b.length)return[b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]];if(9===b.length)return b;if(0 in b&&1 in b&&2 in b&&!(3 in b)&&"object"===typeof b[2])return[b[0],b[1],
b[2]].map(this.$vec3.$.object1).reduce(function(a,b){return a.concat(b)})}throw new this.Error("unrecognized object passed to GLM.mat3: "+a);},object3:function(a,b,c){return[a,b,c].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});
GLM.mat4=GLM.$template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(a,b,c,e,d,m,i,g,n,j,v,u,q,A,z,w){return arguments},number1:function(a){return 1===a?this.identity:[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,a]},Error:GLM.GLMJSError,$vec4:GLM.vec4,object1:function(a){var b;if(a){b=a.elements||a;if(9===b.length)return[b[0],b[1],b[2],0,b[3],b[4],b[5],0,b[6],b[7],b[8],0,0,0,0,1];if(4===b.length&&b[0]&&4===b[0].length)return b[0].concat(b[1],
b[2],b[3]);if(16===b.length)return b;if(0 in b&&1 in b&&2 in b&&3 in b&&!(4 in b)&&"object"===typeof b[3])return[b[0],b[1],b[2],b[3]].map(this.$vec4.$.object1).reduce(function(a,b){return a.concat(b)})}throw new this.Error("unrecognized object passed to GLM.mat4: "+[a,b&&b.length]);},object4:function(a,b,c,e){return[a,b,c,e].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});
GLM.quat=GLM.$template.GLMType("quat",{identity:[0,0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(a){if(1!==a)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(a,b,c,e){return[b,c,e,a]},$GLM:GLM,$M3:GLM.mat3(),$quat_array_from_zyx:function(a){var b=this.$M3;return this.$GLM.$outer.quat_angleAxis(a.z,b[2]).mul(this.$GLM.$outer.quat_angleAxis(a.y,b[1])).mul(this.$GLM.$outer.quat_angleAxis(a.x,
b[0])).elements},object1:function(a){if(a){if(a instanceof this.$GLM.mat4)return this.$GLM.$outer.quat_array_from_mat4(a);if(4===a.length)return[a[0],a[1],a[2],a[3]];if(a instanceof this.$GLM.quat)return[a.x,a.y,a.z,a.w];if(a instanceof this.$GLM.vec3)return this.$quat_array_from_zyx(a);if("w"in a&&"x"in a)return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,a.z,a.w]}throw new this.$GLM.GLMJSError("unrecognized object passed to GLM.quat.object1: "+[a,a&&a.$type,typeof a,a&&a.constructor]);
}});
(function(){var a=function(a,b,c,e){var n={def:function(b,c){this[b]=c;Object.defineProperty(a.prototype,b,c)}};a.$properties=a.$properties||n;var j=a.$properties.def.bind(a.$properties),v=[0,1,2,3].map(function(a){return{enumerable:c,get:function(){return this.elements[a]},set:function(b){this.elements[a]=b}}});b.forEach(function(a,b){j(a,v[b])});if(isNaN(b[0])&&!/^_/.test(b[0])){var n=b.slice(),u=GLM.$subarray;do(function(a,b,c){"quat"===b&&(b="vec"+c);var d=GLM[b];j(a,{enumerable:!1,get:function(){return new d(u(this.elements,0*
c,1*c))},set:function(a){return(new d(u(this.elements,0*c,1*c)))["="](a)}})})(n.join(""),a.prototype.$type.replace(/[1-9]$/,n.length),n.length);while(n[1]!=n.pop());if(e)return a.$properties;n=b.slice();if(b={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[n.join("")])for(var q in b)(function(a,b,c,d){j(a,{enumerable:!1,get:function(){return new GLM[b](GLM.$subarray(this.elements,0*c+d,1*c+d))},set:function(a){return(new GLM[b](GLM.$subarray(this.elements,0*c+d,1*c+d)))["="](a)}})})(q,a.prototype.$type.replace(/[1-9]$/,
q.length),q.length,b[q])}return a.$properties};a(GLM.vec2,GLM.vec2.$.components[0],!0);a(GLM.vec2,GLM.vec2.$.components[1]);a(GLM.vec3,GLM.vec3.$.components[0],!0);a(GLM.vec3,GLM.vec3.$.components[1]);a(GLM.vec3,GLM.vec3.$.components[2]);a(GLM.vec4,GLM.vec4.$.components[0],!0);a(GLM.vec4,GLM.vec4.$.components[1]);a(GLM.vec4,GLM.vec4.$.components[2]);a(GLM.quat,GLM.quat.$.components[0],!0,"noswizzles");a(GLM.quat,GLM.quat.$.components[1]);GLM.quat.$properties.def("wxyz",{enumerable:!1,get:function(){return new GLM.vec4(this.w,
this.x,this.y,this.z)},set:function(a){a=GLM.vec4(a);return this["="](GLM.quat(a.x,a.y,a.z,a.w))}});"uvec2 uvec3 uvec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4".split(" ").forEach(function(b){a(GLM[b],GLM[b].$.components[0],!0);a(GLM[b],GLM[b].$.components[1])});Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});var b={2:{yx:{enumerable:!1,get:function(){return new GLM.vec2(this.y,this.x)},set:function(a){a=GLM.vec2(a);this.y=a[0];this.x=a[1]}}},3:{xz:{enumerable:!1,
get:function(){return new GLM.vec2(this.x,this.z)},set:function(a){a=GLM.vec2(a);this.x=a[0];this.z=a[1]}},zx:{enumerable:!1,get:function(){return new GLM.vec2(this.z,this.x)},set:function(a){a=GLM.vec2(a);this.z=a[0];this.x=a[1]}},xzy:{enumerable:!1,get:function(){return new GLM.vec3(this.x,this.z,this.y)},set:function(a){a=GLM.vec3(a);this.x=a[0];this.z=a[1];this.y=a[2]}}},4:{xw:{enumerable:!1,get:function(){return new GLM.vec2(this.x,this.w)},set:function(a){a=GLM.vec2(a);this.x=a[0];this.w=a[1]}},
wz:{enumerable:!1,get:function(){return new GLM.vec2(this.w,this.z)},set:function(a){a=GLM.vec2(a);this.w=a[0];this.z=a[1]}},xzw:{enumerable:!1,get:function(){return new GLM.vec3(this.x,this.z,this.w)},set:function(a){a=GLM.vec3(a);this.x=a[0];this.z=a[1];this.w=a[2]}}}},c;for(c in b)for(var e in b[c])2>=c&&GLM.vec2.$properties.def(e,b[c][e]),3>=c&&GLM.vec3.$properties.def(e,b[c][e]),4>=c&&GLM.vec4.$properties.def(e,b[c][e]);GLM.$partition=function(a,b,c,e){if(void 0===c)throw new GLM.GLMJSError("nrows is undefined");
var n=b.$.identity.length;c=c||n;for(var j=function(a){3<GLM.$DEBUG&&GLM.$outer.console.debug("CACHEDBG: "+a)},v=0;v<c;v++)(function(c){var i=e&&e+c,v=c*n;Object.defineProperty(a,c,{configurable:!0,enumerable:!0,set:function(e){if(e instanceof b)this.elements.set(e.elements,v);else if(e&&e.length===n)this.elements.set(e,v);else throw new GLM.GLMJSError("unsupported argtype to "+(a&&a.$type)+"["+c+"] setter: "+[typeof e,e]);},get:function(){if(e){if(this[i])return c||j("cache hit "+i),this[i];c||j("cache miss "+
i)}var a,d=new b(a=GLM.$subarray(this.elements,v,v+n));if(d.elements!==a)throw new GLM.GLMJSError("v.elements !== t "+[GLM.$subarray,d.elements.constructor===a.constructor,d.elements.buffer===a.buffer]);e&&Object.defineProperty(this,i,{configurable:!0,enumerable:!1,value:d});return d}})})(v)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();
GLM.$dumpTypes=function(a){GLM.$types.forEach(function(b){GLM[b].componentLength&&a("GLM."+b,JSON.stringify({"#type":GLM[b].prototype.$type_name,"#floats":GLM[b].componentLength,"#bytes":GLM[b].BYTES_PER_ELEMENT}))})};
GLM.$init=function(a){a.prefix&&(GLMJS_PREFIX=a.prefix);GLM.$prefix=GLMJS_PREFIX;var b=a.log||function(){};try{b("GLM-js: ENV: "+_ENV._VERSION)}catch(c){}b("GLM-JS: initializing: "+JSON.stringify(a,0,2));b(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));var e=GLM.mat4,d=GLM.$outer;GLM.toMat4=function(a){return new e(d.mat4_array_from_quat(a))};GLM.$template.extend(GLM.rotation.$template,{$quat:GLM.quat,$dot:GLM.dot.link("vec3,vec3"),$epsilon:GLM.epsilon(),$m:GLM.mat3(),$pi:GLM.pi(),
$length2:GLM.length2.link("vec3"),$cross:GLM.cross.link("vec3,vec3"),$normalize:GLM.normalize.link("vec3"),$angleAxis:GLM.angleAxis.link("float,vec3"),$sqrt:GLM.sqrt});GLM.$symbols=[];for(var m in GLM)"function"===typeof GLM[m]&&/^[a-z]/.test(m)&&GLM.$symbols.push(m);GLM.$types.forEach(function(a){var b=GLM[a].prototype.$type,c;for(c in GLM.$outer.functions){var d=GLM.$outer.functions[c];d.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+b+"> "+c+" / "+d.$op),GLM[a].prototype[c]=d,GLM[a].prototype[d.$op]=
d)}});b("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+a.vendor_name+" vendor_version="+a.vendor_version);glm.vendor=a};
GLM.using_namespace=function(a){GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!");GLM.using_namespace.$tmp={ret:void 0,tpl:a,names:GLM.$symbols,saved:{},evals:[],restore:[],before:[],after:[]};eval(GLM.using_namespace.$tmp.names.map(function(a,c){return"GLM.using_namespace.$tmp.saved['"+a+"'] = GLM.using_namespace.$tmp.before["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+
GLM.using_namespace.$tmp.before.length);GLM.using_namespace.$tmp.names.map(function(a){GLM.using_namespace.$tmp.restore.push(a+"=GLM.using_namespace.$tmp.saved['"+a+"'];"+("GLM.using_namespace.$tmp.saved['"+a+"']=undefined;delete GLM.using_namespace.$tmp.saved['"+a+"'];"));GLM.using_namespace.$tmp.evals.push(a+"=GLM."+a+";")});eval(GLM.using_namespace.$tmp.evals.join("\n"));GLM.using_namespace.$tmp.ret=a();eval(GLM.using_namespace.$tmp.restore.join("\n"));eval(GLM.using_namespace.$tmp.names.map(function(a,
c){return"GLM.using_namespace.$tmp.after["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+GLM.using_namespace.$tmp.after.length);a=GLM.using_namespace.$tmp.ret;delete GLM.using_namespace.$tmp;return a};
function $GLM_extern(a,b){b=b||a;return function(){GLM[b]=GLM.$outer.functions[a]||GLM.$outer[a];if(!GLM[b])throw new GLM.GLMJSError("$GLM_extern: unresolved external symbol: "+a);GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+a+" "+typeof GLM[b]);return GLM[b].apply(this,arguments)}}
function GLM_polyfills(){var a={};"bind"in Function.prototype||(a.bind=Function.prototype.bind=function(a){function c(){}if("function"!==typeof this)throw new TypeError("not callable");var e=[].slice,d=e.call(arguments,1),m=this,i=function(){return m.apply(this instanceof c?this:a||global,d.concat(e.call(arguments)))};c.prototype=this.prototype||c.prototype;i.prototype=new c;return i});return a}
$GLM_reset_logging.current=function(){return{$GLM_log:"undefined"!==typeof $GLM_log&&$GLM_log,$GLM_console_log:"undefined"!==typeof $GLM_console_log&&$GLM_console_log,$GLM_console_prefixed:"undefined"!==typeof $GLM_console_prefixed&&$GLM_console_prefixed,console:GLM.$outer.console}};
function $GLM_reset_logging(a){a&&"object"===typeof a&&($GLM_log=a.$GLM_log,$GLM_console_log=a.$GLM_console_log,$GLM_console_factory=a.$GLM_console_factory,GLM.$outer.console=a.console,a=!1);if(a||"undefined"===typeof $GLM_log)$GLM_log=function(a,b){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(a){var b=typeof a;return"xboolean"===b||"string"===b?a+"":GLM.$isGLMObject(a)||!isNaN(a)?GLM.to_string(a):a+""}))};if(a||"undefined"===typeof $GLM_console_log)$GLM_console_log=
function(a,b){(console[a]||function(){}).apply(console,[].slice.call(arguments,1))};if(a||"undefined"===typeof $GLM_console_factory)$GLM_console_factory=function(a){return $GLM_console_log.bind($GLM_console_log,a)};var b=$GLM_console_factory,c={};"debug,warn,info,error,log,write".replace(/\w+/g,function(a){c[a]=b(a)});"object"===typeof GLM&&(GLM.$outer&&(GLM.$outer.console=c),GLM.$log=$GLM_log);return c}try{window.$GLM_reset_logging=this.$GLM_reset_logging=$GLM_reset_logging}catch(e$$19){}
GLM.$reset_logging=$GLM_reset_logging;GLM.$log=GLM.$log||$GLM_log;function $GLM_GLMJSError(a,b){function c(c){this.name=a;this.stack=Error().stack;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=c;b&&b.apply(this,arguments)}c.prototype=Error();c.prototype.name=a;return c.prototype.constructor=c}GLMAT.mat4.exists;glm=GLM;var DLL={_version:"0.0.2",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix"};
DLL.statics={$outer:GLM.$outer,$typeArray:function(a){return new this.$outer.Float32Array(a)},$mat4:GLM.mat4,$quat:GLM.quat,$mat4$perspective:GLMAT.mat4.perspective,mat4_perspective:function(a,b,c,e){return new this.$mat4(this.$mat4$perspective(this.$typeArray(16),a,b,c,e))},$quat$setAxisAngle:GLMAT.quat.setAxisAngle,$mat4$fromQuat:GLMAT.mat4.fromQuat,mat4_angleAxis:function(a,b){var c=this.$quat$setAxisAngle(this.$typeArray(4),b,a);return new this.$mat4(this.$mat4$fromQuat(this.$typeArray(16),c))},
quat_angleAxis:function(a,b){return new this.$quat(this.$quat$setAxisAngle(this.$typeArray(4),b,a))},$mat4$translate:GLMAT.mat4.translate,mat4_translation:function(a){var b=new this.$mat4;this.$mat4$translate(b.elements,b.elements,a.elements);return b},$mat4$scale:GLMAT.mat4.scale,mat4_scale:function(a){var b=new this.$mat4;this.$mat4$scale(b.elements,b.elements,a.elements);return b},toJSON:function(){var a={},b;for(b in this)0!==b.indexOf("$")&&(a[b]=this[b]);return a},$vec3:GLM.vec3,$clamp:GLM.clamp,
mat4_array_from_quat:function(a){return this.$mat4$fromQuat(this.$typeArray(16),a.elements)},$qtmp:new GLM.$outer.Float32Array(9),$quat$fromMat3:GLMAT.quat.fromMat3,$mat3$fromMat4:GLMAT.mat3.fromMat4,quat_array_from_mat4:function(a){return this.$quat$fromMat3(this.$typeArray(4),this.$mat3$fromMat4(this.$qtmp,a.elements))}};
DLL["declare<T,V,...>"]={mul:{$op:"*",$typeArray:function(a){return new this.GLM.$outer.Float32Array(a)},$vec3$transformQuat:GLMAT.vec3.transformQuat,"quat,vec3":function(a,b){return new this.GLM.vec3(this.$vec3$transformQuat(this.$typeArray(3),b.elements,a.elements))},"vec3,quat":function(a,b){return this["quat,vec3"](this.GLM.inverse(b),a)},"quat,vec4":function(a,b){return this["mat4,vec4"](this.GLM.toMat4(a),b)},"vec4,quat":function(a,b){return this["quat,vec4"](this.GLM.inverse(b),a)},"$vec<N>$scale":"GLMAT.vecN.scale",
"vec<N>,float":function(a,b){return new this.GLM.vecN(this.$vecN$scale(this.$typeArray(N),a.elements,b))},"quat,float":function(a,b){return new a.constructor(this["vec4,float"](a,b).elements)},$vec4$transformMat4:GLMAT.vec4.transformMat4,"mat4,vec4":function(a,b){return new GLM.vec4(this.$vec4$transformMat4(this.$typeArray(4),b.elements,a.elements))},"vec4,mat4":function(a,b){return this["mat4,vec4"](GLM.inverse(b),a)},"$mat<N>mul":"GLMAT.matN.mul","mat<N>,mat<N>":function(a,b){return new a.constructor(this.$matNmul(this.$typeArray(N*
N),a.elements,b.elements))},$quat$multiply:GLMAT.quat.multiply,"quat,quat":function(a,b){return new a.constructor(this.$quat$multiply(this.$typeArray(4),a.elements,b.elements))}},mul_eq:{$op:"*=","$mat<N>$multiply":"GLMAT.matN.multiply","mat<N>,mat<N>":function(a,b){this.$matN$multiply(a.elements,a.elements,b.elements);return a},"$vec<N>$scale":"GLMAT.vecN.scale","vec<N>,float":function(a,b){this.$vecN$scale(a.elements,a.elements,b);return a},$quat$multiply:GLMAT.quat.multiply,"quat,quat":function(a,
b){this.$quat$multiply(a.elements,a.elements,b.elements);return a},$quat$invert:GLMAT.quat.invert,$vec3$transformQuat:GLMAT.vec3.transformQuat,"inplace:vec3,quat":function(a,b){var c=this.$quat$invert(new this.GLM.$outer.Float32Array(4),b.elements);this.$vec3$transformQuat(a.elements,a.elements,c);return a},$mat4$invert:GLMAT.mat4.invert,$vec4$transformMat4:GLMAT.vec4.transformMat4,"inplace:vec4,mat4":function(a,b){var c=this.$mat4$invert(new this.GLM.$outer.Float32Array(16),b.elements);this.$vec4$transformMat4(a.elements,
a.elements,c);return a}},cross:{$vec2$cross:GLMAT.vec2.cross,"vec2,vec2":function(a,b){return new this.GLM.vec3(this.$vec2$cross(new this.GLM.$outer.Float32Array(3),a,b))},$vec3$cross:GLMAT.vec3.cross,"vec3,vec3":function(a,b){return new this.GLM.vec3(this.$vec3$cross(new this.GLM.$outer.Float32Array(3),a,b))}},dot:{"$vec<N>$dot":"GLMAT.vecN.dot","vec<N>,vec<N>":function(a,b){return this.$vecN$dot(a,b)}},lookAt:{$mat4$lookAt:GLMAT.mat4.lookAt,"vec3,vec3":function(a,b,c){return this.GLM.quat(new this.GLM.mat4(this.$mat4$lookAt(new this.GLM.$outer.Float32Array(16),
a.elements,b.elements,c.elements)))}}};DLL["declare<T,V,number>"]={mix:{$quat$slerp:GLMAT.quat.slerp,"quat,quat":function(a,b,c){return new GLM.quat(this.$quat$slerp(new GLM.$outer.Float32Array(4),a.elements,b.elements,c))}}};DLL["declare<T,V,number>"].slerp=DLL["declare<T,V,number>"].mix;
DLL["declare<T>"]={normalize:{"$vec<N>normalize":"GLMAT.vecN.normalize",$typeArray:function(a){return new this.GLM.$outer.Float32Array(a)},"vec<N>":function(a){return new this.GLM.vecN(this.$vecNnormalize(this.$typeArray(N),a))},$quat$normalize:GLMAT.quat.normalize,quat:function(a){return new this.GLM.quat(this.$quat$normalize(new this.GLM.$outer.Float32Array(4),a.elements))}},length:{$quat$length:GLMAT.quat.length,quat:function(a){return this.$quat$length(a.elements)},"$vec<N>$length":"GLMAT.vecN.length",
"vec<N>":function(a){return this.$vecN$length(a.elements)}},length2:{$quat$squaredLength:GLMAT.quat.squaredLength,quat:function(a){return this.$quat$squaredLength(a.elements)},"$vec<N>$squaredLength":"GLMAT.vecN.squaredLength","vec<N>":function(a){return this.$vecN$squaredLength(a.elements)}},inverse:{$quatinvert:GLMAT.quat.invert,quat:function(a){return this.GLM.quat(this.$quatinvert(new this.GLM.$outer.Float32Array(4),a.elements))},$mat4invert:GLMAT.mat4.invert,mat4:function(a){a=a.clone();return null===
this.$mat4invert(a.elements,a.elements)?a["="](this.GLM.mat4()):a}},transpose:{$mat4$transpose:GLMAT.mat4.transpose,mat4:function(a){a=a.clone();this.$mat4$transpose(a.elements,a.elements);return a}}};glm.$outer.$import(DLL);try{module.exports=glm}catch(e$$20){};
return glm; })(this);
