glm = (function glmjs_scope(g) { var GLMJS_PREFIX, $GLM_reset_logging;
GLMAT={};GLMAT_VERSION="2.2.2";
(function(f){f.VERSION=GLMAT_VERSION;if(!j)var j=1E-6;if(!r)var r="undefined"!==typeof Float32Array?Float32Array:Array;if(!A)var A=Math.random;var i={setMatrixArrayType:function(c){r=c}};"undefined"!==typeof f&&(f.glMatrix=i);var F=Math.PI/180;i.toRadian=function(c){return c*F};i={create:function(){var c=new r(2);c[0]=0;c[1]=0;return c},clone:function(c){var s=new r(2);s[0]=c[0];s[1]=c[1];return s},fromValues:function(c,s){var a=new r(2);a[0]=c;a[1]=s;return a},copy:function(c,s){c[0]=s[0];c[1]=s[1];
return c},set:function(c,s,a){c[0]=s;c[1]=a;return c},add:function(c,s,a){c[0]=s[0]+a[0];c[1]=s[1]+a[1];return c},subtract:function(c,s,a){c[0]=s[0]-a[0];c[1]=s[1]-a[1];return c}};i.sub=i.subtract;i.multiply=function(c,s,a){c[0]=s[0]*a[0];c[1]=s[1]*a[1];return c};i.mul=i.multiply;i.divide=function(c,s,a){c[0]=s[0]/a[0];c[1]=s[1]/a[1];return c};i.div=i.divide;i.min=function(c,s,a){c[0]=Math.min(s[0],a[0]);c[1]=Math.min(s[1],a[1]);return c};i.max=function(c,s,a){c[0]=Math.max(s[0],a[0]);c[1]=Math.max(s[1],
a[1]);return c};i.scale=function(c,s,a){c[0]=s[0]*a;c[1]=s[1]*a;return c};i.scaleAndAdd=function(c,s,a,b){c[0]=s[0]+a[0]*b;c[1]=s[1]+a[1]*b;return c};i.distance=function(c,s){var a=s[0]-c[0],b=s[1]-c[1];return Math.sqrt(a*a+b*b)};i.dist=i.distance;i.squaredDistance=function(c,s){var a=s[0]-c[0],b=s[1]-c[1];return a*a+b*b};i.sqrDist=i.squaredDistance;i.length=function(c){var s=c[0];c=c[1];return Math.sqrt(s*s+c*c)};i.len=i.length;i.squaredLength=function(c){var s=c[0];c=c[1];return s*s+c*c};i.sqrLen=
i.squaredLength;i.negate=function(c,s){c[0]=-s[0];c[1]=-s[1];return c};i.inverse=function(c,s){c[0]=1/s[0];c[1]=1/s[1];return c};i.normalize=function(c,s){var a=s[0],b=s[1],a=a*a+b*b;0<a&&(a=1/Math.sqrt(a),c[0]=s[0]*a,c[1]=s[1]*a);return c};i.dot=function(c,s){return c[0]*s[0]+c[1]*s[1]};i.cross=function(c,s,a){s=s[0]*a[1]-s[1]*a[0];c[0]=c[1]=0;c[2]=s;return c};i.lerp=function(c,s,a,b){var h=s[0];s=s[1];c[0]=h+b*(a[0]-h);c[1]=s+b*(a[1]-s);return c};i.random=function(c,s){s=s||1;var a=2*A()*Math.PI;
c[0]=Math.cos(a)*s;c[1]=Math.sin(a)*s;return c};i.transformMat2=function(c,a,d){var b=a[0];a=a[1];c[0]=d[0]*b+d[2]*a;c[1]=d[1]*b+d[3]*a;return c};i.transformMat2d=function(c,a,d){var b=a[0];a=a[1];c[0]=d[0]*b+d[2]*a+d[4];c[1]=d[1]*b+d[3]*a+d[5];return c};i.transformMat3=function(c,a,d){var b=a[0];a=a[1];c[0]=d[0]*b+d[3]*a+d[6];c[1]=d[1]*b+d[4]*a+d[7];return c};i.transformMat4=function(c,a,d){var b=a[0];a=a[1];c[0]=d[0]*b+d[4]*a+d[12];c[1]=d[1]*b+d[5]*a+d[13];return c};var D=i.create();i.forEach=function(c,
a,d,b,h,u){a||(a=2);d||(d=0);for(b=b?Math.min(b*a+d,c.length):c.length;d<b;d+=a)D[0]=c[d],D[1]=c[d+1],h(D,D,u),c[d]=D[0],c[d+1]=D[1];return c};i.str=function(c){return"vec2("+c[0]+", "+c[1]+")"};"undefined"!==typeof f&&(f.vec2=i);var m={create:function(){var c=new r(3);c[0]=0;c[1]=0;c[2]=0;return c},clone:function(c){var a=new r(3);a[0]=c[0];a[1]=c[1];a[2]=c[2];return a},fromValues:function(c,a,d){var b=new r(3);b[0]=c;b[1]=a;b[2]=d;return b},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];return c},
set:function(c,a,d,b){c[0]=a;c[1]=d;c[2]=b;return c},add:function(c,a,d){c[0]=a[0]+d[0];c[1]=a[1]+d[1];c[2]=a[2]+d[2];return c},subtract:function(c,a,d){c[0]=a[0]-d[0];c[1]=a[1]-d[1];c[2]=a[2]-d[2];return c}};m.sub=m.subtract;m.multiply=function(c,a,d){c[0]=a[0]*d[0];c[1]=a[1]*d[1];c[2]=a[2]*d[2];return c};m.mul=m.multiply;m.divide=function(c,a,d){c[0]=a[0]/d[0];c[1]=a[1]/d[1];c[2]=a[2]/d[2];return c};m.div=m.divide;m.min=function(c,a,d){c[0]=Math.min(a[0],d[0]);c[1]=Math.min(a[1],d[1]);c[2]=Math.min(a[2],
d[2]);return c};m.max=function(c,a,d){c[0]=Math.max(a[0],d[0]);c[1]=Math.max(a[1],d[1]);c[2]=Math.max(a[2],d[2]);return c};m.scale=function(c,a,d){c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;return c};m.scaleAndAdd=function(c,a,d,b){c[0]=a[0]+d[0]*b;c[1]=a[1]+d[1]*b;c[2]=a[2]+d[2]*b;return c};m.distance=function(c,a){var d=a[0]-c[0],b=a[1]-c[1],h=a[2]-c[2];return Math.sqrt(d*d+b*b+h*h)};m.dist=m.distance;m.squaredDistance=function(c,a){var d=a[0]-c[0],b=a[1]-c[1],h=a[2]-c[2];return d*d+b*b+h*h};m.sqrDist=
m.squaredDistance;m.length=function(c){var a=c[0],d=c[1];c=c[2];return Math.sqrt(a*a+d*d+c*c)};m.len=m.length;m.squaredLength=function(c){var a=c[0],d=c[1];c=c[2];return a*a+d*d+c*c};m.sqrLen=m.squaredLength;m.negate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];return c};m.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];return c};m.normalize=function(c,a){var d=a[0],b=a[1],h=a[2],d=d*d+b*b+h*h;0<d&&(d=1/Math.sqrt(d),c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d);return c};m.dot=function(c,a){return c[0]*
a[0]+c[1]*a[1]+c[2]*a[2]};m.cross=function(c,a,d){var b=a[0],h=a[1];a=a[2];var u=d[0],e=d[1];d=d[2];c[0]=h*d-a*e;c[1]=a*u-b*d;c[2]=b*e-h*u;return c};m.lerp=function(c,a,d,b){var h=a[0],u=a[1];a=a[2];c[0]=h+b*(d[0]-h);c[1]=u+b*(d[1]-u);c[2]=a+b*(d[2]-a);return c};m.random=function(c,a){a=a||1;var d=2*A()*Math.PI,b=2*A()-1,h=Math.sqrt(1-b*b)*a;c[0]=Math.cos(d)*h;c[1]=Math.sin(d)*h;c[2]=b*a;return c};m.transformMat4=function(c,a,d){var b=a[0],h=a[1];a=a[2];var u=d[3]*b+d[7]*h+d[11]*a+d[15],u=u||1;c[0]=
(d[0]*b+d[4]*h+d[8]*a+d[12])/u;c[1]=(d[1]*b+d[5]*h+d[9]*a+d[13])/u;c[2]=(d[2]*b+d[6]*h+d[10]*a+d[14])/u;return c};m.transformMat3=function(c,a,d){var b=a[0],h=a[1];a=a[2];c[0]=b*d[0]+h*d[3]+a*d[6];c[1]=b*d[1]+h*d[4]+a*d[7];c[2]=b*d[2]+h*d[5]+a*d[8];return c};m.transformQuat=function(c,a,d){var b=a[0],h=a[1],u=a[2];a=d[0];var e=d[1],g=d[2];d=d[3];var t=d*b+e*u-g*h,l=d*h+g*b-a*u,f=d*u+a*h-e*b,b=-a*b-e*h-g*u;c[0]=t*d+b*-a+l*-g-f*-e;c[1]=l*d+b*-e+f*-a-t*-g;c[2]=f*d+b*-g+t*-e-l*-a;return c};m.rotateX=
function(c,a,d,b){var h=[],u=[];h[0]=a[0]-d[0];h[1]=a[1]-d[1];h[2]=a[2]-d[2];u[0]=h[0];u[1]=h[1]*Math.cos(b)-h[2]*Math.sin(b);u[2]=h[1]*Math.sin(b)+h[2]*Math.cos(b);c[0]=u[0]+d[0];c[1]=u[1]+d[1];c[2]=u[2]+d[2];return c};m.rotateY=function(c,a,d,b){var h=[],u=[];h[0]=a[0]-d[0];h[1]=a[1]-d[1];h[2]=a[2]-d[2];u[0]=h[2]*Math.sin(b)+h[0]*Math.cos(b);u[1]=h[1];u[2]=h[2]*Math.cos(b)-h[0]*Math.sin(b);c[0]=u[0]+d[0];c[1]=u[1]+d[1];c[2]=u[2]+d[2];return c};m.rotateZ=function(c,a,d,b){var h=[],u=[];h[0]=a[0]-
d[0];h[1]=a[1]-d[1];h[2]=a[2]-d[2];u[0]=h[0]*Math.cos(b)-h[1]*Math.sin(b);u[1]=h[0]*Math.sin(b)+h[1]*Math.cos(b);u[2]=h[2];c[0]=u[0]+d[0];c[1]=u[1]+d[1];c[2]=u[2]+d[2];return c};var v=m.create();m.forEach=function(c,a,d,b,h,u){a||(a=3);d||(d=0);for(b=b?Math.min(b*a+d,c.length):c.length;d<b;d+=a)v[0]=c[d],v[1]=c[d+1],v[2]=c[d+2],h(v,v,u),c[d]=v[0],c[d+1]=v[1],c[d+2]=v[2];return c};m.str=function(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"};"undefined"!==typeof f&&(f.vec3=m);var q={create:function(){var c=
new r(4);c[0]=0;c[1]=0;c[2]=0;c[3]=0;return c},clone:function(c){var a=new r(4);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},fromValues:function(c,a,b,n){var h=new r(4);h[0]=c;h[1]=a;h[2]=b;h[3]=n;return h},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},set:function(c,a,b,n,h){c[0]=a;c[1]=b;c[2]=n;c[3]=h;return c},add:function(c,a,b){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];
c[3]=a[3]-b[3];return c}};q.sub=q.subtract;q.multiply=function(c,a,b){c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c};q.mul=q.multiply;q.divide=function(c,a,b){c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c};q.div=q.divide;q.min=function(c,a,b){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c};q.max=function(c,a,b){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=
Math.max(a[3],b[3]);return c};q.scale=function(c,a,b){c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};q.scaleAndAdd=function(c,a,b,n){c[0]=a[0]+b[0]*n;c[1]=a[1]+b[1]*n;c[2]=a[2]+b[2]*n;c[3]=a[3]+b[3]*n;return c};q.distance=function(c,a){var b=a[0]-c[0],n=a[1]-c[1],h=a[2]-c[2],u=a[3]-c[3];return Math.sqrt(b*b+n*n+h*h+u*u)};q.dist=q.distance;q.squaredDistance=function(c,a){var b=a[0]-c[0],n=a[1]-c[1],h=a[2]-c[2],u=a[3]-c[3];return b*b+n*n+h*h+u*u};q.sqrDist=q.squaredDistance;q.length=function(c){var a=
c[0],b=c[1],n=c[2];c=c[3];return Math.sqrt(a*a+b*b+n*n+c*c)};q.len=q.length;q.squaredLength=function(c){var a=c[0],b=c[1],n=c[2];c=c[3];return a*a+b*b+n*n+c*c};q.sqrLen=q.squaredLength;q.negate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=-a[3];return c};q.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];c[3]=1/a[3];return c};q.normalize=function(c,a){var b=a[0],n=a[1],h=a[2],u=a[3],b=b*b+n*n+h*h+u*u;0<b&&(b=1/Math.sqrt(b),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b);return c};
q.dot=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]};q.lerp=function(c,a,b,n){var h=a[0],u=a[1],e=a[2];a=a[3];c[0]=h+n*(b[0]-h);c[1]=u+n*(b[1]-u);c[2]=e+n*(b[2]-e);c[3]=a+n*(b[3]-a);return c};q.random=function(c,a){a=a||1;c[0]=A();c[1]=A();c[2]=A();c[3]=A();q.normalize(c,c);q.scale(c,c,a);return c};q.transformMat4=function(c,a,b){var n=a[0],h=a[1],u=a[2];a=a[3];c[0]=b[0]*n+b[4]*h+b[8]*u+b[12]*a;c[1]=b[1]*n+b[5]*h+b[9]*u+b[13]*a;c[2]=b[2]*n+b[6]*h+b[10]*u+b[14]*a;c[3]=b[3]*n+b[7]*h+
b[11]*u+b[15]*a;return c};q.transformQuat=function(c,a,b){var n=a[0],h=a[1],u=a[2];a=b[0];var e=b[1],g=b[2];b=b[3];var t=b*n+e*u-g*h,l=b*h+g*n-a*u,f=b*u+a*h-e*n,n=-a*n-e*h-g*u;c[0]=t*b+n*-a+l*-g-f*-e;c[1]=l*b+n*-e+f*-a-t*-g;c[2]=f*b+n*-g+t*-e-l*-a;return c};var E=q.create();q.forEach=function(c,a,b,n,h,u){a||(a=4);b||(b=0);for(n=n?Math.min(n*a+b,c.length):c.length;b<n;b+=a)E[0]=c[b],E[1]=c[b+1],E[2]=c[b+2],E[3]=c[b+3],h(E,E,u),c[b]=E[0],c[b+1]=E[1],c[b+2]=E[2],c[b+3]=E[3];return c};q.str=function(c){return"vec4("+
c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};"undefined"!==typeof f&&(f.vec4=q);i={create:function(){var c=new r(4);c[0]=1;c[1]=0;c[2]=0;c[3]=1;return c},clone:function(c){var a=new r(4);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;return c},transpose:function(c,a){if(c===a){var b=a[1];c[1]=a[2];c[2]=b}else c[0]=a[0],c[1]=a[2],c[2]=a[1],c[3]=a[3];return c},invert:function(c,a){var b=
a[0],n=a[1],h=a[2],u=a[3],e=b*u-h*n;if(!e)return null;e=1/e;c[0]=u*e;c[1]=-n*e;c[2]=-h*e;c[3]=b*e;return c},adjoint:function(c,a){var b=a[0];c[0]=a[3];c[1]=-a[1];c[2]=-a[2];c[3]=b;return c},determinant:function(c){return c[0]*c[3]-c[2]*c[1]},multiply:function(c,a,b){var n=a[0],h=a[1],e=a[2];a=a[3];var g=b[0],H=b[1],t=b[2];b=b[3];c[0]=n*g+e*H;c[1]=h*g+a*H;c[2]=n*t+e*b;c[3]=h*t+a*b;return c}};i.mul=i.multiply;i.rotate=function(c,a,b){var n=a[0],h=a[1],e=a[2];a=a[3];var g=Math.sin(b);b=Math.cos(b);c[0]=
n*b+e*g;c[1]=h*b+a*g;c[2]=n*-g+e*b;c[3]=h*-g+a*b;return c};i.scale=function(c,a,b){var n=a[1],h=a[2],e=a[3],g=b[0];b=b[1];c[0]=a[0]*g;c[1]=n*g;c[2]=h*b;c[3]=e*b;return c};i.str=function(c){return"mat2("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};i.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2))};i.LDU=function(c,a,b,n){c[2]=n[2]/n[0];b[0]=n[0];b[1]=n[1];b[3]=n[3]-c[2]*b[1];return[c,a,b]};"undefined"!==typeof f&&(f.mat2=i);i={create:function(){var c=
new r(6);c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c},clone:function(c){var a=new r(6);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,b){var d=b[0],n=b[1],h=b[2],e=b[3],g=b[4],H=b[5],t=d*e-n*h;if(!t)return null;t=1/t;a[0]=e*t;a[1]=-n*t;a[2]=-h*t;a[3]=d*t;a[4]=(h*H-e*g)*t;a[5]=(n*g-d*H)*t;return a},
determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],H=b[4];b=b[5];var t=d[0],l=d[1],f=d[2],p=d[3],k=d[4];d=d[5];a[0]=n*t+e*l;a[1]=h*t+g*l;a[2]=n*f+e*p;a[3]=h*f+g*p;a[4]=n*k+e*d+H;a[5]=h*k+g*d+b;return a}};i.mul=i.multiply;i.rotate=function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],H=b[4];b=b[5];var t=Math.sin(d);d=Math.cos(d);a[0]=n*d+e*t;a[1]=h*d+g*t;a[2]=n*-t+e*d;a[3]=h*-t+g*d;a[4]=H;a[5]=b;return a};i.scale=function(a,b,d){var n=b[1],h=b[2],
e=b[3],g=b[4],H=b[5],t=d[0];d=d[1];a[0]=b[0]*t;a[1]=n*t;a[2]=h*d;a[3]=e*d;a[4]=g;a[5]=H;return a};i.translate=function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],H=b[4];b=b[5];var t=d[0];d=d[1];a[0]=n;a[1]=h;a[2]=e;a[3]=g;a[4]=n*t+e*d+H;a[5]=h*t+g*d+b;return a};i.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};i.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};"undefined"!==
typeof f&&(f.mat2d=i);i={create:function(){var a=new r(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new r(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},
identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(a===b){var d=b[1],n=b[2],h=b[5];a[1]=b[3];a[2]=b[6];a[3]=d;a[5]=b[7];a[6]=n;a[7]=h}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},invert:function(a,b){var d=b[0],n=b[1],h=b[2],e=b[3],g=b[4],H=b[5],t=b[6],l=b[7],f=b[8],p=f*g-H*l,k=-f*e+H*t,i=l*e-g*t,j=d*p+n*k+h*i;if(!j)return null;j=1/j;a[0]=p*j;a[1]=(-f*n+h*l)*j;a[2]=(H*
n-h*g)*j;a[3]=k*j;a[4]=(f*d-h*t)*j;a[5]=(-H*d+h*e)*j;a[6]=i*j;a[7]=(-l*d+n*t)*j;a[8]=(g*d-n*e)*j;return a},adjoint:function(a,b){var d=b[0],n=b[1],h=b[2],e=b[3],g=b[4],l=b[5],t=b[6],f=b[7],k=b[8];a[0]=g*k-l*f;a[1]=h*f-n*k;a[2]=n*l-h*g;a[3]=l*t-e*k;a[4]=d*k-h*t;a[5]=h*e-d*l;a[6]=e*f-g*t;a[7]=n*t-d*f;a[8]=d*g-n*e;return a},determinant:function(a){var b=a[3],d=a[4],n=a[5],h=a[6],e=a[7],g=a[8];return a[0]*(g*d-n*e)+a[1]*(-g*b+n*h)+a[2]*(e*b-d*h)},multiply:function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],
l=b[4],t=b[5],f=b[6],k=b[7];b=b[8];var p=d[0],j=d[1],i=d[2],m=d[3],q=d[4],w=d[5],x=d[6],r=d[7];d=d[8];a[0]=p*n+j*g+i*f;a[1]=p*h+j*l+i*k;a[2]=p*e+j*t+i*b;a[3]=m*n+q*g+w*f;a[4]=m*h+q*l+w*k;a[5]=m*e+q*t+w*b;a[6]=x*n+r*g+d*f;a[7]=x*h+r*l+d*k;a[8]=x*e+r*t+d*b;return a}};i.mul=i.multiply;i.translate=function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],l=b[4],f=b[5],k=b[6],j=b[7];b=b[8];var p=d[0];d=d[1];a[0]=n;a[1]=h;a[2]=e;a[3]=g;a[4]=l;a[5]=f;a[6]=p*n+d*g+k;a[7]=p*h+d*l+j;a[8]=p*e+d*f+b;return a};i.rotate=
function(a,b,d){var n=b[0],h=b[1],e=b[2],g=b[3],l=b[4],f=b[5],k=b[6],j=b[7];b=b[8];var p=Math.sin(d);d=Math.cos(d);a[0]=d*n+p*g;a[1]=d*h+p*l;a[2]=d*e+p*f;a[3]=d*g-p*n;a[4]=d*l-p*h;a[5]=d*f-p*e;a[6]=k;a[7]=j;a[8]=b;return a};i.scale=function(a,b,d){var n=d[0];d=d[1];a[0]=n*b[0];a[1]=n*b[1];a[2]=n*b[2];a[3]=d*b[3];a[4]=d*b[4];a[5]=d*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};i.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};i.fromQuat=
function(a,b){var d=b[0],n=b[1],h=b[2],e=b[3],g=d+d,l=n+n,f=h+h,d=d*g,k=n*g,n=n*l,j=h*g,p=h*l,h=h*f,g=e*g,l=e*l,e=e*f;a[0]=1-n-h;a[3]=k-e;a[6]=j+l;a[1]=k+e;a[4]=1-d-h;a[7]=p-g;a[2]=j-l;a[5]=p+g;a[8]=1-d-n;return a};i.normalFromMat4=function(a,b){var d=b[0],n=b[1],h=b[2],e=b[3],g=b[4],l=b[5],f=b[6],k=b[7],j=b[8],p=b[9],i=b[10],I=b[11],m=b[12],q=b[13],w=b[14],x=b[15],r=d*l-n*g,B=d*f-h*g,y=d*k-e*g,z=n*f-h*l,v=n*k-e*l,A=h*k-e*f,L=j*q-p*m,J=j*w-i*m,j=j*x-I*m,K=p*w-i*q,p=p*x-I*q,i=i*x-I*w,I=r*i-B*p+y*K+
z*j-v*J+A*L;if(!I)return null;I=1/I;a[0]=(l*i-f*p+k*K)*I;a[1]=(f*j-g*i-k*J)*I;a[2]=(g*p-l*j+k*L)*I;a[3]=(h*p-n*i-e*K)*I;a[4]=(d*i-h*j+e*J)*I;a[5]=(n*j-d*p-e*L)*I;a[6]=(q*A-w*v+x*z)*I;a[7]=(w*y-m*A-x*B)*I;a[8]=(m*v-q*y+x*r)*I;return a};i.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};i.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],
2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof f&&(f.mat3=i);var a={create:function(){var a=new r(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new r(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=
b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(a===b){var d=b[1],e=b[2],h=b[3],g=b[6],l=b[7],f=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=e;a[9]=g;a[11]=b[14];a[12]=h;a[13]=l;a[14]=f}else a[0]=
b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},invert:function(a,b){var d=b[0],e=b[1],h=b[2],g=b[3],l=b[4],f=b[5],t=b[6],k=b[7],j=b[8],p=b[9],i=b[10],m=b[11],q=b[12],r=b[13],w=b[14],x=b[15],C=d*f-e*l,B=d*t-h*l,y=d*k-g*l,z=e*t-h*f,v=e*k-g*f,A=h*k-g*t,L=j*r-p*q,J=j*w-i*q,K=j*x-m*q,D=p*w-i*r,E=p*x-m*r,F=i*x-m*w,G=C*F-B*E+y*D+z*K-v*J+A*L;if(!G)return null;G=1/G;a[0]=(f*F-t*
E+k*D)*G;a[1]=(h*E-e*F-g*D)*G;a[2]=(r*A-w*v+x*z)*G;a[3]=(i*v-p*A-m*z)*G;a[4]=(t*K-l*F-k*J)*G;a[5]=(d*F-h*K+g*J)*G;a[6]=(w*y-q*A-x*B)*G;a[7]=(j*A-i*y+m*B)*G;a[8]=(l*E-f*K+k*L)*G;a[9]=(e*K-d*E-g*L)*G;a[10]=(q*v-r*y+x*C)*G;a[11]=(p*y-j*v-m*C)*G;a[12]=(f*J-l*D-t*L)*G;a[13]=(d*D-e*J+h*L)*G;a[14]=(r*B-q*z-w*C)*G;a[15]=(j*z-p*B+i*C)*G;return a},adjoint:function(a,b){var d=b[0],e=b[1],h=b[2],g=b[3],l=b[4],f=b[5],t=b[6],k=b[7],j=b[8],p=b[9],i=b[10],m=b[11],q=b[12],r=b[13],w=b[14],x=b[15];a[0]=f*(i*x-m*w)-
p*(t*x-k*w)+r*(t*m-k*i);a[1]=-(e*(i*x-m*w)-p*(h*x-g*w)+r*(h*m-g*i));a[2]=e*(t*x-k*w)-f*(h*x-g*w)+r*(h*k-g*t);a[3]=-(e*(t*m-k*i)-f*(h*m-g*i)+p*(h*k-g*t));a[4]=-(l*(i*x-m*w)-j*(t*x-k*w)+q*(t*m-k*i));a[5]=d*(i*x-m*w)-j*(h*x-g*w)+q*(h*m-g*i);a[6]=-(d*(t*x-k*w)-l*(h*x-g*w)+q*(h*k-g*t));a[7]=d*(t*m-k*i)-l*(h*m-g*i)+j*(h*k-g*t);a[8]=l*(p*x-m*r)-j*(f*x-k*r)+q*(f*m-k*p);a[9]=-(d*(p*x-m*r)-j*(e*x-g*r)+q*(e*m-g*p));a[10]=d*(f*x-k*r)-l*(e*x-g*r)+q*(e*k-g*f);a[11]=-(d*(f*m-k*p)-l*(e*m-g*p)+j*(e*k-g*f));a[12]=
-(l*(p*w-i*r)-j*(f*w-t*r)+q*(f*i-t*p));a[13]=d*(p*w-i*r)-j*(e*w-h*r)+q*(e*i-h*p);a[14]=-(d*(f*w-t*r)-l*(e*w-h*r)+q*(e*t-h*f));a[15]=d*(f*i-t*p)-l*(e*i-h*p)+j*(e*t-h*f);return a},determinant:function(a){var b=a[0],d=a[1],e=a[2],h=a[3],g=a[4],f=a[5],l=a[6],k=a[7],j=a[8],i=a[9],p=a[10],m=a[11],q=a[12],r=a[13],v=a[14];a=a[15];return(b*f-d*g)*(p*a-m*v)-(b*l-e*g)*(i*a-m*r)+(b*k-h*g)*(i*v-p*r)+(d*l-e*f)*(j*a-m*q)-(d*k-h*f)*(j*v-p*q)+(e*k-h*l)*(j*r-i*q)},multiply:function(a,b,d){var e=b[0],h=b[1],g=b[2],
f=b[3],l=b[4],k=b[5],j=b[6],i=b[7],p=b[8],m=b[9],q=b[10],r=b[11],v=b[12],w=b[13],x=b[14];b=b[15];var C=d[0],B=d[1],y=d[2],z=d[3];a[0]=C*e+B*l+y*p+z*v;a[1]=C*h+B*k+y*m+z*w;a[2]=C*g+B*j+y*q+z*x;a[3]=C*f+B*i+y*r+z*b;C=d[4];B=d[5];y=d[6];z=d[7];a[4]=C*e+B*l+y*p+z*v;a[5]=C*h+B*k+y*m+z*w;a[6]=C*g+B*j+y*q+z*x;a[7]=C*f+B*i+y*r+z*b;C=d[8];B=d[9];y=d[10];z=d[11];a[8]=C*e+B*l+y*p+z*v;a[9]=C*h+B*k+y*m+z*w;a[10]=C*g+B*j+y*q+z*x;a[11]=C*f+B*i+y*r+z*b;C=d[12];B=d[13];y=d[14];z=d[15];a[12]=C*e+B*l+y*p+z*v;a[13]=
C*h+B*k+y*m+z*w;a[14]=C*g+B*j+y*q+z*x;a[15]=C*f+B*i+y*r+z*b;return a}};a.mul=a.multiply;a.translate=function(a,b,d){var e=d[0],h=d[1];d=d[2];var g,f,l,k,j,i,p,m,q,r,v,w;b===a?(a[12]=b[0]*e+b[4]*h+b[8]*d+b[12],a[13]=b[1]*e+b[5]*h+b[9]*d+b[13],a[14]=b[2]*e+b[6]*h+b[10]*d+b[14],a[15]=b[3]*e+b[7]*h+b[11]*d+b[15]):(g=b[0],f=b[1],l=b[2],k=b[3],j=b[4],i=b[5],p=b[6],m=b[7],q=b[8],r=b[9],v=b[10],w=b[11],a[0]=g,a[1]=f,a[2]=l,a[3]=k,a[4]=j,a[5]=i,a[6]=p,a[7]=m,a[8]=q,a[9]=r,a[10]=v,a[11]=w,a[12]=g*e+j*h+q*d+
b[12],a[13]=f*e+i*h+r*d+b[13],a[14]=l*e+p*h+v*d+b[14],a[15]=k*e+m*h+w*d+b[15]);return a};a.scale=function(a,b,d){var e=d[0],h=d[1];d=d[2];a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};a.rotate=function(a,b,d,e){var h=e[0],g=e[1];e=e[2];var f=Math.sqrt(h*h+g*g+e*e),l,k,i,m,p,q,r,v,A,w,x,C,B,y,z,D,E,F,J,K;if(Math.abs(f)<j)return null;f=1/f;h*=
f;g*=f;e*=f;l=Math.sin(d);k=Math.cos(d);i=1-k;d=b[0];f=b[1];m=b[2];p=b[3];q=b[4];r=b[5];v=b[6];A=b[7];w=b[8];x=b[9];C=b[10];B=b[11];y=h*h*i+k;z=g*h*i+e*l;D=e*h*i-g*l;E=h*g*i-e*l;F=g*g*i+k;J=e*g*i+h*l;K=h*e*i+g*l;h=g*e*i-h*l;g=e*e*i+k;a[0]=d*y+q*z+w*D;a[1]=f*y+r*z+x*D;a[2]=m*y+v*z+C*D;a[3]=p*y+A*z+B*D;a[4]=d*E+q*F+w*J;a[5]=f*E+r*F+x*J;a[6]=m*E+v*F+C*J;a[7]=p*E+A*F+B*J;a[8]=d*K+q*h+w*g;a[9]=f*K+r*h+x*g;a[10]=m*K+v*h+C*g;a[11]=p*K+A*h+B*g;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};
a.rotateX=function(a,b,d){var e=Math.sin(d);d=Math.cos(d);var h=b[4],g=b[5],f=b[6],l=b[7],k=b[8],i=b[9],j=b[10],p=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=h*d+k*e;a[5]=g*d+i*e;a[6]=f*d+j*e;a[7]=l*d+p*e;a[8]=k*d-h*e;a[9]=i*d-g*e;a[10]=j*d-f*e;a[11]=p*d-l*e;return a};a.rotateY=function(a,b,d){var e=Math.sin(d);d=Math.cos(d);var h=b[0],g=b[1],f=b[2],l=b[3],k=b[8],i=b[9],j=b[10],p=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],
a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*d-k*e;a[1]=g*d-i*e;a[2]=f*d-j*e;a[3]=l*d-p*e;a[8]=h*e+k*d;a[9]=g*e+i*d;a[10]=f*e+j*d;a[11]=l*e+p*d;return a};a.rotateZ=function(a,b,d){var e=Math.sin(d);d=Math.cos(d);var h=b[0],g=b[1],f=b[2],l=b[3],k=b[4],i=b[5],j=b[6],p=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*d+k*e;a[1]=g*d+i*e;a[2]=f*d+j*e;a[3]=l*d+p*e;a[4]=k*d-h*e;a[5]=i*d-g*e;a[6]=j*d-f*e;a[7]=p*d-l*e;return a};a.fromRotationTranslation=
function(a,b,d){var e=b[0],h=b[1],g=b[2],f=b[3],l=e+e,k=h+h,i=g+g;b=e*l;var j=e*k,e=e*i,p=h*k,h=h*i,g=g*i,l=f*l,k=f*k,f=f*i;a[0]=1-(p+g);a[1]=j+f;a[2]=e-k;a[3]=0;a[4]=j-f;a[5]=1-(b+g);a[6]=h+l;a[7]=0;a[8]=e+k;a[9]=h-l;a[10]=1-(b+p);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};a.fromQuat=function(a,b){var d=b[0],e=b[1],h=b[2],g=b[3],f=d+d,l=e+e,k=h+h,d=d*f,i=e*f,e=e*l,j=h*f,p=h*l,h=h*k,f=g*f,l=g*l,g=g*k;a[0]=1-e-h;a[1]=i+g;a[2]=j-l;a[3]=0;a[4]=i-g;a[5]=1-d-h;a[6]=p+f;a[7]=0;a[8]=j+l;
a[9]=p-f;a[10]=1-d-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.frustum=function(a,b,d,e,h,g,f){var l=1/(d-b),k=1/(h-e),i=1/(g-f);a[0]=2*g*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*k;a[6]=0;a[7]=0;a[8]=(d+b)*l;a[9]=(h+e)*k;a[10]=(f+g)*i;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(f*g)*i;a[15]=0;return a};a.perspective=function(a,b,d,e,h){b=1/Math.tan(b/2);var g=1/(e-h);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(h+e)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*h*e*g;a[15]=0;
return a};a.ortho=function(a,b,d,e,h,g,f){var l=1/(b-d),k=1/(e-h),i=1/(g-f);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*i;a[11]=0;a[12]=(b+d)*l;a[13]=(h+e)*k;a[14]=(f+g)*i;a[15]=1;return a};a.lookAt=function(b,e,d,g){var h,f,l,k,i,m,q,p,r=e[0],v=e[1];e=e[2];l=g[0];k=g[1];f=g[2];q=d[0];g=d[1];h=d[2];if(Math.abs(r-q)<j&&Math.abs(v-g)<j&&Math.abs(e-h)<j)return a.identity(b);d=r-q;g=v-g;q=e-h;p=1/Math.sqrt(d*d+g*g+q*q);d*=p;g*=p;q*=p;h=k*q-f*g;f=f*d-l*q;l=l*g-k*
d;(p=Math.sqrt(h*h+f*f+l*l))?(p=1/p,h*=p,f*=p,l*=p):l=f=h=0;k=g*l-q*f;i=q*h-d*l;m=d*f-g*h;(p=Math.sqrt(k*k+i*i+m*m))?(p=1/p,k*=p,i*=p,m*=p):m=i=k=0;b[0]=h;b[1]=k;b[2]=d;b[3]=0;b[4]=f;b[5]=i;b[6]=g;b[7]=0;b[8]=l;b[9]=m;b[10]=q;b[11]=0;b[12]=-(h*r+f*v+l*e);b[13]=-(k*r+i*v+m*e);b[14]=-(d*r+g*v+q*e);b[15]=1;return b};a.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof f&&(f.mat4=a);var b={create:function(){var a=new r(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},e=m.create(),g=m.fromValues(1,0,0),l=m.fromValues(0,1,0);b.rotationTo=
function(a,f,d){var n=m.dot(f,d);if(-0.999999>n)return m.cross(e,g,f),1E-6>m.length(e)&&m.cross(e,l,f),m.normalize(e,e),b.setAxisAngle(a,e,Math.PI),a;if(0.999999<n)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;m.cross(e,f,d);a[0]=e[0];a[1]=e[1];a[2]=e[2];a[3]=1+n;return b.normalize(a,a)};var k=i.create();b.setAxes=function(a,e,d,g){k[0]=d[0];k[3]=d[1];k[6]=d[2];k[1]=g[0];k[4]=g[1];k[7]=g[2];k[2]=-e[0];k[5]=-e[1];k[8]=-e[2];return b.normalize(a,b.fromMat3(a,k))};b.clone=q.clone;b.fromValues=q.fromValues;b.copy=
q.copy;b.set=q.set;b.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};b.setAxisAngle=function(a,b,d){d*=0.5;var e=Math.sin(d);a[0]=e*b[0];a[1]=e*b[1];a[2]=e*b[2];a[3]=Math.cos(d);return a};b.add=q.add;b.multiply=function(a,b,d){var e=b[0],g=b[1],f=b[2];b=b[3];var l=d[0],k=d[1],i=d[2];d=d[3];a[0]=e*d+b*l+g*i-f*k;a[1]=g*d+b*k+f*l-e*i;a[2]=f*d+b*i+e*k-g*l;a[3]=b*d-e*l-g*k-f*i;return a};b.mul=b.multiply;b.scale=q.scale;b.rotateX=function(a,b,d){d*=0.5;var e=b[0],g=b[1],f=b[2];b=b[3];var l=Math.sin(d);
d=Math.cos(d);a[0]=e*d+b*l;a[1]=g*d+f*l;a[2]=f*d-g*l;a[3]=b*d-e*l;return a};b.rotateY=function(a,b,d){d*=0.5;var e=b[0],g=b[1],f=b[2];b=b[3];var l=Math.sin(d);d=Math.cos(d);a[0]=e*d-f*l;a[1]=g*d+b*l;a[2]=f*d+e*l;a[3]=b*d-g*l;return a};b.rotateZ=function(a,b,d){d*=0.5;var e=b[0],g=b[1],f=b[2];b=b[3];var l=Math.sin(d);d=Math.cos(d);a[0]=e*d+g*l;a[1]=g*d-e*l;a[2]=f*d+b*l;a[3]=b*d-f*l;return a};b.calculateW=function(a,b){var d=b[0],e=b[1],g=b[2];a[0]=d;a[1]=e;a[2]=g;a[3]=Math.sqrt(Math.abs(1-d*d-e*e-
g*g));return a};b.dot=q.dot;b.lerp=q.lerp;b.slerp=function(a,b,d,e){var g=b[0],f=b[1],l=b[2];b=b[3];var k=d[0],i=d[1],j=d[2];d=d[3];var m,p,q;p=g*k+f*i+l*j+b*d;0>p&&(p=-p,k=-k,i=-i,j=-j,d=-d);1E-6<1-p?(m=Math.acos(p),q=Math.sin(m),p=Math.sin((1-e)*m)/q,e=Math.sin(e*m)/q):p=1-e;a[0]=p*g+e*k;a[1]=p*f+e*i;a[2]=p*l+e*j;a[3]=p*b+e*d;return a};b.invert=function(a,b){var d=b[0],e=b[1],g=b[2],f=b[3],l=d*d+e*e+g*g+f*f,l=l?1/l:0;a[0]=-d*l;a[1]=-e*l;a[2]=-g*l;a[3]=f*l;return a};b.conjugate=function(a,b){a[0]=
-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};b.length=q.length;b.len=b.length;b.squaredLength=q.squaredLength;b.sqrLen=b.squaredLength;b.normalize=q.normalize;b.fromMat3=function(a,b){var d=b[0]+b[4]+b[8];if(0<d)d=Math.sqrt(d+1),a[3]=0.5*d,d=0.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{var e=0;b[4]>b[0]&&(e=1);b[8]>b[3*e+e]&&(e=2);var g=(e+1)%3,f=(e+2)%3,d=Math.sqrt(b[3*e+e]-b[3*g+g]-b[3*f+f]+1);a[e]=0.5*d;d=0.5/d;a[3]=(b[3*g+f]-b[3*f+g])*d;a[g]=(b[3*g+e]+b[3*e+g])*d;a[f]=
(b[3*f+e]+b[3*e+f])*d}return a};b.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof f&&(f.quat=b)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e$$11){}glm=null;GLMJS_PREFIX="glm-js: ";
!function(){function f(a,b){b=b||a;return function(){GLM[b]=GLM.$outer.functions[a]||GLM.$outer[a];if(!GLM[b])throw new GLM.GLMJSError("$GLM_extern: unresolved external symbol: "+a);GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+a+" "+typeof GLM[b]);return GLM[b].apply(this,arguments)}}function j(a){a&&"object"===typeof a&&($GLM_log=a.$GLM_log,$GLM_console_log=a.$GLM_console_log,$GLM_console_factory=a.$GLM_console_factory,GLM.$outer.console=a.console,a=!1);if(a||"undefined"===
typeof $GLM_log)$GLM_log=function(a,b){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(a){var b=typeof a;return"xboolean"===b||"string"===b?a+"":GLM.$isGLMObject(a)||!isNaN(a)?GLM.to_string(a):a+""}))};if(a||"undefined"===typeof $GLM_console_log)$GLM_console_log=function(a,b){(console[a]||function(){}).apply(console,[].slice.call(arguments,1))};if(a||"undefined"===typeof $GLM_console_factory)$GLM_console_factory=function(a){return $GLM_console_log.bind($GLM_console_log,
a)};var b=$GLM_console_factory,e={};"debug,warn,info,error,log,write".replace(/\w+/g,function(a){e[a]=b(a)});"object"===typeof GLM&&GLM.$outer&&(GLM.$outer.console=e);return e}var r="undefined"!==typeof $GLM_DEBUG&&$GLM_DEBUG,A={functions:{},intern:function(a,b){if(a)if(void 0===b&&"object"===typeof a)for(var e in a)GLM.$outer.intern(e,a[e]);else return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+a,b&&(b.name||typeof b)),GLM.$outer[a]=b},$import:function(a){GLM.$outer.$import=function(){throw Error("glm.$outer.$import already called...");
};GLM.$outer.intern(a.statics);GLM.$template.extend(GLM,GLM.$template["declare<T,V,number>"](a["declare<T,V,number>"]),GLM.$template["declare<T,V,...>"](a["declare<T,V,...>"]),GLM.$template["declare<T,...>"](a["declare<T,...>"]),GLM.$template["declare<T>"](a["declare<T>"]));GLM.$init(a)},console:j(),quat_array_from_xyz:function(a){var b=glm.quat();b["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));b["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));b["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));return b.elements},
quat_array_from_zyx:function(a){var b=glm.quat();b["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));b["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));b["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));return b.elements},_vec3_eulerAngles:function(a){var b=this.mat4_array_from_quat(a);a=b[0];var e=b[4],g=b[1],f=b[5],k=b[2],c=b[6],b=b[10],i=new glm.vec3;i.y=Math.asin(-glm._clamp(k,-1,1));0.99999>Math.abs(k)?(i.x=Math.atan2(c,b),i.z=Math.atan2(g,a)):(i.x=0,i.z=Math.atan2(-e,f));return i},ArrayBuffer:ArrayBuffer,Float32Array:Float32Array,
Float64Array:Float64Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,DataView:DataView,$rebindTypedArrays:function(a){var b=Object.keys(GLM.$outer).filter(RegExp.prototype.test.bind(/Array$|^ArrayBuffer$|^DataView$/)).map(function(b){var g=a.call(this,b,GLM.$outer[b]);g!==GLM.$outer[b]&&(GLM.$outer.console.warn("$rebindTypedArrays("+b+")... replacing"),GLM.$outer[b]=g);return g});GLM.$subarray=GLM.patch_subarray();
return b}},i=$GLM_log,F=function(a){this.name="GLMJSError";this.stack=Error().stack;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a};F.prototype=Error();F.prototype.name="GLMJSError";F.prototype.constructor=F;GLM={$DEBUG:r,version:"0.0.4e",GLM_VERSION:96,$outer:A,$extern:f,$log:i,GLMJSError:F,_radians:function(a){return a*Math.PI/180},_degrees:function(a){return 180*a/Math.PI},normalize:f("normalize"),inverse:f("inverse"),length:f("length"),length2:f("length2"),
transpose:f("transpose"),mix:f("mix"),clamp:f("clamp"),angleAxis:f("angleAxis"),rotate:f("rotate"),scale:f("scale"),translate:f("translate"),lookAt:f("lookAt"),cross:f("cross"),dot:f("dot"),perspective:function(a,b,e,g){return GLM.$outer.mat4_perspective(a,b,e,g)},eulerAngles:function(a){return GLM.$outer.vec3_eulerAngles(a)},angle:function(a){return 2*Math.acos(a.w)},axis:function(a){var b=1-a.w*a.w;if(0>=b)return glm.vec3(0,0,1);b=1/Math.sqrt(b);return glm.vec3(a.x*b,a.y*b,a.z*b)},$from_ptr:function(a,
b,e){if(this!==GLM)throw new GLM.GLMJSError("... use glm.make_<type>() (not new glm.make<type>())");b=new GLM.$outer.Float32Array(b.buffer||b,e||0,a.componentLength);b=new GLM.$outer.Float32Array(b);return new a(b)},make_vec2:function(a,b){return GLM.$from_ptr.call(this,GLM.vec2,a,2===arguments.length?b:a.byteOffset)},make_vec3:function(a,b){return GLM.$from_ptr.call(this,GLM.vec3,a,2===arguments.length?b:a.byteOffset)},make_vec4:function(a,b){return GLM.$from_ptr.call(this,GLM.vec4,a,2===arguments.length?
b:a.byteOffset)},make_quat:function(a,b){return GLM.$from_ptr.call(this,GLM.quat,a,2===arguments.length?b:a.byteOffset)},make_mat3:function(a,b){return GLM.$from_ptr.call(this,GLM.mat3,a,2===arguments.length?b:a.byteOffset)},make_mat4:function(a,b){return GLM.$from_ptr.call(this,GLM.mat4,a,2===arguments.length?b:a.byteOffset)},diagonal4x4:function(a){if("vec4"!==a.$type)throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+type.o]);a=a.elements;return new GLM.mat4([a[0],0,0,
0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]])},toMat4:function(a){return new GLM.mat4(GLM.$outer.mat4_array_from_quat(a))},FAITHFUL:!0,to_string:function(a,b){try{var e=a.$type||typeof a;if(!GLM[e])throw new GLM.GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+e,a]);return GLM.FAITHFUL?GLM.$to_string(a,b).replace(/[\t\n]/g,""):GLM.$to_string(a,b)}catch(g){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",e,a+"",g),g+""}},$sizeof:function(a){return a.BYTES_PER_ELEMENT},$types:[],$isGLMConstructor:function(a){return!!(a&&
a.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(a){return a instanceof GLM.$GLMBaseType&&a.constructor||"string"===typeof a&&GLM[a]},$isGLMObject:function(a){return a instanceof GLM.$GLMBaseType&&a.$type},$to_array:function(a){return[].slice.call(a.elements)},$to_json:function(a,b,e){this instanceof GLM.$GLMBaseType&&(e=b,b=a,a=this);return JSON.stringify(GLM.$to_object(a),b,e)},$inspect:function(a){this instanceof GLM.$GLMBaseType&&(a=this);return GLM.$to_json(a,null,2)},_clamp:function(a,
b,e){return a<b?b:a>e?e:a},_abs:function(a){return Math.abs(a)},_equal:function(a,b){return a===b},_epsilonEqual:function(a,b,e){return Math.abs(a-b)<e},_fract:function(a){return a-Math.floor(a)},_frexp:function(a,b){if(0==a)return b&&Array.isArray(b)?b[0]=b[1]=0:[0,0];var e=new GLM.$outer.DataView(new GLM.$outer.ArrayBuffer(8));e.setFloat64(0,a);var g=e.getUint32(0)>>>20&2047;0===g&&(e.setFloat64(0,a*Math.pow(2,64)),g=(e.getUint32(0)>>>20&2047)-64);e=g-1022;g=GLM.ldexp(a,-e);return b&&Array.isArray(b)?
(b[0]=e,b[1]=g):[g,e]},_ldexp:function(a,b){return 1023<b?a*Math.pow(2,1023)*Math.pow(2,b-1023):-1074>b?a*Math.pow(2,-1074)*Math.pow(2,b+1074):a*Math.pow(2,b)},_max:Math.max,_min:Math.min,sqrt:Math.sqrt,__sign:function(a){return 0<a?1:0>a?-1:+a},epsilon:function(){return 1E-6},pi:function(){return Math.PI},FIXEDPRECISION:6,$toFixedString:function(a,b,e,g){void 0===g&&(g=GLM.FIXEDPRECISION);if(!e||!e.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof e+")");try{var f="";e.map(function(c){c=
b[f=c];if(!c.toFixed)throw Error("!toFixed in w"+[c,a,JSON.stringify(b)]);return c.toFixed(0)})}catch(k){throw GLM.$DEBUG&&GLM.$outer.console.error("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),f),GLM.$DEBUG&&glm.$log("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),f),new GLM.GLMJSError(k);}e=e.map(function(a){return b[a].toFixed(g)});return a+"("+e.join(", ")+")"}};GLM._sign=Math.sign||GLM.__sign;r=GLM;A=function(a,b){var e=a.$||{};this.$type=b;this.$type_name=
e.name||"<"+b+">";e.components&&(this.$components=e.components[0]);this.$len=this.components=a.componentLength;this.constructor=a;this.byteLength=a.BYTES_PER_ELEMENT;GLM.$types.push(b)};A.prototype={clone:function(){return new this.constructor(new this.elements.constructor(this.elements))},toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)},toJSON:function(){return GLM.$to_object(this)}};Object.defineProperty(A.prototype,"address",{get:function(){var a=this.elements.byteOffset.toString(16);
return"0x00000000".substr(0,10-a.length)+a}});r.$GLMBaseType=A;var D=function(a,b,e){return a.subarray(b,e||a.length)},m=function(a,b,e){e=e||a.length;return new GLM.$outer.Float32Array(a.buffer,a.byteOffset+b*GLM.$outer.Float32Array.BYTES_PER_ELEMENT,e-b)};Object.defineProperty(GLM,"patch_subarray",{configurable:!0,value:function(){var a=new GLM.$outer.Float32Array([0,0]);a.subarray(1).subarray(0)[0]=1;a=1!==a[1]||4!==(new GLM.$outer.Float32Array(16)).subarray(12,16).length?m:D;a.workaround_broken_spidermonkey_subarray=
m;a.native_subarray=D;return a}});GLM.$subarray=GLM.patch_subarray();GLM.$template={_genArgError:function(a,b,e,g){~g.indexOf(void 0)&&(g=g.slice(0,g.indexOf(void 0)));var f=RegExp.prototype.test.bind(/^[^$_]/);return new GLM.GLMJSError("unsupported argtype to "+b+" "+a.$sig+": [typ="+e+"] :: got arg types: "+g.map(GLM.$template.jstypes.get)+" // supported types: "+Object.keys(a).filter(f).join("||"))},jstypes:{get:function(a){return null===a?"null":void 0===a?"undefined":a.$type||GLM.$template.jstypes[typeof a]||
GLM.$template.jstypes[a+""]||function(a){if("object"===typeof a){if(a instanceof GLM.$outer.Float32Array)return"Float32Array";if(a instanceof GLM.$outer.ArrayBuffer)return"ArrayBuffer";if(Array.isArray(a))return"array"}return"<unknown "+[typeof a,a]+">"}(a)},"0":"float","boolean":"bool",number:"float",string:"string","[object Float32Array]":"Float32Array","[object ArrayBuffer]":"ArrayBuffer","function":"function"},_add_overrides:function(a,b){for(var e in b)b[e]&&GLM[e].override(a,b[e])},_add_inline_override:function(a,
b,e){this[b]=eval(GLM.$template._traceable("glm_"+a+"_"+b,e))();return this},_inline_helpers:function(a,b){return{$type:"built-in",$type_name:b,$template:a,F:a,dbg:b,override:this._add_inline_override.bind(a,b),link:function(e){var g=a[e];g||(g=a[[e,"undefined"]]);if(!g)throw new GLM.GLMJSError("error linking direct function for "+b+"<"+e+"> or "+b+"<"+[e,void 0]+">");return/\bthis\./.test(g+"")?g.bind(a):g}}},"template<T>":function(a,b){a.$sig="template<T>";var e=GLM.$template.jstypes;return this.slingshot(this._inline_helpers(a,
b),eval(this._traceable("Tglm_"+b,function(b){this instanceof GLM.$GLMBaseType&&(b=this);var f=[b&&b.$type||e[typeof b]||e.get(b)||"null"];if(!a[f])throw GLM.$template._genArgError(a,arguments.callee.dbg,f,[b]);return a[f](b)}))())},"template<T,...>":function(a,b){a.$sig="template<T,...>";var e=GLM.$template.jstypes;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tdotglm_"+b,function(b){for(var f=Array(arguments.length),k=0;k<f.length;k++)f[k]=arguments[k];this instanceof GLM.$GLMBaseType&&
f.unshift(b=this);k=[b&&b.$type||e[typeof b]||e.get(b)||"null"];if(!a[k])throw GLM.$template._genArgError(a,arguments.callee.dbg,k,f);return a[k].apply(a,f)}))())},"template<T,V,number>":function(a,b){a.$sig="template<T,V,number>";var e=GLM.$template.jstypes;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVnglm_"+b,function(){for(var b=Array(arguments.length),f=0;f<b.length;f++)b[f]=arguments[f];this instanceof GLM.$GLMBaseType&&b.unshift(this);var f=b[0],k=b[1],b=b[2],c=[f&&
f.$type||e[typeof f]||e[f+""]||"<unknown "+f+">",k&&k.$type||e[typeof k]||e[k+""]||"<unknown "+k+">"];if(!a[c])throw GLM.$template._genArgError(a,arguments.callee.dbg,c,[f,k,b]);if("number"!==typeof b)throw new GLM.GLMJSError(arguments.callee.dbg+a.$sig+": unsupported n type: "+[typeof b,b]);return a[c](f,k,b)}))())},"template<T,V,...>":function(a,b){a.$sig="template<T,V,...>";var e=GLM.$template.jstypes,g=GLM.$GLMBaseType,f=GLM.$template._genArgError;return this.slingshot(this._inline_helpers(a,
b),eval(this._traceable("TVglm_"+b,function(){for(var b=Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];this instanceof g&&b.unshift(this);var c=b[0],i=b[1],c=[c&&c.$type||e[typeof c],i&&i.$type||e[typeof i]||e[i+""]||Array.isArray(i)&&"array"+i.length+""||""+i+""];if(!a[c])throw f(a,arguments.callee.dbg,c,b);return a[c].apply(a,b)}))())},override:function(a,b,e,g,f){function k(a,c){GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+Object.keys(a.$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return!~c.indexOf(a)?
"*"+a+"*":a}).join(" | "))}GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",a,b,e.$op?'$op: ["'+e.$op+'"]':"");if(!g)throw Error("unspecified target group "+g+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var c=g[b];if(c&&c.$op!==e.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+[c.$op,"!=",e.$op].join(" ")+'"  p='+[b,c.$op,e.$op,"||"+Object.keys(c.$template).join("||")]);var i=GLM.$template[a](GLM.$template.deNify(e,b),b);if(c&&c.F.$sig!==
i.F.$sig)throw Error('glm.$template.override: mismatch merging existing override: .$sig "'+[c&&c.F.$sig,"!=",i.F.$sig].join(" ")+'"  p='+[b,c&&c.F.$sig,i.F.$sig,"||"+Object.keys(c&&c.$template||{}).join("||")]);i.$op=e.$op;if(c){for(var d in i.$template)"$op"===d||"$sig"===d||(a=d in c.$template,!a||!0===f?(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+d+" merged"),c.$template[d]=i.$template[d]):a&&GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+
d+" skipped"));if(GLM.$DEBUG){var n=[];Object.keys(c.$template).forEach(function(a){a in i.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+a+" carried-forward"),n.push(a))});k(g[b],n)}}else g[b]=i,GLM.$DEBUG&&k(g[b],[]);return g},_override:function(a,b,e){for(var g in b)this.override(a,g,b[g],e,!0);return e},slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},extend:function(a,b){[].slice.call(arguments,1).forEach(function(b){if(b)for(var g in b)b.hasOwnProperty(g)&&
(a[g]=b[g])});return a},"declare<T,V,...>":function(a){return!a?{}:this._override("template<T,V,...>",a,GLM.$outer.functions)},"declare<T>":function(a){return!a?{}:this._override("template<T>",a,GLM.$outer.functions)},"declare<T,...>":function(a){return!a?{}:this._override("template<T,...>",a,GLM.$outer.functions)},"declare<T,V,number>":function(a){return!a?{}:this._override("template<T,V,number>",a,GLM.$outer.functions)},_tojsname:function(a){return(a||"_").replace(/[^$a-zA-Z0-9_]/g,"_")},_traceable:function(a,
b){var e=b;if("function"!==typeof e)throw new GLM.GLMJSError("_traceable expects tidy function as second arg "+e);if(!a)throw new GLM.GLMJSError("_traceable expects hint or what's the point"+[e,a]);a=this._tojsname(a||"_traceable");e=(e+"").replace(/^(\s*var\s*(\w+)\s*=\s*)__VA_ARGS__;/mg,function(a,b,c){return b+"new Array(arguments.length);for(var I=0;I<varname.length;I++)varname[I]=arguments[I];".replace(/I/g,"__VA_ARGS__I").replace(/varname/g,c)}).replace(/\barguments[.]callee\b/g,a);if(/"_traceable"/.test(e))throw new GLM.GLMJSError("already wrapped in a _traceable: "+
[e,a]);e='function (){ "use strict"; SRC; return HINT; "_traceable"; }'.replace("HINT",a.replace(/[$]/g,"$$$$")).replace("SRC",e.replace(/[$]/g,"$$$$").replace(/^function\s*\(/,"function "+a+"("));e="1,"+e;if(GLM.$DEBUG)try{eval(e)}catch(g){throw console.error(a,e,b,g),g;}return e},deNify:function(a,b){var e={vec:[2,3,4],mat:[3,4]},g=this._tojsname.bind(this),f;for(f in a){var i=!1;f.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,function(c,j){i=!0;var d=a[f];delete a[f];e[j.toLowerCase()].forEach(function(c){var e=
f.replace(/<N[*]N>/g,c*c).replace(/<N>/g,c);if(!(e in a)){var i=g("glm_"+b+"_"+e);a[e]=(new Function("","'use strict'; return "+(d+"").replace(/^function\s*\(/,"function "+i+"(").replace(/N[*]N/g,c*c).replace(/N/g,c)))()}})}.bind(this));/^[$]/.test(f)?GLM.$DEBUG&&GLM.$outer.console.debug("@ NOT naming "+f):!i&&("function"===typeof a[f]&&!a[f].name)&&(GLM.$DEBUG&&GLM.$outer.console.debug("naming "+g(b+"_"+f)),a[f]=eval(this._traceable("glm_"+b+"_"+f,a[f]))())}return a},$_module_stamp:+new Date,_iso:"/[*][^/*]*[*]/",
_get_argnames:function(a){return(a+"").replace(/\s+/g,"").replace(RegExp(this._iso,"g"),"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)},GLMType:function(a,b){var e=b.identity.length;Object.keys(b).filter(function(a){return"function"===typeof b[a]&&!b[a].name}).map(function(e){var g=a+"_"+e;GLM.$DEBUG&&GLM.$outer.console.debug("naming $."+e+" == "+g,this._traceable(g,b[e]));b[e]=eval(this._traceable("glm_"+g,b[e]))()}.bind(this));var g=eval(this._traceable("glm_"+
a+"$class",function(a){for(var b=g.$,c=g.prototype.$type,e=Array(arguments.length),d=0;d<e.length;d++)e[d]=arguments[d];d=b[typeof a+e.length];if(!d){var f="glm."+c,c=f+"("+e.map(function(a){return typeof a})+")",e=Object.keys(b).filter(function(a){return"function"===typeof b[a]&&/^\w+\d+$/.test(a)}).map(function(a){return f+"("+GLM.$template._get_argnames(b[a])+")"});throw new GLM.GLMJSError("no constructor found for: "+c+"\nsupported signatures:\n\t"+e.join("\n\t"));}if(this instanceof g){if(a instanceof
GLM.$outer.Float32Array){2<GLM.$DEBUG&&GLM.$outer.console.info("adopting elements...",typeof a);if(a.length!=g.componentLength)throw GLM.$outer.console.error(c+" elements size mismatch: "+["wanted:"+g.componentLength,"handed:"+a.length]),e=GLM.$subarray(a,0,g.componentLength),new GLM.GLMJSError(c+" elements size mismatch: "+["wanted:"+g.componentLength,"handed:"+a.length,"theoreticaly-correctable?:"+(e.length===g.componentLength)]);c=a}else(c=new GLM.$outer.Float32Array(g.componentLength)).set(d.apply(b,
e));Object.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:c})}else return new g(d.apply(b,e))}))();b.components=b.components?b.components.map(function(a){return"string"===typeof a?a.split(""):a}):[];g.$=b;g.componentLength=e;g.BYTES_PER_ELEMENT=e*GLM.$outer.Float32Array.BYTES_PER_ELEMENT;g.prototype=new GLM.$GLMBaseType(g,a);return g}};GLM.$template["declare<T,V,...>"]({cross:{"vec2,vec2":function(a,b){return glm.vec3(0,0,a.x*b.y-a.y*b.x)}}});GLM.$template["declare<T,V,number>"]({mix:{"float,float":function(a,
b,e){return b*e+a*(1-e)},"vec<N>,vec<N>":function(a,b,e){if(void 0===e)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");a=glm.$to_array(a);b=glm.$to_array(b);var g=1-e;return new glm.vecN(a.map(function(a,f){return b[f]*e+a*g}))}},clamp:{"float,float":function(a,b,e){return GLM._clamp(a,b,e)},"vec<N>,float":function(a,b,e){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._clamp(a,b,e)}))}},epsilonEqual:{"float,float":GLM._epsilonEqual,"vec<N>,vec<N>":function(a,b,e){for(var g=
this["float,float"],f=glm.bvecN(),i=0;i<N;i++)f[i]=g(a[i],b[i],e);return f},"ivec<N>,ivec<N>":function(a,b,e){return this["vecN,vecN"](a,b,e)},"uvec<N>,uvec<N>":function(a,b,e){return this["vecN,vecN"](a,b,e)},"quat,quat":function(a,b,e){for(var g=this["float,float"],f=glm.bvec4(),i=0;4>i;i++)f[i]=g(a[i],b[i],e);return f},"mat<N>,mat<N>":function(){throw new GLM.GLMJSError("error: 'epsilonEqual' only accept floating-point and integer scalar or vector inputs");}}});GLM.$template.extend(GLM,GLM.$template["declare<T>"]({degrees:{"float":function(a){return GLM._degrees(a)},
"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._degrees))}},radians:{"float":function(a){return GLM._radians(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._radians))}},sign:{"null":function(){return 0},undefined:function(){return NaN},string:function(){return NaN},"float":function(a){return GLM._sign(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._sign))},"ivec<N>":function(a){return new GLM.ivecN(GLM.$to_array(a).map(GLM._sign))}},
abs:{"float":function(a){return GLM._abs(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._abs))}},fract:{"float":function(a){return GLM._fract(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._fract))}},all:{"vec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},"bvec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},"ivec<N>":function(a){return N===GLM.$to_array(a).filter(Boolean).length},"uvec<N>":function(a){return N===
GLM.$to_array(a).filter(Boolean).length},quat:function(a){return 4===GLM.$to_array(a).filter(Boolean).length}},$to_object:{vec2:function(a){return{x:a.x,y:a.y}},vec3:function(a){return{x:a.x,y:a.y,z:a.z}},vec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},uvec2:function(a){return{x:a.x,y:a.y}},uvec3:function(a){return{x:a.x,y:a.y,z:a.z}},uvec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},ivec2:function(a){return{x:a.x,y:a.y}},ivec3:function(a){return{x:a.x,y:a.y,z:a.z}},ivec4:function(a){return{x:a.x,
y:a.y,z:a.z,w:a.w}},bvec2:function(a){return{x:!!a.x,y:!!a.y}},bvec3:function(a){return{x:!!a.x,y:!!a.y,z:!!a.z}},bvec4:function(a){return{x:!!a.x,y:!!a.y,z:!!a.z,w:!!a.w}},quat:function(a){return{w:a.w,x:a.x,y:a.y,z:a.z}},mat3:function(a){return{"0":this.vec3(a[0]),1:this.vec3(a[1]),2:this.vec3(a[2])}},mat4:function(a){return{"0":this.vec4(a[0]),1:this.vec4(a[1]),2:this.vec4(a[2]),3:this.vec4(a[3])}}}}),GLM.$template["declare<T,...>"]({$from_glsl:{string:function(a,b){var e;a.replace(/^([$\w]+)\(([-.0-9ef, ]+)\)$/,
function(a,f,i){a=glm[f]||glm["$"+f];if(!a)throw new GLM.GLMJSError("glsl decoding issue: unknown type '"+f+"'");e=i.split(",").map(parseFloat);if(b){for(;e.length<a.componentLength;)e.push(e[e.length-1]);return e}e=a.apply(glm,e)});return e}},$to_glsl:{"vec<N>":function(a,b){var e=GLM.$to_array(a);b&&("object"===typeof b&&"precision"in b)&&(e=e.map(function(a){return a.toFixed(b.precision)}));for(;e.length&&e[e.length-2]===e[e.length-1];)e.pop();return a.$type+"("+e+")"},"uvec<N>":function(a,b){return this.vecN(a,
b)},"ivec<N>":function(a,b){return this.vecN(a,b)},"bvec<N>":function(a,b){return this.vecN(a,b)},quat:function(a,b){var e;b&&("object"===typeof b&&"precision"in b)&&(e=b.precision);return 0===a.x+a.y+a.z?"quat("+(void 0===e?a.w:a.w.toFixed(e))+")":this.vec4(a,b)},"mat<N>":function(a,b){var e;b&&("object"===typeof b&&"precision"in b)&&(e=b.precision);var g=GLM.$to_array(a);void 0!==e&&(g=g.map(function(a){return a.toFixed(e)}));return g.reduce(function(a,b){return a+1*b},0)===g[0]*N?"matN("+g[0]+
")":"matN("+g+")"}},frexp:{"float":function(a,b){return 1===arguments.length?this["float,undefined"](a):this["float,array"](a,b)},"vec<N>":function(a,b){if(2>arguments.length)throw new GLM.GLMJSError("frexp(vecN, ivecN) expected ivecN as second parameter");return GLM.vecN(GLM.$to_array(a).map(function(a,g){var f=GLM._frexp(a);b[g]=f[1];return f[0]}))},"float,undefined":function(a){return GLM._frexp(a)},"float,array":function(a,b){return GLM._frexp(a,b)}},ldexp:{"float":GLM._ldexp,"vec<N>":function(a,
b){return GLM.vecN(GLM.$to_array(a).map(function(a,g){return GLM._ldexp(a,b[g])}))}}}));GLM.$template["declare<T,V,...>"]({rotate:{"float,vec3":function(a,b){return GLM.$outer.mat4_angleAxis(a,b)},"mat4,float":function(a,b,e){return a.mul(GLM.$outer.mat4_angleAxis(b,e))}},scale:{"mat4,vec3":function(a,b){return a.mul(GLM.$outer.mat4_scale(b))},"vec3,undefined":function(a){return GLM.$outer.mat4_scale(a)}},translate:{"mat4,vec3":function(a,b){return a.mul(GLM.$outer.mat4_translation(b))},"vec3,undefined":function(a){return GLM.$outer.mat4_translation(a)}},
angleAxis:{"float,vec3":function(a,b){return GLM.$outer.quat_angleAxis(a,b)}},min:{"float,float":function(a,b){return GLM._min(a,b)},"vec<N>,float":function(a,b){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._min(a,b)}))}},max:{"float,float":function(a,b){return GLM._max(a,b)},"vec<N>,float":function(a,b){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._max(a,b)}))}},equal:{"float,float":GLM._equal,"vec<N>,vec<N>":function(a,b){for(var e=this["float,float"],g=glm.bvecN(),
f=0;f<N;f++)g[f]=e(a[f],b[f]);return g},"bvec<N>,bvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"quat,quat":function(a,b){for(var e=this["float,float"],g=glm.bvec4(),f=0;4>f;f++)g[f]=e(a[f],b[f]);return g}}});GLM.$to_string=GLM.$template["declare<T,...>"]({$to_string:{"function":function(a){return"[function "+(a.name||"anonymous")+"]"},ArrayBuffer:function(a){return"[object ArrayBuffer "+
JSON.stringify({byteLength:a.byteLength})+"]"},Float32Array:function(a){return"[object Float32Array "+JSON.stringify({length:a.length,byteOffset:a.byteOffset,byteLength:a.byteLength,BPE:a.BYTES_PER_ELEMENT})+"]"},"float":function(a,b){return GLM.$toFixedString("float",{value:a},["value"],b&&b.precision)},string:function(a){return a},bool:function(a){return"bool("+a+")"},"vec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&b.precision)},"uvec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,
a,a.$components,b&&"object"===typeof b&&b.precision||0)},"ivec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&"object"===typeof b&&b.precision||0)},"bvec<N>":function(a){return a.$type_name+"("+GLM.$to_array(a).map(Boolean).join(", ")+")"},"mat<N>":function(a,b){var e=[0,1,2,3].slice(0,N).map(function(b){return a[b]}).map(function(a){return GLM.$toFixedString("\t",a,a.$components,b&&b.precision)});return a.$type_name+"(\n"+e.join(", \n")+"\n)"},quat:function(a,b){a=GLM.degrees(GLM.eulerAngles(a));
return GLM.$toFixedString("<quat>"+a.$type_name,a,["x","y","z"],b&&b.precision)}}}).$to_string;GLM.$template["declare<T,V,...>"]({copy:{$op:"=","vec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,array<N>":function(a,b){a.elements.set(b);return a},"vec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,uvec<N>":function(a,
b){a.elements.set(b.elements);return a},"uvec<N>,array<N>":function(a,b){a.elements.set(b);return a},"uvec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,array<N>":function(a,b){a.elements.set(b);return a},"ivec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},
"ivec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"ivec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,ivec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,array<N>":function(a,b){a.elements.set(b);return a},"bvec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"bvec<N>,bvec<N>":function(a,b){a.elements.set(b.elements);return a},"quat,quat":function(a,b){a.elements.set(b.elements);
return a},"mat<N>,mat<N>":function(a,b){a.elements.set(b.elements);return a},"mat<N>,array<N>":function(a,b){b=b.reduce(function(a,b){if(!a.concat)throw new GLM.GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return a.concat(b)});if(b===N)throw new GLM.GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");return a["="](b)},"mat<N>,array<N*N>":function(a,b){a.elements.set(b);return a},"mat4,array9":function(a,b){a.elements.set((new GLM.mat4(b)).elements);return a}},sub:{$op:"-",_sub:function(a,
b){return GLM.$to_array(a).map(function(a,f){return a-b[f]})},"vec<N>,vec<N>":function(a,b){return new GLM.vecN(this._sub(a,b))},"vec<N>,uvec<N>":function(a,b){return new GLM.vecN(this._sub(a,b))},"uvec<N>,uvec<N>":function(a,b){return new GLM.uvecN(this._sub(a,b))},"uvec<N>,ivec<N>":function(a,b){return new GLM.uvecN(this._sub(a,b))},"vec<N>,ivec<N>":function(a,b){return new GLM.vecN(this._sub(a,b))},"ivec<N>,uvec<N>":function(a,b){return new GLM.ivecN(this._sub(a,b))},"ivec<N>,ivec<N>":function(a,
b){return new GLM.ivecN(this._sub(a,b))}},sub_eq:{$op:"-=","vec<N>,vec<N>":function(a,b){GLM.$to_array(a).map(function(e,f){return a.elements[f]=e-b[f]});return a},"vec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"vec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,uvec<N>":function(a,
b){return this["vecN,vecN"](a,b)}},add:{$op:"+",_add:function(a,b){return GLM.$to_array(a).map(function(a,f){return a+b[f]})},"vec<N>,vec<N>":function(a,b){return new GLM.vecN(this._add(a,b))},"vec<N>,uvec<N>":function(a,b){return new GLM.vecN(this._add(a,b))},"uvec<N>,uvec<N>":function(a,b){return new GLM.uvecN(this._add(a,b))},"uvec<N>,ivec<N>":function(a,b){return new GLM.uvecN(this._add(a,b))},"vec<N>,ivec<N>":function(a,b){return new GLM.vecN(this._add(a,b))},"ivec<N>,ivec<N>":function(a,b){return new GLM.ivecN(this._add(a,
b))},"ivec<N>,uvec<N>":function(a,b){return new GLM.ivecN(this._add(a,b))}},add_eq:{$op:"+=","vec<N>,vec<N>":function(a,b){GLM.$to_array(a).map(function(e,f){return a.elements[f]=e+b[f]});return a},"vec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)},"uvec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"vec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,b)},"ivec<N>,ivec<N>":function(a,b){return this["vecN,vecN"](a,
b)},"ivec<N>,uvec<N>":function(a,b){return this["vecN,vecN"](a,b)}},div:{$op:"/","vec<N>,float":function(a,b){return new GLM.vecN(GLM.$to_array(a).map(function(a){return a/b}))}},div_eq:{$op:"/=","vec<N>,float":function(a,b){for(var e=0;e<N;e++)a.elements[e]/=b;return a}},eql_epsilon:function(a){return{$op:"~=","vec<N>,vec<N>":a,"mat<N>,mat<N>":a,"quat,quat":a,"uvec<N>,uvec<N>":a,"ivec<N>,ivec<N>":a}}(function(a,b){return GLM.all(GLM.epsilonEqual(a,b,GLM.epsilon()))}),eql:function(a){return{$op:"==",
"mat<N>,mat<N>":function(a,e){return e.elements.length===glm.$to_array(a).filter(function(a,b){return a===e.elements[b]}).length},"vec<N>,vec<N>":a,"quat,quat":a,"uvec<N>,uvec<N>":a,"ivec<N>,ivec<N>":a,"bvec<N>,bvec<N>":a}}(function(a,b){return GLM.all(GLM.equal(a,b))})});GLM.string={$type_name:"string",$:{}};GLM.number={$type_name:"float",$:{}};GLM["boolean"]={$type:"bool",$type_name:"bool",$:{}};GLM.vec2=GLM.$template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},
number1:function(a){return[a,a]},number2:function(a,b){return[a,b]},object1:function(a){if(null!==a)switch(a.length){case 4:case 3:case 2:return[a[0],a[1]];default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+a);return"string"===typeof a.x?[1*a.x,1*a.y]:[a.x,a.y]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec2: "+a);}});GLM.uvec2=GLM.$template.GLMType("uvec2",{name:"uvec2",identity:[0,0],components:["xy",
"01"],_clamp:function(a){return~~a},undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b]},object1:function(a){switch(a.length){case 4:case 3:case 2:return[a[0],a[1]].map(this._clamp);default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+a);return[a.x,a.y].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+
this.name+": "+a);}});GLM.vec3=GLM.$template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(a){return[a,a,a]},number2:function(a,b){return[a,b,b]},number3:function(a,b,e){return[a,b,e]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]];case 2:return[a[0],a[1],a[1]];default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+
a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z]:[a.x,a.y,a.z]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3: "+a);},object2:function(a,b){if(a instanceof GLM.vec2||a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,b];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[a,b]);}});GLM.uvec3=GLM.$template.GLMType("uvec3",{name:"uvec3",identity:[0,0,0],components:["xyz","012"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},
number1:function(a){a=this._clamp(a);return[a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b]},number3:function(a,b,e){a=this._clamp(a);b=this._clamp(b);e=this._clamp(e);return[a,b,e]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1]].map(this._clamp);default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+a);return[a.x,
a.y,a.z].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+a);},object2:function(a,b){if(a instanceof GLM.vec2)return[a.x,a.y,b].map(this._clamp);if(a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,z): "+[a,b]);}});GLM.vec4=GLM.$template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},
number1:function(a){return[a,a,a,a]},number2:function(a,b){return[a,b,b,b]},number3:function(a,b,e){return[a,b,e,e]},number4:function(a,b,e,f){return[a,b,e,f]},object1:function(a){if(a)switch(a.length){case 4:return[a[0],a[1],a[2],a[3]];case 3:return[a[0],a[1],a[2],a[2]];case 2:return[a[0],a[1],a[1],a[1]];default:if("w"in a&&"x"in a){if(typeof a.x!==typeof a.w)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,
a.z,a.w]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4: "+[a,a&&a.$type]);},object2:function(a,b){if(a instanceof GLM.vec3||a instanceof GLM.uvec3||a instanceof GLM.ivec3||a instanceof GLM.bvec3)return[a.x,a.y,a.z,b];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[a,b]);},object3:function(a,b,e){if(a instanceof GLM.vec2||a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,b,e];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+
[a,b,e]);}});GLM.uvec4=GLM.$template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b,b]},number3:function(a,b,e){a=this._clamp(a);b=this._clamp(b);e=this._clamp(e);return[a,b,e,e]},number4:function(a,b,e,f){return[a,b,e,f].map(this._clamp)},object1:function(a){if(a)switch(a.length){case 4:return[a[0],
a[1],a[2],a[3]].map(this._clamp);case 3:return[a[0],a[1],a[2],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1],a[1]].map(this._clamp);default:if("w"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM."+this.name+": "+a);return[a.x,a.y,a.z,a.w].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+": "+[a,a&&a.$type]);},object2:function(a,b){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,b].map(this._clamp);
if(a instanceof GLM.uvec3||a instanceof GLM.ivec3||a instanceof GLM.bvec3)return[a.x,a.y,a.z,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,w): "+[a,b]);},object3:function(a,b,e){if(a instanceof GLM.vec2)return[a.x,a.y,b,e].map(this._clamp);if(a instanceof GLM.uvec2||a instanceof GLM.ivec2||a instanceof GLM.bvec2)return[a.x,a.y,this._clamp(b),this._clamp(e)];throw new GLM.GLMJSError("unrecognized object passed to GLM."+this.name+"(o,z,w): "+[a,b,e]);}});
GLM.ivec2=GLM.$template.GLMType("ivec2",GLM.$template.extend({},GLM.uvec2.$,{name:"ivec2"}));GLM.ivec3=GLM.$template.GLMType("ivec3",GLM.$template.extend({},GLM.uvec3.$,{name:"ivec3"}));GLM.ivec4=GLM.$template.GLMType("ivec4",GLM.$template.extend({},GLM.uvec4.$,{name:"ivec4"}));GLM.bvec2=GLM.$template.GLMType("bvec2",GLM.$template.extend({},GLM.uvec2.$,{name:"bvec2",boolean1:GLM.uvec2.$.number1,boolean2:GLM.uvec2.$.number2}));GLM.bvec3=GLM.$template.GLMType("bvec3",GLM.$template.extend({},GLM.uvec3.$,
{name:"bvec3",boolean1:GLM.uvec3.$.number1,boolean2:GLM.uvec3.$.number2,boolean3:GLM.uvec3.$.number3}));GLM.bvec4=GLM.$template.GLMType("bvec4",GLM.$template.extend({},GLM.uvec4.$,{name:"bvec4",boolean1:GLM.uvec4.$.number1,boolean2:GLM.uvec4.$.number2,boolean3:GLM.uvec4.$.number3,boolean4:GLM.uvec4.$.number4}));GLM.bvec2.$._clamp=GLM.bvec3.$._clamp=GLM.bvec4.$._clamp=function(a){return!!a};GLM.mat3=GLM.$template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},
number1:function(a){return 1===a?this.identity:[a,0,0,0,a,0,0,0,a]},number9:function(a,b,e,f,i,k,c,j,d){return arguments},object1:function(a){if(a){var b=a.elements||a;if(16===b.length)return[b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]];if(9===b.length)return b;if(0 in b&&1 in b&&2 in b&&!(3 in b)&&"object"===typeof b[2])return[b[0],b[1],b[2]].map(GLM.vec3.$.object1).reduce(function(a,b){return a.concat(b)})}throw new GLM.GLMJSError("unrecognized object passed to GLM.mat3: "+a);},object3:function(a,
b,e){return[a,b,e].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});GLM.mat4=GLM.$template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(a,b,e,f,i,k,c,j,d,n,h,m,q,r,t,v){return arguments},number1:function(a){return 1===a?this.identity:[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,a]},object1:function(a){var b;if(a){b=a.elements||a;if(9===b.length)return[b[0],b[1],b[2],0,b[3],b[4],b[5],0,b[6],b[7],b[8],0,0,0,0,
1];if(4===b.length&&b[0]&&4===b[0].length)return b[0].concat(b[1],b[2],b[3]);if(16===b.length)return b;if(0 in b&&1 in b&&2 in b&&3 in b&&!(4 in b)&&"object"===typeof b[3])return[b[0],b[1],b[2],b[3]].map(GLM.vec4.$.object1).reduce(function(a,b){return a.concat(b)})}throw new GLM.GLMJSError("unrecognized object passed to GLM.mat4: "+[a,b&&b.length]);},object4:function(a,b,e,f){return[a,b,e,f].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});GLM.quat=GLM.$template.GLMType("quat",{identity:[0,
0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(a){if(1!==a)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(a,b,e,f){return[b,e,f,a]},object1:function(a){if(a){if(a instanceof GLM.mat4)return GLM.$outer.quat_array_from_mat4(a);if(4===a.length)return[a[0],a[1],a[2],a[3]];if(a instanceof GLM.quat)return[a.x,a.y,a.z,a.w];if(a instanceof GLM.vec3)return GLM.$outer.quat_array_from_zyx(a);if("w"in
a&&"x"in a)return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,a.z,a.w]}throw new GLM.GLMJSError("unrecognized object passed to GLM.quat.object1: "+[a,a&&a.$type,typeof a,a&&a.constructor]);}});var v=function(a,b,e,f){a.$properties=a.$properties||{def:function(b,c){this[b]=c;Object.defineProperty(a.prototype,b,c)}};var i=a.$properties,k=i.def.bind(i),c=[0,1,2,3].map(function(a){return{enumerable:e,get:function(){return this.elements[a]},set:function(b){this.elements[a]=b}}});b.forEach(function(a,
b){k(a,c[b])});if(isNaN(b[0])&&!/^_/.test(b[0])){var j=b.slice();do(function(a,b,c){"quat"===b&&(b="vec"+c);k(a,{enumerable:!1,get:function(){return new GLM[b](GLM.$subarray(this.elements,0*c,1*c))},set:function(a){return(new GLM[b](GLM.$subarray(this.elements,0*c,1*c)))["="](a)}})})(j.join(""),a.prototype.$type.replace(/[1-9]$/,j.length),j.length);while(j[1]!=j.pop());if(f)return i;j=b.slice();if(b={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[j.join("")])for(var d in b)(function(a,b,c,d){k(a,{enumerable:!1,
get:function(){return new GLM[b](GLM.$subarray(this.elements,0*c+d,1*c+d))},set:function(a){return(new GLM[b](GLM.$subarray(this.elements,0*c+d,1*c+d)))["="](a)}})})(d,a.prototype.$type.replace(/[1-9]$/,d.length),d.length,b[d])}return i};v(GLM.vec2,GLM.vec2.$.components[0],!0);v(GLM.vec2,GLM.vec2.$.components[1]);v(GLM.vec3,GLM.vec3.$.components[0],!0);v(GLM.vec3,GLM.vec3.$.components[1]);v(GLM.vec3,GLM.vec3.$.components[2]);v(GLM.vec4,GLM.vec4.$.components[0],!0);v(GLM.vec4,GLM.vec4.$.components[1]);
v(GLM.vec4,GLM.vec4.$.components[2]);v(GLM.quat,GLM.quat.$.components[0],!0,"noswizzles");v(GLM.quat,GLM.quat.$.components[1]);GLM.quat.$properties.def("wxyz",{enumerable:!1,get:function(){return new GLM.vec4(this.w,this.x,this.y,this.z)},set:function(a){a=GLM.vec4(a);return this["="](GLM.quat(a.x,a.y,a.z,a.w))}});"uvec2 uvec3 uvec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4".split(" ").forEach(function(a){v(GLM[a],GLM[a].$.components[0],!0);v(GLM[a],GLM[a].$.components[1])});Object.defineProperty(GLM.quat.prototype,
"_x",{get:function(){throw Error("erroneous quat._x access");}});GLM.$partition=function(a,b,e,f){if(void 0===e)throw new GLM.GLMJSError("nrows is undefined");var i=b.$.identity.length;e=e||i;for(var j=function(a){3<GLM.$DEBUG&&GLM.$outer.console.debug("CACHEDBG: "+a)},c=0;c<e;c++)(function(c){var d=f&&f+c,e=c*i;Object.defineProperty(a,c,{configurable:!0,enumerable:!0,set:function(d){if(d instanceof b)this.elements.set(d.elements,e);else if(d&&d.length===i)this.elements.set(d,e);else throw new GLM.GLMJSError("unsupported argtype to "+
(a&&a.$type)+"["+c+"] setter: "+[typeof d,d]);},get:function(){if(f){if(this[d])return c||j("cache hit "+d),this[d];c||j("cache miss "+d)}var a,m=new b(a=GLM.$subarray(this.elements,e,e+i));if(m.elements!==a)throw new GLM.GLMJSError("v.elements !== t");f&&Object.defineProperty(this,d,{configurable:!0,enumerable:!1,value:m});return m}})})(c)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_");GLM.$dumpTypes=function(a){GLM.$types.forEach(function(b){GLM[b].componentLength&&
a("GLM."+b,JSON.stringify({"#type":GLM[b].prototype.$type_name,"#floats":GLM[b].componentLength,"#bytes":GLM[b].BYTES_PER_ELEMENT}))})};GLM.$init=function(a){a.prefix&&(GLMJS_PREFIX=a.prefix);GLM.$prefix=GLMJS_PREFIX;var b=a.log||function(){};try{b("GLM-js: ENV: "+_ENV._VERSION)}catch(e){}b("GLM-JS: initializing: "+JSON.stringify(a,0,2));b(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));GLM.$outer.vec3_eulerAngles=GLM.$outer.vec3_eulerAngles||GLM.$outer._vec3_eulerAngles;GLM.$symbols=
[];for(var f in GLM)"function"===typeof GLM[f]&&/^[a-z]/.test(f)&&GLM.$symbols.push(f);GLM.$types.forEach(function(a){var b=GLM[a].prototype.$type,c;for(c in GLM.$outer.functions){var e=GLM.$outer.functions[c];e.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+b+"> "+c+" / "+e.$op),GLM[a].prototype[c]=e,GLM[a].prototype[e.$op]=e)}});b("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+a.vendor_name+" vendor_version="+a.vendor_version);glm.vendor=a};GLM.using_namespace=
function(a){GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!");var b=GLM.$symbols,e=[],f=[],i=GLM.using_namespace.before=[],j=GLM.using_namespace.after=[];eval(b.map(function(a,b){return"GLM.using_namespace['"+a+"'] = GLM.using_namespace.before["+b+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+i.length);b.map(function(a){f.push(a+"=GLM.using_namespace['"+a+"'];"+("GLM.using_namespace['"+
a+"']=undefined;delete GLM.using_namespace['"+a+"'];"));e.push(a+"=GLM."+a+";")});eval(e.join("\n"));a=a();eval(f.join("\n"));eval(b.map(function(a,b){return"GLM.using_namespace.after["+b+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+j.length);return a};j.current=function(){return{$GLM_log:"undefined"!==typeof $GLM_log&&$GLM_log,$GLM_console_log:"undefined"!==typeof $GLM_console_log&&$GLM_console_log,$GLM_console_prefixed:"undefined"!==
typeof $GLM_console_prefixed&&$GLM_console_prefixed,console:GLM.$outer.console}};try{window.$GLM_reset_logging=this.$GLM_reset_logging=j}catch(q){}GLM.$reset_logging=j;try{module.exports=GLM}catch(E){}}();GLMAT.mat4.exists;glm=GLM;var DLL={_version:"0.0.2",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix"};
DLL.statics={mat4_perspective:function(f,j,r,A){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),f,j,r,A))},mat4_angleAxis:function(f,j){var r=GLMAT.quat.setAxisAngle(new Float32Array(4),j,f);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),r))},quat_angleAxis:function(f,j){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),j,f))},mat4_translation:function(f){var j=new glm.mat4;GLMAT.mat4.translate(j.elements,j.elements,f.elements);return j},mat4_scale:function(f){var j=
new glm.mat4;GLMAT.mat4.scale(j.elements,j.elements,f.elements);return j},vec3_eulerAngles:function(f){var j=new Float32Array(16);GLMAT.mat4.fromQuat(j,f.elements);f=j[0];var r=j[4],A=j[1],i=j[5],F=j[2],D=j[6],j=j[10],m=new glm.vec3;m.y=Math.asin(-glm.clamp(F,-1,1));0.99999>Math.abs(F)?(m.x=Math.atan2(D,j),m.z=Math.atan2(A,f)):(m.x=0,m.z=Math.atan2(-r,i));return m},mat4_array_from_quat:function(f){return GLMAT.mat4.fromQuat(new Float32Array(16),f.elements)},$qtmp:new Float32Array(9),quat_array_from_mat4:function(f){return GLMAT.quat.fromMat3(new Float32Array(4),
GLMAT.mat3.fromMat4(this.$qtmp,f.elements))}};
DLL["declare<T,V,...>"]={mul:{$op:"*","quat,vec3":function(f,j){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),j.elements,f.elements))},"vec3,quat":function(f,j){return this["quat,vec3"](glm.inverse(j),f)},"quat,vec4":function(f,j){return this["mat4,vec4"](glm.toMat4(f),j)},"vec4,quat":function(f,j){return this["quat,vec4"](glm.inverse(j),f)},"vec<N>,float":function(f,j){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),f.elements,j))},"mat4,vec4":function(f,j){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),
j.elements,f.elements))},"vec4,mat4":function(f,j){return this["mat4,vec4"](glm.inverse(j),f)},"mat<N>,mat<N>":function(f,j){return new glm.matN(GLMAT.matN.mul(new Float32Array(N*N),f.elements,j.elements))},"quat,quat":function(f,j){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),f.elements,j.elements))}},mul_eq:{$op:"*=","mat<N>,mat<N>":function(f,j){GLMAT.matN.multiply(f.elements,f.elements,j.elements);return f},"vec<N>,float":function(f,j){GLMAT.vecN.scale(f.elements,f.elements,j);
return f},"quat,quat":function(f,j){GLMAT.quat.multiply(f.elements,f.elements,j.elements);return f},"inplace:vec3,quat":function(f,j){var r=GLMAT.quat.invert(new Float32Array(4),j.elements);GLMAT.vec3.transformQuat(f.elements,f.elements,r);return f},"inplace:vec4,mat4":function(f,j){var r=GLMAT.mat4.invert(new Float32Array(16),j.elements);GLMAT.vec4.transformMat4(f.elements,f.elements,r);return f}},cross:{"vec2,vec2":function(f,j){return new glm.vec3(GLMAT.vec2.cross(new Float32Array(3),f,j))},"vec3,vec3":function(f,
j){return new glm.vec3(GLMAT.vec3.cross(new Float32Array(3),f,j))}},dot:{"vec<N>,vec<N>":function(f,j){return GLMAT.vecN.dot(f,j)}},lookAt:{"vec3,vec3":function(f,j,r){return glm.quat(new glm.mat4(GLMAT.mat4.lookAt(new Float32Array(16),f.elements,j.elements,r.elements)))}}};DLL["declare<T,V,number>"]={mix:{"quat,quat":function(f,j,r){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),f.elements,j.elements,r))}}};
DLL["declare<T>"]={normalize:{"vec<N>":function(f){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),f))},quat:function(f){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),f.elements))}},length:{quat:function(f){return GLMAT.quat.length(f.elements)},"vec<N>":function(f){return GLMAT.vecN.length(f.elements)}},length2:{quat:function(f){return GLMAT.quat.squaredLength(f.elements)},"vec<N>":function(f){return GLMAT.vecN.squaredLength(f.elements)}},inverse:{quat:function(f){return glm.quat(GLMAT.quat.invert(new Float32Array(4),
f.elements))},mat4:function(f){f=f.clone();return null===GLMAT.mat4.invert(f.elements,f.elements)?f["="](glm.mat4()):f}},transpose:{mat4:function(f){f=f.clone();GLMAT.mat4.transpose(f.elements,f.elements);return f}}};glm.$outer.$import(DLL);try{module.exports=glm}catch(e$$20){};
return glm; })(this);
