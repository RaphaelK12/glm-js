var GLMAT={};GLMAT_VERSION="2.2.2";
(function(a){a.VERSION=GLMAT_VERSION;if(!c)var c=1E-6;if(!e)var e="undefined"!==typeof Float32Array?Float32Array:Array;if(!g)var g=Math.random;var f={setMatrixArrayType:function(b){e=b}};"undefined"!==typeof a&&(a.glMatrix=f);var l=Math.PI/180;f.toRadian=function(b){return b*l};f={create:function(){var b=new e(2);b[0]=0;b[1]=0;return b},clone:function(b){var d=new e(2);d[0]=b[0];d[1]=b[1];return d},fromValues:function(b,d){var m=new e(2);m[0]=b;m[1]=d;return m},copy:function(b,d){b[0]=d[0];b[1]=d[1];
return b},set:function(b,d,m){b[0]=d;b[1]=m;return b},add:function(b,d,m){b[0]=d[0]+m[0];b[1]=d[1]+m[1];return b},subtract:function(b,d,m){b[0]=d[0]-m[0];b[1]=d[1]-m[1];return b}};f.sub=f.subtract;f.multiply=function(b,d,m){b[0]=d[0]*m[0];b[1]=d[1]*m[1];return b};f.mul=f.multiply;f.divide=function(b,d,m){b[0]=d[0]/m[0];b[1]=d[1]/m[1];return b};f.div=f.divide;f.min=function(b,d,m){b[0]=Math.min(d[0],m[0]);b[1]=Math.min(d[1],m[1]);return b};f.max=function(b,d,m){b[0]=Math.max(d[0],m[0]);b[1]=Math.max(d[1],
m[1]);return b};f.scale=function(b,d,m){b[0]=d[0]*m;b[1]=d[1]*m;return b};f.scaleAndAdd=function(b,d,m,a){b[0]=d[0]+m[0]*a;b[1]=d[1]+m[1]*a;return b};f.distance=function(b,d){var m=d[0]-b[0],a=d[1]-b[1];return Math.sqrt(m*m+a*a)};f.dist=f.distance;f.squaredDistance=function(b,d){var m=d[0]-b[0],a=d[1]-b[1];return m*m+a*a};f.sqrDist=f.squaredDistance;f.length=function(b){var d=b[0];b=b[1];return Math.sqrt(d*d+b*b)};f.len=f.length;f.squaredLength=function(b){var d=b[0];b=b[1];return d*d+b*b};f.sqrLen=
f.squaredLength;f.negate=function(b,d){b[0]=-d[0];b[1]=-d[1];return b};f.inverse=function(b,d){b[0]=1/d[0];b[1]=1/d[1];return b};f.normalize=function(b,d){var m=d[0],a=d[1],m=m*m+a*a;0<m&&(m=1/Math.sqrt(m),b[0]=d[0]*m,b[1]=d[1]*m);return b};f.dot=function(b,d){return b[0]*d[0]+b[1]*d[1]};f.cross=function(b,d,m){d=d[0]*m[1]-d[1]*m[0];b[0]=b[1]=0;b[2]=d;return b};f.lerp=function(b,d,m,a){var c=d[0];d=d[1];b[0]=c+a*(m[0]-c);b[1]=d+a*(m[1]-d);return b};f.random=function(b,d){d=d||1;var m=2*g()*Math.PI;
b[0]=Math.cos(m)*d;b[1]=Math.sin(m)*d;return b};f.transformMat2=function(b,d,m){var a=d[0];d=d[1];b[0]=m[0]*a+m[2]*d;b[1]=m[1]*a+m[3]*d;return b};f.transformMat2d=function(b,d,m){var a=d[0];d=d[1];b[0]=m[0]*a+m[2]*d+m[4];b[1]=m[1]*a+m[3]*d+m[5];return b};f.transformMat3=function(b,d,m){var a=d[0];d=d[1];b[0]=m[0]*a+m[3]*d+m[6];b[1]=m[1]*a+m[4]*d+m[7];return b};f.transformMat4=function(b,d,m){var a=d[0];d=d[1];b[0]=m[0]*a+m[4]*d+m[12];b[1]=m[1]*a+m[5]*d+m[13];return b};var n=f.create();f.forEach=function(b,
d,m,a,c,k){d||(d=2);m||(m=0);for(a=a?Math.min(a*d+m,b.length):b.length;m<a;m+=d)n[0]=b[m],n[1]=b[m+1],c(n,n,k),b[m]=n[0],b[m+1]=n[1];return b};f.str=function(b){return"vec2("+b[0]+", "+b[1]+")"};"undefined"!==typeof a&&(a.vec2=f);var h={create:function(){var b=new e(3);b[0]=0;b[1]=0;b[2]=0;return b},clone:function(b){var d=new e(3);d[0]=b[0];d[1]=b[1];d[2]=b[2];return d},fromValues:function(b,d,m){var a=new e(3);a[0]=b;a[1]=d;a[2]=m;return a},copy:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];return b},
set:function(b,d,m,a){b[0]=d;b[1]=m;b[2]=a;return b},add:function(b,d,m){b[0]=d[0]+m[0];b[1]=d[1]+m[1];b[2]=d[2]+m[2];return b},subtract:function(b,d,m){b[0]=d[0]-m[0];b[1]=d[1]-m[1];b[2]=d[2]-m[2];return b}};h.sub=h.subtract;h.multiply=function(b,d,m){b[0]=d[0]*m[0];b[1]=d[1]*m[1];b[2]=d[2]*m[2];return b};h.mul=h.multiply;h.divide=function(b,d,m){b[0]=d[0]/m[0];b[1]=d[1]/m[1];b[2]=d[2]/m[2];return b};h.div=h.divide;h.min=function(b,d,m){b[0]=Math.min(d[0],m[0]);b[1]=Math.min(d[1],m[1]);b[2]=Math.min(d[2],
m[2]);return b};h.max=function(b,d,m){b[0]=Math.max(d[0],m[0]);b[1]=Math.max(d[1],m[1]);b[2]=Math.max(d[2],m[2]);return b};h.scale=function(b,d,m){b[0]=d[0]*m;b[1]=d[1]*m;b[2]=d[2]*m;return b};h.scaleAndAdd=function(b,d,m,a){b[0]=d[0]+m[0]*a;b[1]=d[1]+m[1]*a;b[2]=d[2]+m[2]*a;return b};h.distance=function(b,d){var m=d[0]-b[0],a=d[1]-b[1],c=d[2]-b[2];return Math.sqrt(m*m+a*a+c*c)};h.dist=h.distance;h.squaredDistance=function(b,d){var m=d[0]-b[0],a=d[1]-b[1],c=d[2]-b[2];return m*m+a*a+c*c};h.sqrDist=
h.squaredDistance;h.length=function(b){var d=b[0],m=b[1];b=b[2];return Math.sqrt(d*d+m*m+b*b)};h.len=h.length;h.squaredLength=function(b){var d=b[0],m=b[1];b=b[2];return d*d+m*m+b*b};h.sqrLen=h.squaredLength;h.negate=function(b,d){b[0]=-d[0];b[1]=-d[1];b[2]=-d[2];return b};h.inverse=function(b,d){b[0]=1/d[0];b[1]=1/d[1];b[2]=1/d[2];return b};h.normalize=function(b,d){var m=d[0],a=d[1],c=d[2],m=m*m+a*a+c*c;0<m&&(m=1/Math.sqrt(m),b[0]=d[0]*m,b[1]=d[1]*m,b[2]=d[2]*m);return b};h.dot=function(b,d){return b[0]*
d[0]+b[1]*d[1]+b[2]*d[2]};h.cross=function(b,d,m){var a=d[0],c=d[1];d=d[2];var k=m[0],u=m[1];m=m[2];b[0]=c*m-d*u;b[1]=d*k-a*m;b[2]=a*u-c*k;return b};h.lerp=function(b,d,m,a){var c=d[0],k=d[1];d=d[2];b[0]=c+a*(m[0]-c);b[1]=k+a*(m[1]-k);b[2]=d+a*(m[2]-d);return b};h.random=function(b,d){d=d||1;var a=2*g()*Math.PI,c=2*g()-1,i=Math.sqrt(1-c*c)*d;b[0]=Math.cos(a)*i;b[1]=Math.sin(a)*i;b[2]=c*d;return b};h.transformMat4=function(b,d,a){var c=d[0],i=d[1];d=d[2];var k=a[3]*c+a[7]*i+a[11]*d+a[15],k=k||1;b[0]=
(a[0]*c+a[4]*i+a[8]*d+a[12])/k;b[1]=(a[1]*c+a[5]*i+a[9]*d+a[13])/k;b[2]=(a[2]*c+a[6]*i+a[10]*d+a[14])/k;return b};h.transformMat3=function(b,d,a){var c=d[0],i=d[1];d=d[2];b[0]=c*a[0]+i*a[3]+d*a[6];b[1]=c*a[1]+i*a[4]+d*a[7];b[2]=c*a[2]+i*a[5]+d*a[8];return b};h.transformQuat=function(b,d,a){var c=d[0],i=d[1],k=d[2];d=a[0];var u=a[1],f=a[2];a=a[3];var e=a*c+u*k-f*i,g=a*i+f*c-d*k,q=a*k+d*i-u*c,c=-d*c-u*i-f*k;b[0]=e*a+c*-d+g*-f-q*-u;b[1]=g*a+c*-u+q*-d-e*-f;b[2]=q*a+c*-f+e*-u-g*-d;return b};h.rotateX=
function(b,d,a,c){var i=[],k=[];i[0]=d[0]-a[0];i[1]=d[1]-a[1];i[2]=d[2]-a[2];k[0]=i[0];k[1]=i[1]*Math.cos(c)-i[2]*Math.sin(c);k[2]=i[1]*Math.sin(c)+i[2]*Math.cos(c);b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};h.rotateY=function(b,d,a,c){var i=[],k=[];i[0]=d[0]-a[0];i[1]=d[1]-a[1];i[2]=d[2]-a[2];k[0]=i[2]*Math.sin(c)+i[0]*Math.cos(c);k[1]=i[1];k[2]=i[2]*Math.cos(c)-i[0]*Math.sin(c);b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};h.rotateZ=function(b,d,a,c){var i=[],k=[];i[0]=d[0]-
a[0];i[1]=d[1]-a[1];i[2]=d[2]-a[2];k[0]=i[0]*Math.cos(c)-i[1]*Math.sin(c);k[1]=i[0]*Math.sin(c)+i[1]*Math.cos(c);k[2]=i[2];b[0]=k[0]+a[0];b[1]=k[1]+a[1];b[2]=k[2]+a[2];return b};var s=h.create();h.forEach=function(b,d,a,c,i,k){d||(d=3);a||(a=0);for(c=c?Math.min(c*d+a,b.length):b.length;a<c;a+=d)s[0]=b[a],s[1]=b[a+1],s[2]=b[a+2],i(s,s,k),b[a]=s[0],b[a+1]=s[1],b[a+2]=s[2];return b};h.str=function(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"};"undefined"!==typeof a&&(a.vec3=h);var j={create:function(){var b=
new e(4);b[0]=0;b[1]=0;b[2]=0;b[3]=0;return b},clone:function(b){var d=new e(4);d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];return d},fromValues:function(b,d,a,c){var i=new e(4);i[0]=b;i[1]=d;i[2]=a;i[3]=c;return i},copy:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];return b},set:function(b,d,a,c,i){b[0]=d;b[1]=a;b[2]=c;b[3]=i;return b},add:function(b,d,a){b[0]=d[0]+a[0];b[1]=d[1]+a[1];b[2]=d[2]+a[2];b[3]=d[3]+a[3];return b},subtract:function(b,d,a){b[0]=d[0]-a[0];b[1]=d[1]-a[1];b[2]=d[2]-a[2];
b[3]=d[3]-a[3];return b}};j.sub=j.subtract;j.multiply=function(b,d,a){b[0]=d[0]*a[0];b[1]=d[1]*a[1];b[2]=d[2]*a[2];b[3]=d[3]*a[3];return b};j.mul=j.multiply;j.divide=function(b,d,a){b[0]=d[0]/a[0];b[1]=d[1]/a[1];b[2]=d[2]/a[2];b[3]=d[3]/a[3];return b};j.div=j.divide;j.min=function(b,d,a){b[0]=Math.min(d[0],a[0]);b[1]=Math.min(d[1],a[1]);b[2]=Math.min(d[2],a[2]);b[3]=Math.min(d[3],a[3]);return b};j.max=function(b,d,a){b[0]=Math.max(d[0],a[0]);b[1]=Math.max(d[1],a[1]);b[2]=Math.max(d[2],a[2]);b[3]=
Math.max(d[3],a[3]);return b};j.scale=function(b,d,a){b[0]=d[0]*a;b[1]=d[1]*a;b[2]=d[2]*a;b[3]=d[3]*a;return b};j.scaleAndAdd=function(b,d,a,c){b[0]=d[0]+a[0]*c;b[1]=d[1]+a[1]*c;b[2]=d[2]+a[2]*c;b[3]=d[3]+a[3]*c;return b};j.distance=function(b,d){var a=d[0]-b[0],c=d[1]-b[1],i=d[2]-b[2],k=d[3]-b[3];return Math.sqrt(a*a+c*c+i*i+k*k)};j.dist=j.distance;j.squaredDistance=function(b,d){var a=d[0]-b[0],c=d[1]-b[1],i=d[2]-b[2],k=d[3]-b[3];return a*a+c*c+i*i+k*k};j.sqrDist=j.squaredDistance;j.length=function(b){var d=
b[0],a=b[1],c=b[2];b=b[3];return Math.sqrt(d*d+a*a+c*c+b*b)};j.len=j.length;j.squaredLength=function(b){var d=b[0],a=b[1],c=b[2];b=b[3];return d*d+a*a+c*c+b*b};j.sqrLen=j.squaredLength;j.negate=function(b,d){b[0]=-d[0];b[1]=-d[1];b[2]=-d[2];b[3]=-d[3];return b};j.inverse=function(b,d){b[0]=1/d[0];b[1]=1/d[1];b[2]=1/d[2];b[3]=1/d[3];return b};j.normalize=function(b,d){var a=d[0],c=d[1],i=d[2],k=d[3],a=a*a+c*c+i*i+k*k;0<a&&(a=1/Math.sqrt(a),b[0]=d[0]*a,b[1]=d[1]*a,b[2]=d[2]*a,b[3]=d[3]*a);return b};
j.dot=function(b,d){return b[0]*d[0]+b[1]*d[1]+b[2]*d[2]+b[3]*d[3]};j.lerp=function(b,d,a,c){var i=d[0],k=d[1],u=d[2];d=d[3];b[0]=i+c*(a[0]-i);b[1]=k+c*(a[1]-k);b[2]=u+c*(a[2]-u);b[3]=d+c*(a[3]-d);return b};j.random=function(b,d){d=d||1;b[0]=g();b[1]=g();b[2]=g();b[3]=g();j.normalize(b,b);j.scale(b,b,d);return b};j.transformMat4=function(b,d,a){var c=d[0],i=d[1],k=d[2];d=d[3];b[0]=a[0]*c+a[4]*i+a[8]*k+a[12]*d;b[1]=a[1]*c+a[5]*i+a[9]*k+a[13]*d;b[2]=a[2]*c+a[6]*i+a[10]*k+a[14]*d;b[3]=a[3]*c+a[7]*i+
a[11]*k+a[15]*d;return b};j.transformQuat=function(b,d,a){var c=d[0],i=d[1],k=d[2];d=a[0];var u=a[1],f=a[2];a=a[3];var e=a*c+u*k-f*i,g=a*i+f*c-d*k,q=a*k+d*i-u*c,c=-d*c-u*i-f*k;b[0]=e*a+c*-d+g*-f-q*-u;b[1]=g*a+c*-u+q*-d-e*-f;b[2]=q*a+c*-f+e*-u-g*-d;return b};var x=j.create();j.forEach=function(b,d,a,c,i,k){d||(d=4);a||(a=0);for(c=c?Math.min(c*d+a,b.length):b.length;a<c;a+=d)x[0]=b[a],x[1]=b[a+1],x[2]=b[a+2],x[3]=b[a+3],i(x,x,k),b[a]=x[0],b[a+1]=x[1],b[a+2]=x[2],b[a+3]=x[3];return b};j.str=function(b){return"vec4("+
b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};"undefined"!==typeof a&&(a.vec4=j);f={create:function(){var b=new e(4);b[0]=1;b[1]=0;b[2]=0;b[3]=1;return b},clone:function(b){var d=new e(4);d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];return d},copy:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;return b},transpose:function(b,d){if(b===d){var a=d[1];b[1]=d[2];b[2]=a}else b[0]=d[0],b[1]=d[2],b[2]=d[1],b[3]=d[3];return b},invert:function(b,d){var a=
d[0],c=d[1],i=d[2],k=d[3],u=a*k-i*c;if(!u)return null;u=1/u;b[0]=k*u;b[1]=-c*u;b[2]=-i*u;b[3]=a*u;return b},adjoint:function(b,d){var a=d[0];b[0]=d[3];b[1]=-d[1];b[2]=-d[2];b[3]=a;return b},determinant:function(b){return b[0]*b[3]-b[2]*b[1]},multiply:function(b,d,a){var c=d[0],i=d[1],k=d[2];d=d[3];var u=a[0],f=a[1],e=a[2];a=a[3];b[0]=c*u+k*f;b[1]=i*u+d*f;b[2]=c*e+k*a;b[3]=i*e+d*a;return b}};f.mul=f.multiply;f.rotate=function(b,d,a){var c=d[0],i=d[1],k=d[2];d=d[3];var u=Math.sin(a);a=Math.cos(a);b[0]=
c*a+k*u;b[1]=i*a+d*u;b[2]=c*-u+k*a;b[3]=i*-u+d*a;return b};f.scale=function(b,d,a){var c=d[1],i=d[2],k=d[3],u=a[0];a=a[1];b[0]=d[0]*u;b[1]=c*u;b[2]=i*a;b[3]=k*a;return b};f.str=function(b){return"mat2("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2))};f.LDU=function(b,d,a,c){b[2]=c[2]/c[0];a[0]=c[0];a[1]=c[1];a[3]=c[3]-b[2]*a[1];return[b,d,a]};"undefined"!==typeof a&&(a.mat2=f);f={create:function(){var b=
new e(6);b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},clone:function(b){var d=new e(6);d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=b[5];return d},copy:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];b[4]=d[4];b[5]=d[5];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},invert:function(b,d){var a=d[0],c=d[1],i=d[2],k=d[3],u=d[4],f=d[5],e=a*k-c*i;if(!e)return null;e=1/e;b[0]=k*e;b[1]=-c*e;b[2]=-i*e;b[3]=a*e;b[4]=(i*f-k*u)*e;b[5]=(c*u-a*f)*e;return b},
determinant:function(b){return b[0]*b[3]-b[1]*b[2]},multiply:function(b,d,a){var c=d[0],i=d[1],k=d[2],u=d[3],f=d[4];d=d[5];var e=a[0],g=a[1],q=a[2],p=a[3],h=a[4];a=a[5];b[0]=c*e+k*g;b[1]=i*e+u*g;b[2]=c*q+k*p;b[3]=i*q+u*p;b[4]=c*h+k*a+f;b[5]=i*h+u*a+d;return b}};f.mul=f.multiply;f.rotate=function(b,d,a){var c=d[0],i=d[1],k=d[2],u=d[3],f=d[4];d=d[5];var e=Math.sin(a);a=Math.cos(a);b[0]=c*a+k*e;b[1]=i*a+u*e;b[2]=c*-e+k*a;b[3]=i*-e+u*a;b[4]=f;b[5]=d;return b};f.scale=function(b,d,a){var c=d[1],i=d[2],
k=d[3],u=d[4],e=d[5],f=a[0];a=a[1];b[0]=d[0]*f;b[1]=c*f;b[2]=i*a;b[3]=k*a;b[4]=u;b[5]=e;return b};f.translate=function(b,d,a){var c=d[0],i=d[1],k=d[2],e=d[3],f=d[4];d=d[5];var g=a[0];a=a[1];b[0]=c;b[1]=i;b[2]=k;b[3]=e;b[4]=c*g+k*a+f;b[5]=i*g+e*a+d;return b};f.str=function(b){return"mat2d("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+1)};"undefined"!==
typeof a&&(a.mat2d=f);f={create:function(){var b=new e(9);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromMat4:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[4];b[4]=d[5];b[5]=d[6];b[6]=d[8];b[7]=d[9];b[8]=d[10];return b},clone:function(b){var d=new e(9);d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=b[5];d[6]=b[6];d[7]=b[7];d[8]=b[8];return d},copy:function(b,d){b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];b[4]=d[4];b[5]=d[5];b[6]=d[6];b[7]=d[7];b[8]=d[8];return b},
identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},transpose:function(b,d){if(b===d){var a=d[1],c=d[2],i=d[5];b[1]=d[3];b[2]=d[6];b[3]=a;b[5]=d[7];b[6]=c;b[7]=i}else b[0]=d[0],b[1]=d[3],b[2]=d[6],b[3]=d[1],b[4]=d[4],b[5]=d[7],b[6]=d[2],b[7]=d[5],b[8]=d[8];return b},invert:function(b,d){var a=d[0],c=d[1],i=d[2],k=d[3],e=d[4],f=d[5],g=d[6],t=d[7],q=d[8],p=q*e-f*t,h=-q*k+f*g,L=t*k-e*g,j=a*p+c*h+i*L;if(!j)return null;j=1/j;b[0]=p*j;b[1]=(-q*c+i*t)*j;b[2]=(f*
c-i*e)*j;b[3]=h*j;b[4]=(q*a-i*g)*j;b[5]=(-f*a+i*k)*j;b[6]=L*j;b[7]=(-t*a+c*g)*j;b[8]=(e*a-c*k)*j;return b},adjoint:function(b,d){var a=d[0],c=d[1],i=d[2],k=d[3],e=d[4],f=d[5],g=d[6],t=d[7],q=d[8];b[0]=e*q-f*t;b[1]=i*t-c*q;b[2]=c*f-i*e;b[3]=f*g-k*q;b[4]=a*q-i*g;b[5]=i*k-a*f;b[6]=k*t-e*g;b[7]=c*g-a*t;b[8]=a*e-c*k;return b},determinant:function(b){var d=b[3],a=b[4],c=b[5],i=b[6],k=b[7],e=b[8];return b[0]*(e*a-c*k)+b[1]*(-e*d+c*i)+b[2]*(k*d-a*i)},multiply:function(b,d,a){var c=d[0],i=d[1],k=d[2],e=d[3],
f=d[4],g=d[5],t=d[6],q=d[7];d=d[8];var p=a[0],h=a[1],j=a[2],l=a[3],n=a[4],F=a[5],v=a[6],r=a[7];a=a[8];b[0]=p*c+h*e+j*t;b[1]=p*i+h*f+j*q;b[2]=p*k+h*g+j*d;b[3]=l*c+n*e+F*t;b[4]=l*i+n*f+F*q;b[5]=l*k+n*g+F*d;b[6]=v*c+r*e+a*t;b[7]=v*i+r*f+a*q;b[8]=v*k+r*g+a*d;return b}};f.mul=f.multiply;f.translate=function(b,d,a){var c=d[0],i=d[1],k=d[2],e=d[3],f=d[4],g=d[5],t=d[6],q=d[7];d=d[8];var p=a[0];a=a[1];b[0]=c;b[1]=i;b[2]=k;b[3]=e;b[4]=f;b[5]=g;b[6]=p*c+a*e+t;b[7]=p*i+a*f+q;b[8]=p*k+a*g+d;return b};f.rotate=
function(b,a,c){var e=a[0],i=a[1],k=a[2],f=a[3],g=a[4],h=a[5],t=a[6],q=a[7];a=a[8];var p=Math.sin(c);c=Math.cos(c);b[0]=c*e+p*f;b[1]=c*i+p*g;b[2]=c*k+p*h;b[3]=c*f-p*e;b[4]=c*g-p*i;b[5]=c*h-p*k;b[6]=t;b[7]=q;b[8]=a;return b};f.scale=function(b,a,c){var e=c[0];c=c[1];b[0]=e*a[0];b[1]=e*a[1];b[2]=e*a[2];b[3]=c*a[3];b[4]=c*a[4];b[5]=c*a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b};f.fromMat2d=function(b,a){b[0]=a[0];b[1]=a[1];b[2]=0;b[3]=a[2];b[4]=a[3];b[5]=0;b[6]=a[4];b[7]=a[5];b[8]=1;return b};f.fromQuat=
function(b,a){var c=a[0],e=a[1],i=a[2],k=a[3],f=c+c,g=e+e,h=i+i,c=c*f,t=e*f,e=e*g,q=i*f,p=i*g,i=i*h,f=k*f,g=k*g,k=k*h;b[0]=1-e-i;b[3]=t-k;b[6]=q+g;b[1]=t+k;b[4]=1-c-i;b[7]=p-f;b[2]=q-g;b[5]=p+f;b[8]=1-c-e;return b};f.normalFromMat4=function(b,a){var c=a[0],e=a[1],i=a[2],k=a[3],f=a[4],g=a[5],h=a[6],t=a[7],q=a[8],p=a[9],j=a[10],l=a[11],n=a[12],r=a[13],F=a[14],v=a[15],s=c*g-e*f,x=c*h-i*f,y=c*t-k*f,z=e*h-i*g,w=e*t-k*g,J=i*t-k*h,K=q*r-p*n,G=q*F-j*n,q=q*v-l*n,H=p*F-j*r,p=p*v-l*r,j=j*v-l*F,l=s*j-x*p+y*H+
z*q-w*G+J*K;if(!l)return null;l=1/l;b[0]=(g*j-h*p+t*H)*l;b[1]=(h*q-f*j-t*G)*l;b[2]=(f*p-g*q+t*K)*l;b[3]=(i*p-e*j-k*H)*l;b[4]=(c*j-i*q+k*G)*l;b[5]=(e*q-c*p-k*K)*l;b[6]=(r*J-F*w+v*z)*l;b[7]=(F*y-n*J-v*x)*l;b[8]=(n*w-r*y+v*s)*l;return b};f.str=function(b){return"mat3("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+")"};f.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+Math.pow(b[6],
2)+Math.pow(b[7],2)+Math.pow(b[8],2))};"undefined"!==typeof a&&(a.mat3=f);var w={create:function(){var b=new e(16);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},clone:function(b){var a=new e(16);a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},copy:function(b,a){b[0]=a[0];b[1]=a[1];b[2]=
a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},transpose:function(b,a){if(b===a){var c=a[1],e=a[2],i=a[3],k=a[6],f=a[7],g=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=e;b[9]=k;b[11]=a[14];b[12]=i;b[13]=f;b[14]=g}else b[0]=
a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b},invert:function(b,a){var c=a[0],e=a[1],i=a[2],k=a[3],f=a[4],g=a[5],h=a[6],t=a[7],q=a[8],p=a[9],j=a[10],l=a[11],n=a[12],r=a[13],F=a[14],v=a[15],s=c*g-e*f,x=c*h-i*f,y=c*t-k*f,z=e*h-i*g,w=e*t-k*g,J=i*t-k*h,K=q*r-p*n,G=q*F-j*n,H=q*v-l*n,A=p*F-j*r,I=p*v-l*r,D=j*v-l*F,E=s*D-x*I+y*A+z*H-w*G+J*K;if(!E)return null;E=1/E;b[0]=(g*D-h*
I+t*A)*E;b[1]=(i*I-e*D-k*A)*E;b[2]=(r*J-F*w+v*z)*E;b[3]=(j*w-p*J-l*z)*E;b[4]=(h*H-f*D-t*G)*E;b[5]=(c*D-i*H+k*G)*E;b[6]=(F*y-n*J-v*x)*E;b[7]=(q*J-j*y+l*x)*E;b[8]=(f*I-g*H+t*K)*E;b[9]=(e*H-c*I-k*K)*E;b[10]=(n*w-r*y+v*s)*E;b[11]=(p*y-q*w-l*s)*E;b[12]=(g*G-f*A-h*K)*E;b[13]=(c*A-e*G+i*K)*E;b[14]=(r*x-n*z-F*s)*E;b[15]=(q*z-p*x+j*s)*E;return b},adjoint:function(b,a){var c=a[0],e=a[1],i=a[2],k=a[3],f=a[4],g=a[5],h=a[6],t=a[7],q=a[8],p=a[9],j=a[10],l=a[11],n=a[12],r=a[13],s=a[14],v=a[15];b[0]=g*(j*v-l*s)-
p*(h*v-t*s)+r*(h*l-t*j);b[1]=-(e*(j*v-l*s)-p*(i*v-k*s)+r*(i*l-k*j));b[2]=e*(h*v-t*s)-g*(i*v-k*s)+r*(i*t-k*h);b[3]=-(e*(h*l-t*j)-g*(i*l-k*j)+p*(i*t-k*h));b[4]=-(f*(j*v-l*s)-q*(h*v-t*s)+n*(h*l-t*j));b[5]=c*(j*v-l*s)-q*(i*v-k*s)+n*(i*l-k*j);b[6]=-(c*(h*v-t*s)-f*(i*v-k*s)+n*(i*t-k*h));b[7]=c*(h*l-t*j)-f*(i*l-k*j)+q*(i*t-k*h);b[8]=f*(p*v-l*r)-q*(g*v-t*r)+n*(g*l-t*p);b[9]=-(c*(p*v-l*r)-q*(e*v-k*r)+n*(e*l-k*p));b[10]=c*(g*v-t*r)-f*(e*v-k*r)+n*(e*t-k*g);b[11]=-(c*(g*l-t*p)-f*(e*l-k*p)+q*(e*t-k*g));b[12]=
-(f*(p*s-j*r)-q*(g*s-h*r)+n*(g*j-h*p));b[13]=c*(p*s-j*r)-q*(e*s-i*r)+n*(e*j-i*p);b[14]=-(c*(g*s-h*r)-f*(e*s-i*r)+n*(e*h-i*g));b[15]=c*(g*j-h*p)-f*(e*j-i*p)+q*(e*h-i*g);return b},determinant:function(b){var a=b[0],c=b[1],e=b[2],i=b[3],k=b[4],f=b[5],g=b[6],h=b[7],j=b[8],l=b[9],p=b[10],n=b[11],r=b[12],s=b[13],x=b[14];b=b[15];return(a*f-c*k)*(p*b-n*x)-(a*g-e*k)*(l*b-n*s)+(a*h-i*k)*(l*x-p*s)+(c*g-e*f)*(j*b-n*r)-(c*h-i*f)*(j*x-p*r)+(e*h-i*g)*(j*s-l*r)},multiply:function(b,a,c){var e=a[0],i=a[1],f=a[2],
g=a[3],h=a[4],j=a[5],l=a[6],q=a[7],p=a[8],n=a[9],r=a[10],s=a[11],x=a[12],w=a[13],v=a[14];a=a[15];var B=c[0],C=c[1],y=c[2],z=c[3];b[0]=B*e+C*h+y*p+z*x;b[1]=B*i+C*j+y*n+z*w;b[2]=B*f+C*l+y*r+z*v;b[3]=B*g+C*q+y*s+z*a;B=c[4];C=c[5];y=c[6];z=c[7];b[4]=B*e+C*h+y*p+z*x;b[5]=B*i+C*j+y*n+z*w;b[6]=B*f+C*l+y*r+z*v;b[7]=B*g+C*q+y*s+z*a;B=c[8];C=c[9];y=c[10];z=c[11];b[8]=B*e+C*h+y*p+z*x;b[9]=B*i+C*j+y*n+z*w;b[10]=B*f+C*l+y*r+z*v;b[11]=B*g+C*q+y*s+z*a;B=c[12];C=c[13];y=c[14];z=c[15];b[12]=B*e+C*h+y*p+z*x;b[13]=
B*i+C*j+y*n+z*w;b[14]=B*f+C*l+y*r+z*v;b[15]=B*g+C*q+y*s+z*a;return b}};w.mul=w.multiply;w.translate=function(b,a,c){var e=c[0],i=c[1];c=c[2];var f,g,h,j,l,q,p,n,r,s,x,w;a===b?(b[12]=a[0]*e+a[4]*i+a[8]*c+a[12],b[13]=a[1]*e+a[5]*i+a[9]*c+a[13],b[14]=a[2]*e+a[6]*i+a[10]*c+a[14],b[15]=a[3]*e+a[7]*i+a[11]*c+a[15]):(f=a[0],g=a[1],h=a[2],j=a[3],l=a[4],q=a[5],p=a[6],n=a[7],r=a[8],s=a[9],x=a[10],w=a[11],b[0]=f,b[1]=g,b[2]=h,b[3]=j,b[4]=l,b[5]=q,b[6]=p,b[7]=n,b[8]=r,b[9]=s,b[10]=x,b[11]=w,b[12]=f*e+l*i+r*c+
a[12],b[13]=g*e+q*i+s*c+a[13],b[14]=h*e+p*i+x*c+a[14],b[15]=j*e+n*i+w*c+a[15]);return b};w.scale=function(b,a,c){var e=c[0],i=c[1];c=c[2];b[0]=a[0]*e;b[1]=a[1]*e;b[2]=a[2]*e;b[3]=a[3]*e;b[4]=a[4]*i;b[5]=a[5]*i;b[6]=a[6]*i;b[7]=a[7]*i;b[8]=a[8]*c;b[9]=a[9]*c;b[10]=a[10]*c;b[11]=a[11]*c;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};w.rotate=function(b,a,m,e){var i=e[0],f=e[1];e=e[2];var g=Math.sqrt(i*i+f*f+e*e),h,j,l,q,p,n,r,s,x,w,v,B,C,y,z,A,I,D,G,H;if(Math.abs(g)<c)return null;g=1/g;i*=
g;f*=g;e*=g;h=Math.sin(m);j=Math.cos(m);l=1-j;m=a[0];g=a[1];q=a[2];p=a[3];n=a[4];r=a[5];s=a[6];x=a[7];w=a[8];v=a[9];B=a[10];C=a[11];y=i*i*l+j;z=f*i*l+e*h;A=e*i*l-f*h;I=i*f*l-e*h;D=f*f*l+j;G=e*f*l+i*h;H=i*e*l+f*h;i=f*e*l-i*h;f=e*e*l+j;b[0]=m*y+n*z+w*A;b[1]=g*y+r*z+v*A;b[2]=q*y+s*z+B*A;b[3]=p*y+x*z+C*A;b[4]=m*I+n*D+w*G;b[5]=g*I+r*D+v*G;b[6]=q*I+s*D+B*G;b[7]=p*I+x*D+C*G;b[8]=m*H+n*i+w*f;b[9]=g*H+r*i+v*f;b[10]=q*H+s*i+B*f;b[11]=p*H+x*i+C*f;a!==b&&(b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b};
w.rotateX=function(b,a,c){var e=Math.sin(c);c=Math.cos(c);var i=a[4],f=a[5],g=a[6],h=a[7],j=a[8],l=a[9],n=a[10],p=a[11];a!==b&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);b[4]=i*c+j*e;b[5]=f*c+l*e;b[6]=g*c+n*e;b[7]=h*c+p*e;b[8]=j*c-i*e;b[9]=l*c-f*e;b[10]=n*c-g*e;b[11]=p*c-h*e;return b};w.rotateY=function(b,a,c){var e=Math.sin(c);c=Math.cos(c);var f=a[0],g=a[1],h=a[2],j=a[3],l=a[8],n=a[9],q=a[10],p=a[11];a!==b&&(b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],
b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);b[0]=f*c-l*e;b[1]=g*c-n*e;b[2]=h*c-q*e;b[3]=j*c-p*e;b[8]=f*e+l*c;b[9]=g*e+n*c;b[10]=h*e+q*c;b[11]=j*e+p*c;return b};w.rotateZ=function(b,a,c){var e=Math.sin(c);c=Math.cos(c);var f=a[0],g=a[1],h=a[2],j=a[3],l=a[4],n=a[5],q=a[6],p=a[7];a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);b[0]=f*c+l*e;b[1]=g*c+n*e;b[2]=h*c+q*e;b[3]=j*c+p*e;b[4]=l*c-f*e;b[5]=n*c-g*e;b[6]=q*c-h*e;b[7]=p*c-j*e;return b};w.fromRotationTranslation=
function(b,a,c){var e=a[0],f=a[1],g=a[2],h=a[3],j=e+e,l=f+f,n=g+g;a=e*j;var q=e*l,e=e*n,p=f*l,f=f*n,g=g*n,j=h*j,l=h*l,h=h*n;b[0]=1-(p+g);b[1]=q+h;b[2]=e-l;b[3]=0;b[4]=q-h;b[5]=1-(a+g);b[6]=f+j;b[7]=0;b[8]=e+l;b[9]=f-j;b[10]=1-(a+p);b[11]=0;b[12]=c[0];b[13]=c[1];b[14]=c[2];b[15]=1;return b};w.fromQuat=function(b,a){var c=a[0],e=a[1],f=a[2],g=a[3],h=c+c,j=e+e,l=f+f,c=c*h,n=e*h,e=e*j,q=f*h,p=f*j,f=f*l,h=g*h,j=g*j,g=g*l;b[0]=1-e-f;b[1]=n+g;b[2]=q-j;b[3]=0;b[4]=n-g;b[5]=1-c-f;b[6]=p+h;b[7]=0;b[8]=q+j;
b[9]=p-h;b[10]=1-c-e;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};w.frustum=function(b,a,c,e,f,g,h){var j=1/(c-a),l=1/(f-e),n=1/(g-h);b[0]=2*g*j;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2*g*l;b[6]=0;b[7]=0;b[8]=(c+a)*j;b[9]=(f+e)*l;b[10]=(h+g)*n;b[11]=-1;b[12]=0;b[13]=0;b[14]=2*(h*g)*n;b[15]=0;return b};w.perspective=function(b,a,c,e,f){a=1/Math.tan(a/2);var g=1/(e-f);b[0]=a/c;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=(f+e)*g;b[11]=-1;b[12]=0;b[13]=0;b[14]=2*f*e*g;b[15]=0;
return b};w.ortho=function(b,a,c,e,f,g,h){var j=1/(a-c),l=1/(e-f),n=1/(g-h);b[0]=-2*j;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=-2*l;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=2*n;b[11]=0;b[12]=(a+c)*j;b[13]=(f+e)*l;b[14]=(h+g)*n;b[15]=1;return b};w.lookAt=function(b,a,e,f){var g,k,h,j,l,n,q,p,r=a[0],s=a[1];a=a[2];h=f[0];j=f[1];k=f[2];q=e[0];f=e[1];g=e[2];if(Math.abs(r-q)<c&&Math.abs(s-f)<c&&Math.abs(a-g)<c)return w.identity(b);e=r-q;f=s-f;q=a-g;p=1/Math.sqrt(e*e+f*f+q*q);e*=p;f*=p;q*=p;g=j*q-k*f;k=k*e-h*q;h=h*f-j*
e;(p=Math.sqrt(g*g+k*k+h*h))?(p=1/p,g*=p,k*=p,h*=p):h=k=g=0;j=f*h-q*k;l=q*g-e*h;n=e*k-f*g;(p=Math.sqrt(j*j+l*l+n*n))?(p=1/p,j*=p,l*=p,n*=p):n=l=j=0;b[0]=g;b[1]=j;b[2]=e;b[3]=0;b[4]=k;b[5]=l;b[6]=f;b[7]=0;b[8]=h;b[9]=n;b[10]=q;b[11]=0;b[12]=-(g*r+k*s+h*a);b[13]=-(j*r+l*s+n*a);b[14]=-(e*r+f*s+q*a);b[15]=1;return b};w.str=function(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+
b[15]+")"};w.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+Math.pow(b[6],2)+Math.pow(b[7],2)+Math.pow(b[8],2)+Math.pow(b[9],2)+Math.pow(b[10],2)+Math.pow(b[11],2)+Math.pow(b[12],2)+Math.pow(b[13],2)+Math.pow(b[14],2)+Math.pow(b[15],2))};"undefined"!==typeof a&&(a.mat4=w);var r={create:function(){var b=new e(4);b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b}},A=h.create(),I=h.fromValues(1,0,0),M=h.fromValues(0,1,0);r.rotationTo=
function(b,a,c){var e=h.dot(a,c);if(-0.999999>e)return h.cross(A,I,a),1E-6>h.length(A)&&h.cross(A,M,a),h.normalize(A,A),r.setAxisAngle(b,A,Math.PI),b;if(0.999999<e)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;h.cross(A,a,c);b[0]=A[0];b[1]=A[1];b[2]=A[2];b[3]=1+e;return r.normalize(b,b)};var D=f.create();r.setAxes=function(b,a,c,e){D[0]=c[0];D[3]=c[1];D[6]=c[2];D[1]=e[0];D[4]=e[1];D[7]=e[2];D[2]=-a[0];D[5]=-a[1];D[8]=-a[2];return r.normalize(b,r.fromMat3(b,D))};r.clone=j.clone;r.fromValues=j.fromValues;r.copy=
j.copy;r.set=j.set;r.identity=function(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b};r.setAxisAngle=function(b,a,c){c*=0.5;var e=Math.sin(c);b[0]=e*a[0];b[1]=e*a[1];b[2]=e*a[2];b[3]=Math.cos(c);return b};r.add=j.add;r.multiply=function(a,c,e){var f=c[0],g=c[1],h=c[2];c=c[3];var j=e[0],l=e[1],n=e[2];e=e[3];a[0]=f*e+c*j+g*n-h*l;a[1]=g*e+c*l+h*j-f*n;a[2]=h*e+c*n+f*l-g*j;a[3]=c*e-f*j-g*l-h*n;return a};r.mul=r.multiply;r.scale=j.scale;r.rotateX=function(a,c,e){e*=0.5;var f=c[0],g=c[1],h=c[2];c=c[3];var j=Math.sin(e);
e=Math.cos(e);a[0]=f*e+c*j;a[1]=g*e+h*j;a[2]=h*e-g*j;a[3]=c*e-f*j;return a};r.rotateY=function(a,c,e){e*=0.5;var f=c[0],g=c[1],h=c[2];c=c[3];var j=Math.sin(e);e=Math.cos(e);a[0]=f*e-h*j;a[1]=g*e+c*j;a[2]=h*e+f*j;a[3]=c*e-g*j;return a};r.rotateZ=function(a,c,e){e*=0.5;var f=c[0],g=c[1],h=c[2];c=c[3];var j=Math.sin(e);e=Math.cos(e);a[0]=f*e+g*j;a[1]=g*e-f*j;a[2]=h*e+c*j;a[3]=c*e-h*j;return a};r.calculateW=function(a,c){var e=c[0],f=c[1],g=c[2];a[0]=e;a[1]=f;a[2]=g;a[3]=Math.sqrt(Math.abs(1-e*e-f*f-
g*g));return a};r.dot=j.dot;r.lerp=j.lerp;r.slerp=function(a,c,e,f){var g=c[0],h=c[1],j=c[2];c=c[3];var l=e[0],n=e[1],r=e[2];e=e[3];var q,p,s;p=g*l+h*n+j*r+c*e;0>p&&(p=-p,l=-l,n=-n,r=-r,e=-e);1E-6<1-p?(q=Math.acos(p),s=Math.sin(q),p=Math.sin((1-f)*q)/s,f=Math.sin(f*q)/s):p=1-f;a[0]=p*g+f*l;a[1]=p*h+f*n;a[2]=p*j+f*r;a[3]=p*c+f*e;return a};r.invert=function(a,c){var e=c[0],f=c[1],g=c[2],h=c[3],j=e*e+f*f+g*g+h*h,j=j?1/j:0;a[0]=-e*j;a[1]=-f*j;a[2]=-g*j;a[3]=h*j;return a};r.conjugate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};r.length=j.length;r.len=r.length;r.squaredLength=j.squaredLength;r.sqrLen=r.squaredLength;r.normalize=j.normalize;r.fromMat3=function(a,c){var e=c[0]+c[4]+c[8];if(0<e)e=Math.sqrt(e+1),a[3]=0.5*e,e=0.5/e,a[0]=(c[5]-c[7])*e,a[1]=(c[6]-c[2])*e,a[2]=(c[1]-c[3])*e;else{var f=0;c[4]>c[0]&&(f=1);c[8]>c[3*f+f]&&(f=2);var g=(f+1)%3,h=(f+2)%3,e=Math.sqrt(c[3*f+f]-c[3*g+g]-c[3*h+h]+1);a[f]=0.5*e;e=0.5/e;a[3]=(c[3*g+h]-c[3*h+g])*e;a[g]=(c[3*g+f]+c[3*f+g])*e;a[h]=
(c[3*h+f]+c[3*f+h])*e}return a};r.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof a&&(a.quat=r)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e$$11){}glm=null;GLMJS_PREFIX="glm-js: ";
var GLMJSError=function(a,c){function e(e){this.name=a;Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=e;c&&c.apply(this,arguments)}e.prototype=Error();e.prototype.name=a;return e.prototype.constructor=e}("GLMJSError");
$GLM_extern=function(a,c){c=c||a;return function(){GLM[c]=GLM.$outer.functions[a]||GLM.$outer[a];if(!GLM[c])throw new GLMJSError("$GLM_extern: unresolved external symbol: "+a);GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+a+" "+typeof GLM[c]);return GLM[c].apply(this,arguments)}};
$GLM_reset_logging=function(a){if(a||"undefined"===typeof $GLM_log)$GLM_log=function(a,c){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(a){return GLM.$isGLMObject(a)||!isNaN(a)?GLM.to_string(a):a+""}))};if(a||"undefined"===typeof $GLM_console_log)$GLM_console_log=function(a,c){(console[a]||function(){}).apply(console,[].slice.call(arguments,1))};if(a||"undefined"===typeof $GLM_console_logger)$GLM_console_logger=function(a){return $GLM_console_log.bind($GLM_console_log,
a)};var c=$GLM_console_logger,e={};"debug,warn,info,error,log,write".replace(/\w+/g,function(a){e[a]=c(a)});"object"===typeof GLM&&GLM.$outer&&(GLM.$outer.console=e);return e};
GLM={$DEBUG:"undefined"!==typeof $GLM_DEBUG&&$GLM_DEBUG,version:"0.0.2",GLM_VERSION:95,$outer:{functions:{},intern:function(a,c){if(void 0===c&&"object"===typeof a)for(var e in a)GLM.$outer.intern(e,a[e]);else return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+a,c&&(c.name||typeof c)),GLM.$outer[a]=c},$import:function(a){GLM.$outer.intern(a.statics);GLM.$template.extend(GLM,GLM.$template.functions(a.functions),GLM.$template.operations(a.operations),GLM.$template.calculators(a.calculators));GLM.$init(a)},
console:$GLM_reset_logging(),quat_array_from_xyz:function(a){var c=glm.quat();c["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));c["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));c["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));return c.elements},quat_array_from_zyx:function(a){var c=glm.quat();c["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));c["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));c["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));return c.elements},_vec3_eulerAngles:function(a){var c=this.mat4_array_from_quat(a);a=c[0];
var e=c[4],g=c[1],f=c[5],l=c[2],n=c[6],c=c[10],h=new glm.vec3;h.y=Math.asin(-glm._clamp(l,-1,1));0.99999>Math.abs(l)?(h.x=Math.atan2(n,c),h.z=Math.atan2(g,a)):(h.x=0,h.z=Math.atan2(-e,f));return h}},$extern:$GLM_extern,$log:$GLM_log,GLMJSError:GLMJSError,_radians:function(a){return a*Math.PI/180},_degrees:function(a){return 180*a/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),
mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),angleAxis:$GLM_extern("angleAxis"),rotate:$GLM_extern("rotate"),scale:$GLM_extern("scale"),translate:$GLM_extern("translate"),perspective:function(a,c,e,g){return GLM.$outer.mat4_perspective(a,c,e,g)},eulerAngles:function(a){return GLM.$outer.vec3_eulerAngles(a)},angle:function(a){return 2*Math.acos(a.w)},axis:function(a){var c=1-a.w*a.w;if(0>=c)return glm.vec3(0,0,1);c=1/Math.sqrt(c);return glm.vec3(a.x*c,a.y*c,a.z*c)},make_vec2:function(a){return new GLM.vec2([].slice.call(a,
0,2))},make_vec3:function(a){return new GLM.vec3([].slice.call(a,0,3))},make_vec4:function(a){return new GLM.vec4([].slice.call(a,0,4))},make_quat:function(a){return new GLM.quat([].slice.call(a,0,4))},make_mat3:function(a){return new GLM.mat3([].slice.call(a,0,9))},make_mat4:function(a){return new GLM.mat4([].slice.call(a,0,16))},diagonal4x4:function(a){if("vec4"!==a.$type)throw new GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+type.o]);a=a.elements;return new GLM.mat4([a[0],0,0,
0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]])},toMat4:function(a){return new GLM.mat4(a)},FAITHFUL:!0,to_string:function(a,c){try{var e=a.$type||typeof a;if(!GLM[e])throw new GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+e,a]);return GLM.FAITHFUL?GLM.$to_string(a,c).replace(/[\t\n]/g,""):GLM.$to_string(a,c)}catch(g){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",e,a+"",g),g+""}},$sizeof:function(a){return a.BYTES_PER_ELEMENT},$types:[],$isGLMConstructor:function(a){return!!(a&&
a.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(a){return a instanceof GLM.$GLMBaseType&&a.constructor||"string"===typeof a&&GLM[a]},$isGLMObject:function(a){return a instanceof GLM.$GLMBaseType&&a.$type},$to_array:function(a){return[].slice.call(a.elements)},$to_json:function(a,c,e){this instanceof GLM.$GLMBaseType&&(e=c,c=a,a=this);return JSON.stringify(GLM.$to_object(a),c,e)},$inspect:function(a){this instanceof GLM.$GLMBaseType&&(a=this);return GLM.$to_json(a,null,2)},_clamp:function(a,
c,e){return a<c?c:a>e?e:a},max:function(a,c){return Math.max(a,c)},min:function(a,c){return Math.min(a,c)},_sign:function(a){return 0<a?1:0>a?-1:+a},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toFixedString:function(a,c,e,g){g=void 0===g?GLM.FIXEDPRECISION:g;if(!e||!e.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof e+")");try{var f="";e.map(function(a){a=c[f=a];if(!a.toFixed)throw Error("!toFixed in w");return a.toFixed(0)})}catch(l){throw GLM.$DEBUG&&GLM.$outer.console.error("$toFixedString error",
a,typeof c,Object.prototype.toString.call(c),f),GLM.$DEBUG&&glm.$log("$toFixedString error",a,typeof c,Object.prototype.toString.call(c),f),new GLMJSError(l);}e=e.map(function(a){return c[a].toFixed(g)});return a+"("+e.join(", ")+")"}};GLM.sign=Math.sign||GLM._sign;
GLM.$GLMBaseType=function(){function a(a,e){var g=a.$||{};this.$type=e;this.$type_name=g.name||"<"+e+">";g.components&&(this.$components=g.components[0]);this.$len=this.components=a.componentLength;this.constructor=a;this.byteLength=a.BYTES_PER_ELEMENT;this.repr=function(){return"function $GLMBaseType<"+e+">(){ [ GLMType@"+GLM.$template.$_module_stamp+" ] }"};GLM.$outer.console.debug("CREATED $class: "+this.repr());GLM.$types.push(e)}a.prototype={clone:function(){return new this.constructor(this)},
toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)}};Object.defineProperty(a.prototype,"address",{get:function(){var a=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-a.length)+a}});return a}();
var GLM_template=GLM.$template={_genArgError:function(a,c,e,g){~g.indexOf(void 0)&&(g=g.slice(0,g.indexOf(void 0)));var f=RegExp.prototype.test.bind(/^[^$_]/);return new GLMJSError("unsupported argtype to "+c+""+a.$sig+": [typ="+e+"] :: got arg types: "+g.map(GLM_template.jstypes.get)+" // supported types: "+Object.keys(a).filter(f).join("||"))},jstypes:{get:function(a){return null===a?"null":void 0===a?"undefined":a.$type||GLM_template.jstypes[typeof a]||GLM_template.jstypes[a+""]||"<unknown "+[typeof a,
a]+">"},"0":"float",number:"float",string:"string","[object Float32Array]":"Float32Array"},"<T>":function(a,c){var e=GLM_template.jstypes;a.$sig="<T>";return this.slingshot({$template:a},eval(this._traceable("glm_"+c,function(g){this instanceof GLM.$GLMBaseType&&(g=this);var f=[g&&g.$type||e[typeof g]||"null"];if(!a[f])throw GLM_template._genArgError(a,c,f,[g]);return a[f](g)}))())},"<T,...>":function(a,c){var e=GLM_template.jstypes;a.$sig="<T,...>";return this.slingshot({$template:a},eval(this._traceable("glm_"+
c,function(g){var f=[].slice.call(arguments);this instanceof GLM.$GLMBaseType&&f.unshift(g=this);var l=[g&&g.$type||e[typeof g]||"null"];if(!a[l])throw GLM_template._genArgError(a,c,l,f);return a[l].apply(a,f)}))())},"<T,V,n>":function(a,c){var e=GLM_template.jstypes;a.$sig="<T,V,n>";return this.slingshot({$template:a},eval(this._traceable("glm_"+c,function(g,f,l){this instanceof GLM.$GLMBaseType&&(l=f,f=g,g=this);var n=[g&&g.$type||e[typeof g]||e[g+""]||"<unknown "+g+">",f&&f.$type||e[typeof f]||
e[f+""]||"<unknown "+f+">"];if(!a[n])throw GLM_template._genArgError(a,c,n,[g,f,l]);if("number"!==typeof l)throw new GLMJSError(c+a.$sig+": unsupported n type: "+[typeof l,l]);return a[n](g,f,l)}))())},"<T,V>":function(a,c){var e=GLM_template.jstypes;a.$sig="<T,V>";return this.slingshot({$template:a},eval(this._traceable("glm_"+c,function(g,f,l,n,h){this instanceof GLM.$GLMBaseType&&(h=n,n=l,l=f,f=g,g=this);var s=[g&&g.$type||e[typeof g],f&&f.$type||e[typeof f]||e[f+""]||Array.isArray(f)&&"array"+
f.length+""||""+f+""];if(!a[s])throw GLM_template._genArgError(a,c,s,[g,f,l,n,h]);return a[s](g,f,l,n,h)}))())},override:function(a,c,e,g){GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",a,c,e.$op?'$op: ["'+e.$op+'"]':"");if(!g)throw Error("unspecified target group "+g+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var f=g[c];if(f&&f.$op!==e.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+[f.$op,"!=",e.$op].join(" ")+'"  p='+[c,f.$op,e.$op,
"||"+Object.keys(f.$template).join("||")]);var l=GLM_template[a](GLM_template.deNify(e,c),c);l.$op=e.$op;if(f){var n=[],h;for(h in l.$template)h in f.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+h+" overlayed"),f.$template[h]=l.$template[h]);Object.keys(f.$template).forEach(function(a){a in l.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+a+" carried-forward"),n.push(a))});GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+
c+" ... "+Object.keys(g[c].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return!~n.indexOf(a)?"*"+a+"*":a}).join(" | "))}else g[c]=l,GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+c+" ... "+Object.keys(g[c].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return"*"+a+"*"}).join(" | "));return g},_override:function(a,c,e){for(var g in c)this.override(a,g,c[g],e);return e},slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},
extend:function(a,c){[].slice.call(arguments,1).forEach(function(c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g])});return a},operations:function(a){return this._override("<T,V>",a,GLM.$outer.functions)},calculators:function(a){return this._override("<T>",a,GLM.$outer.functions)},varargs_functions:function(a){return this._override("<T,...>",a,GLM.$outer.functions)},functions:function(a){return this._override("<T,V,n>",a,GLM.$outer.functions)},_tojsname:function(a){return(a||"_").replace(/[^$a-zA-Z0-9_]/g,
"_")},_traceable:function(a,c){if("function"!==typeof c)throw new GLMJSError("_traceable expects tidy function as first arg "+c);if(!a)throw new GLMJSError("_traceable expects hint or what's the point"+[c,a]);a=this._tojsname(a||"_traceable");c+="";if(2===c.split(/^\s*function\b/).length)c=(function(){SRC;return HINT}+"").replace("HINT",a).replace("SRC",c.replace(/^function\s*\(/,"function "+a+"("));else throw new GLMJSError("expected singular anonymous function: "+[c,a]);return"1,"+c},deNify:function(a,
c){var e={vec:[2,3,4],mat:[3,4]},g=this._tojsname.bind(this),f;for(f in a){var l=!1;f.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,function(n,h){l=!0;var s=a[f];delete a[f];e[h.toLowerCase()].forEach(function(e){var h=f.replace(/<N[*]N>/g,e*e).replace(/<N>/g,e);if(!(h in a)){var l=g("glm_"+c+"_"+h);a[h]=(new Function("","return "+(s+"").replace(/^function\s*\(/,"function "+l+"(").replace(/N[*]N/g,e*e).replace(/N/g,e)))()}})}.bind(this));!l&&("function"===typeof a[f]&&!a[f].name)&&(GLM.$DEBUG&&GLM.$outer.console.debug("naming "+
g(c+"_"+f)),a[f]=eval(this._traceable("glm_"+c+"_"+f,a[f]))())}return a},$_module_stamp:+new Date,GLMType:function(a,c){var e=c.identity.length;Object.keys(c).filter(function(a){return"function"===typeof c[a]&&!c[a].name}).map(function(e){var g=a+"_"+e;GLM.$DEBUG&&GLM.$outer.console.debug("naming $."+e+" == "+g,this._traceable(g,c[e]));c[e]=eval(this._traceable("glm_"+g,c[e]))()}.bind(this));var g=eval(this._traceable("glm_"+a+"$class",function(f){var l=typeof f+arguments.length,n=c[l];if(!n)throw new GLMJSError("no template found for "+
a+".$."+l);if(this instanceof g){if(f instanceof Float32Array){if(f.length>e)throw glm.$outer.console.error(a+" elements size mismatch: "+["wanted:"+e,"handed:"+f.length]),l=f.subarray(0,e),Error(a+" elements size mismatch: "+["wanted:"+e,"handed:"+f.length,,"correctable?:"+l.length]);elements=f}else(elements=new Float32Array(e)).set(n.apply(c,arguments));Object.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:elements})}else return new g(n.apply(c,arguments))}))();c.components=
c.components?c.components.map(function(a){return"string"===typeof a?a.split(""):a}):[];g.$=c;g.componentLength=e;g.BYTES_PER_ELEMENT=e*Float32Array.BYTES_PER_ELEMENT;g.prototype=new GLM.$GLMBaseType(g,a);return g}};
GLM.$template.functions({mix:{"float,float":function(a,c,e){return c*e+a*(1-e)},"vec<N>,vec<N>":function(a,c,e){if(void 0===e)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");a=glm.$to_array(a);c=glm.$to_array(c);var g=1-e;return new glm.vecN(a.map(function(a,l){return c[l]*e+a*g}))}},clamp:{"float,float":function(a,c,e){return GLM._clamp(a,c,e)},"vec<N>,float":function(a,c,e){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._clamp(a,c,e)}))}}});
GLM.$template.extend(GLM,GLM.$template.calculators({degrees:{"float":function(a){return GLM._degrees(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._degrees))}},radians:{"float":function(a){return GLM._radians(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._radians))}},$to_object:{vec2:function(a){return{x:a.x,y:a.y}},vec3:function(a){return{x:a.x,y:a.y,z:a.z}},vec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},uvec4:function(a){return{x:a.x,y:a.y,z:a.z,
w:a.w}},quat:function(a){return{w:a.w,x:a.x,y:a.y,z:a.z}},mat3:function(a){return{"0":this.vec3(a[0]),1:this.vec3(a[1]),2:this.vec3(a[2])}},mat4:function(a){return{"0":this.vec4(a[0]),1:this.vec4(a[1]),2:this.vec4(a[2]),3:this.vec4(a[3])}}},$to_glsl:{"vec<N>":function(a){for(var c=GLM.$to_array(a);c.length&&c[c.length-2]===c[c.length-1];)c.pop();return a.$type+"("+c+")"},uvec4:function(a){return this.vec4(a)},quat:function(a){return 0===a.x+a.y+a.z?"quat("+a.w+")":"quat("+GLM.$to_array(a)+")"},"mat<N>":function(a){a=
GLM.$to_array(a);return a.reduce(function(a,e){return a+e},0)===a[0]*N?"matN("+a[0]+")":"matN("+a+")"}},$from_glsl:{string:function(a){var c;a.replace(/^(\w+)\(([-.0-9ef, ]+)\)$/,function(a,g,f){c=glm[g].apply(glm,f.split(",").map(parseFloat))});return c}}}));
GLM.$template.operations({rotate:{"float,vec3":function(a,c){return GLM.$outer.mat4_angleAxis(a,c)},"mat4,float":function(a,c,e){return a.mul(GLM.$outer.mat4_angleAxis(c,e))}},scale:{"mat4,vec3":function(a,c){return a.mul(GLM.$outer.mat4_scale(c))},"vec3,undefined":function(a){return GLM.$outer.mat4_scale(a)}},translate:{"mat4,vec3":function(a,c){return a.mul(GLM.$outer.mat4_translation(c))},"vec3,undefined":function(a){return GLM.$outer.mat4_translation(a)}},angleAxis:{"float,vec3":function(a,c){return GLM.$outer.quat_angleAxis(a,
c)},"float,float":function(a,c,e,g){return GLM.$outer.quat_angleAxis(a,glm.vec3(c,e,g))}}});
GLM.$to_string=GLM.$template.varargs_functions({$to_string:{"float":function(a,c){return GLM.$toFixedString("float",{value:a},["value"],c)},string:function(a){return a},"vec<N>":function(a,c){return GLM.$toFixedString(a.$type_name,a,a.$components,c)},uvec4:function(a){return a.$type_name+"("+glm.$to_array(a)+")"},"mat<N>":function(a,c){var e=[0,1,2,3].slice(0,N).map(function(c){return a[c]}).map(function(a){return GLM.$toFixedString("\t",a,a.$components,c)});return a.$type_name+"(\n"+e.join(", \n")+
"\n)"},quat:function(a,c){a=GLM.degrees(GLM.eulerAngles(a));return GLM.$toFixedString("<quat>"+a.$type_name,a,["x","y","z"],c)}}}).$to_string;
GLM.$template.operations({copy:{$op:"=","vec<N>,vec<N>":function(a,c){a.elements.set(c.elements);return a},"vec<N>,array<N>":function(a,c){a.elements.set(c);return a},"quat,quat":function(a,c){a.elements.set(c.elements);return a},"mat<N>,mat<N>":function(a,c){a.elements.set(c.elements);return a},"mat<N>,array<N>":function(a,c){c=c.reduce(function(a,c){if(!a.concat)throw new GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return a.concat(c)});if(c===N)throw new GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");
return a["="](c)},"mat<N>,array<N*N>":function(a,c){a.elements.set(c);return a},"mat4,array9":function(a,c){a.elements.set((new glm.mat4(c)).elements);return a}},sub:{$op:"-","vec<N>,vec<N>":function(a,c){return new glm.vecN(glm.$to_array(a).map(function(a,g){return a-c[g]}))}},add:{$op:"+","vec<N>,vec<N>":function(a,c){return new glm.vecN(glm.$to_array(a).map(function(a,g){return a+c[g]}))}},eql:{$op:"==",$eq:function(a,c){return c.elements.length===glm.$to_array(a).filter(function(a,g){return a===
c.elements[g]}).length},"vec<N>,vec<N>":function(a,c){return this.$eq(a,c)},"mat<N>,mat<N>":function(a,c){return this.$eq(a,c)},"quat,quat":function(a,c){return this.$eq(a,c)},"uvec4,uvec4":function(a,c){return this.$eq(a,c)}}});GLM.string={$type_name:"string",$:{}};GLM.number={$type_name:"float",$:{}};
GLM.vec2=GLM_template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},number1:function(a){return[a,a]},number2:function(a,c){return[a,c]},object1:function(a){switch(a.length){case 4:case 3:case 2:return[a[0],a[1]];default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+a);return[a.x,a.y]}}throw new GLMJSError("unrecognized object passed to GLM.vec2: "+a);}});
GLM.vec3=GLM_template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(a){return[a,a,a]},number2:function(a,c){return[a,c,c]},number3:function(a,c,e){return[a,c,e]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]];case 2:return[a[0],a[1],a[1]];default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+a);return[a.x,
a.y,a.z]}}throw new GLMJSError("unrecognized object passed to GLM.vec3: "+a);},object2:function(a,c){if(a instanceof GLM.vec2)return[a.x,a.y,c];throw new GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[a,c]);}});
GLM.vec4=GLM_template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},number1:function(a){return[a,a,a,a]},number2:function(a,c){return[a,c,c,c]},number3:function(a,c,e){return[a,c,e,e]},number4:function(a,c,e,g){return[a,c,e,g]},object1:function(a){if(a)switch(a.length){case 4:return[a[0],a[1],a[2],a[3]];case 3:return[a[0],a[1],a[2],a[2]];case 2:return[a[0],a[1],a[1],a[1]];default:if("w"in a&&"x"in a){if(typeof a.x!==typeof a.w)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+
a);return[a.x,a.y,a.z,a.w]}}throw new GLMJSError("unrecognized object passed to GLM.vec4: "+[a,a&&a.$type]);},object2:function(a,c){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,c];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[a,c]);},object3:function(a,c,e){if(a instanceof GLM.vec2)return[a.x,a.y,c,e];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[a,c,e]);}});
GLM.uvec4=GLM_template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],_clamp:function(a){return~~glm._clamp(a,0,Infinity)},undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a,a]},number2:function(a,c){a=this._clamp(a);c=this._clamp(c);return[a,c,c,c]},number3:function(a,c,e){a=this._clamp(a);c=this._clamp(c);e=this._clamp(e);return[a,c,e,e]},number4:function(a,c,e,g){return[a,c,e,g].map(this._clamp)},object1:function(a){if(a)switch(a.length){case 4:return[a[0],
a[1],a[2],a[3]].map(this._clamp);case 3:return[a[0],a[1],a[2],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1],a[1]].map(this._clamp);default:if("w"in a&&"x"in a)return[a.x,a.y,a.z,a.w].map(this._clamp)}throw new GLMJSError("unrecognized object passed to GLM.uvec4: "+[a,a&&a.$type]);},object2:function(a,c){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,c].map(this._clamp);throw new GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+[a,c]);}});
GLM.mat3=GLM_template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(a){return 1===a?this.identity:[a,0,0,0,a,0,0,0,a]},number9:function(){return arguments},object1:function(a){if(a){var c=a.elements||a;if(16===c.length)return[c[0],c[1],c[2],c[4],c[5],c[6],c[8],c[9],c[10]];if(9===c.length)return c}throw new GLMJSError("unrecognized object passed to GLM.mat3: "+a);},object3:function(a,c,e){return[a,c,e].map(glm.$to_array).reduce(function(a,
c){return a.concat(c)})}});
GLM.mat4=GLM_template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(){return arguments},number1:function(a){return 1===a?this.identity:[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,a]},object1:function(a){var c;if(a){if(a instanceof GLM.quat)return GLM.$outer.mat4_array_from_quat(a);c=a.elements||a;if(9===c.length)return[c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1];if(4===c.length&&c[0]&&4===c[0].length)return c[0].concat(c[1],
c[2],c[3]);if(16===c.length)return c}throw new GLMJSError("unrecognized object passed to GLM.mat4: "+[a,c&&c.length]);},object4:function(a,c,e,g){return[a,c,e,g].map(glm.$to_array).reduce(function(a,c){return a.concat(c)})}});
GLM.quat=GLM_template.GLMType("quat",{identity:[0,0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(a){if(1!==a)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(a,c,e,g){return[c,e,g,a]},object1:function(a){if(a){if(a instanceof GLM.mat4)return GLM.$outer.quat_array_from_mat4(a);if(4===a.length)return[a[0],a[1],a[2],a[3]];if(a instanceof GLM.quat)return[a.x,a.y,a.z,a.w];if(a instanceof GLM.vec3)return GLM.$outer.quat_array_from_zyx(a);
if("w"in a&&"x"in a)return[a.x,a.y,a.z,a.w]}throw new GLMJSError("unrecognized object passed to GLM.quat.object1: "+[a,a&&a.$type,typeof a,a&&a.constructor]);}});
(function(){var a=function(a,c,f){var l=[0,1,2,3].map(function(a){return{enumerable:f,get:function(){return this.elements[a]},set:function(c){this.elements[a]=c}}});c.forEach(function(c,f){Object.defineProperty(a.prototype,c,l[f])});if(isNaN(c[0])&&!/^_/.test(c[0])){var n={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[c.join("")];if(n)for(var h in n)(function(c,f,g,h){Object.defineProperty(a.prototype,c,{enumerable:!1,get:function(){return new GLM[f](this.elements.subarray(0*g+h,1*g+h))},set:function(a){return(new GLM[f](this.elements.subarray(0*
g+h,1*g+h)))["="](a)}})})(h,a.prototype.$type.replace(/[1-9]$/,h.length),h.length,n[h]);do(function(c,f,g){Object.defineProperty(a.prototype,c,{enumerable:!1,get:function(){return new GLM[f](this.elements.subarray(0*g,1*g))},set:function(a){return(new GLM[f](this.elements.subarray(0*g,1*g)))["="](a)}})})(c.join(""),a.prototype.$type.replace(/[1-9]$/,c.length),c.length);while(c[1]!=c.pop())}};a(GLM.vec2,["x","y"],!0);a(GLM.vec3,["x","y","z"],!0);a(GLM.vec3,["r","g","b"]);a(GLM.vec4,["x","y","z","w"],
!0);a(GLM.vec4,["r","g","b","a"]);a(GLM.quat,["x","y","z","w"],!0);a(GLM.uvec4,["x","y","z","w"],!0);a(GLM.uvec4,["0","1","2","3"]);Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});[2,3,4].forEach(function(c){c=GLM["vec"+c];a(c,c.$.identity.map(function(a,c){return c}))});var c=Float32Array.BYTES_PER_ELEMENT;GLM.$partition=function(a,g,f,l){if(void 0===f)throw new GLMJSError("nrows is undefined");var n=g.$.identity.length;f=f||n;for(var h=function(a){GLM.$DEBUG&&
GLM.$outer.console.debug("CACHEDBG: "+a)},s=c*n,j=0;j<f;j++)(function(c){var f=c*s,j=l&&l+c,A=c*n;Object.defineProperty(a,c,{configurable:!0,enumerable:!0,set:function(f){if(f instanceof g)this.elements.set(f.elements,A);else if(f&&f.length===n)this.elements.set(f,A);else throw new GLMJSError("unsupported argtype to "+(a&&a.$type)+"["+c+"] setter: "+[typeof f,f]);},get:function(){if(l){if(this[j])return c||h("cache hit "+j),this[j];c||h("cache miss "+j)}var a,e=new g(a=new Float32Array(this.elements.buffer,
this.elements.byteOffset+f,n));if(e.elements!==a)throw new GLMJSError("v.elements !== t");l&&Object.defineProperty(this,j,{configurable:!0,enumerable:!1,value:e});return e}})})(j)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();GLM.$dumpTypes=function(a){GLM.$types.forEach(function(c){GLM[c].componentLength&&a("GLM."+c,JSON.stringify({"#type":GLM[c].prototype.$type_name,"#floats":GLM[c].componentLength,"#bytes":GLM[c].BYTES_PER_ELEMENT}))})};
GLM.$init=function(a){a.prefix&&(GLMJS_PREFIX=a.prefix);var c=a.log||function(){};try{c("GLM-js: ENV: "+_ENV._VERSION)}catch(e){}c("GLM-JS: initializing: "+JSON.stringify(a,0,2));c(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));GLM.$outer.vec3_eulerAngles=GLM.$outer.vec3_eulerAngles||GLM.$outer._vec3_eulerAngles;GLM.$symbols=[];for(var g in GLM)"function"===typeof GLM[g]&&/^[a-z]/.test(g)&&GLM.$symbols.push(g);GLM.$types.forEach(function(a){var c=GLM[a].prototype.$type,e;for(e in GLM.$outer.functions){var g=
GLM.$outer.functions[e];g.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+c+"> "+e+" / "+g.$op),GLM[a].prototype[e]=g,GLM[a].prototype[g.$op]=g)}});c("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+a.vendor_name+" vendor_version="+a.vendor_version);glm.vendor=a};
GLM.using_namespace=function(a){GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!");var c=GLM.$symbols,e=[],g=[],f=[],l=[];eval(c.map(function(a,c){return"GLM.using_namespace['"+a+"'] = before["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+e.length);c.map(function(a){var c="GLM.using_namespace['"+a+"']=undefined;delete GLM.using_namespace['"+a+"'];";try{f.push(a+"=GLM.using_namespace['"+
a+"'];"+c)}catch(e){f.push(a+"=undefined;delete "+a+";"+c)}g.push(a+"=GLM."+a+";")});eval(g.join("\n"));a=a();eval(f.join("\n"));eval(c.map(function(a,c){return"after["+c+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+l.length);if(e.length!==l.length)throw Error(JSON.stringify({before:e,after:l,usn:Object.keys(GLM.using_namespace)}));return a};try{module.exports=GLM}catch(e$$17){}GLMAT.mat4.exists;glm=GLM;
var DLL={_version:"0.0.1",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix",statics:{mat4_perspective:function(a,c,e,g){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),a,c,e,g))},mat4_angleAxis:function(a,c){var e=GLMAT.quat.setAxisAngle(new Float32Array(4),c,a);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),e))},quat_angleAxis:function(a,c){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),
c,a))},mat4_translation:function(a){var c=new glm.mat4;GLMAT.mat4.translate(c.elements,c.elements,a.elements);return c},mat4_scale:function(a){var c=new glm.mat4;GLMAT.mat4.scale(c.elements,c.elements,a.elements);return c},vec3_eulerAngles:function(a){var c=new Float32Array(16);GLMAT.mat4.fromQuat(c,a.elements);a=c[0];var e=c[4],g=c[1],f=c[5],l=c[2],n=c[6],c=c[10],h=new glm.vec3;h.y=Math.asin(-glm.clamp(l,-1,1));0.99999>Math.abs(l)?(h.x=Math.atan2(n,c),h.z=Math.atan2(g,a)):(h.x=0,h.z=Math.atan2(-e,
f));return h},mat4_array_from_quat:function(a){return GLMAT.mat4.fromQuat(new Float32Array(16),a.elements)},quat_array_from_mat4:function(a){a=GLMAT.mat3.fromMat4(new Float32Array(9),a.elements);return GLMAT.quat.fromMat3(new Float32Array(4),a)}},operations:{mul:{$op:"*","quat,vec3":function(a,c){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),c.elements,a.elements))},"vec3,quat":function(a,c){return this["quat,vec3"](c,a)},"vec4,quat":function(a,c){return new glm.vec4(this["quat,vec3"](c,
a),1)},"vec<N>,float":function(a,c){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),a.elements,c))},"mat4,vec4":function(a,c){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),c.elements,a.elements))},"mat<N>,mat<N>":function(a,c){return new glm.matN(GLMAT.matN.mul(new Float32Array(N*N),a.elements,c.elements))},"quat,quat":function(a,c){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),a.elements,c.elements))}},mul_eq:{$op:"*=","mat<N>,mat<N>":function(a,c){GLMAT.matN.multiply(a.elements,
a.elements,c.elements);return a},"vec<N>,float":function(a,c){return GLMAT.vecN.scale(a,a,c)},"quat,quat":function(a,c){GLMAT.quat.multiply(a.elements,a.elements,c.elements);return a}}},functions:{mix:{"quat,quat":function(a,c,e){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),a.elements,c.elements,e))}}},calculators:{normalize:{"vec<N>":function(a){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),a))},quat:function(a){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),
a.elements))}},length:{quat:function(a){return GLMAT.quat.length(a.elements)},"vec<N>":function(a){return GLMAT.vecN.length(a.elements)}},length2:{quat:function(a){return GLMAT.quat.squaredLength(a.elements)},"vec<N>":function(a){return GLMAT.vecN.squaredLength(a.elements)}},inverse:{quat:function(a){return new glm.quat(GLMAT.quat.invert(new Float32Array(4),a.elements))},mat4:function(a){return new glm.mat4(GLMAT.mat4.invert(new Float32Array(16),a.elements))}},transpose:{mat4:function(a){return new glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),
a.elements))}}}};glm.$outer.$import(DLL);try{module.exports=glm}catch(e$$18){};
