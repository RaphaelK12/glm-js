var GLMAT={};GLMAT_VERSION="2.2.2";
(function(b){b.VERSION=GLMAT_VERSION;if(!d)var d=1E-6;if(!f)var f="undefined"!==typeof Float32Array?Float32Array:Array;if(!h)var h=Math.random;var g={setMatrixArrayType:function(a){f=a}};"undefined"!==typeof b&&(b.glMatrix=g);var m=Math.PI/180;g.toRadian=function(a){return a*m};g={create:function(){var a=new f(2);a[0]=0;a[1]=0;return a},clone:function(a){var c=new f(2);c[0]=a[0];c[1]=a[1];return c},fromValues:function(a,c){var e=new f(2);e[0]=a;e[1]=c;return e},copy:function(a,c){a[0]=c[0];a[1]=c[1];
return a},set:function(a,c,e){a[0]=c;a[1]=e;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];return a}};g.sub=g.subtract;g.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];return a};g.mul=g.multiply;g.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];return a};g.div=g.divide;g.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);return a};g.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],
e[1]);return a};g.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;return a};g.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;return a};g.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1];return Math.sqrt(e*e+b*b)};g.dist=g.distance;g.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1];return e*e+b*b};g.sqrDist=g.squaredDistance;g.length=function(a){var c=a[0];a=a[1];return Math.sqrt(c*c+a*a)};g.len=g.length;g.squaredLength=function(a){var c=a[0];a=a[1];return c*c+a*a};g.sqrLen=
g.squaredLength;g.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];return a};g.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];return a};g.normalize=function(a,c){var e=c[0],b=c[1],e=e*e+b*b;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e);return a};g.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]};g.cross=function(a,c,e){c=c[0]*e[1]-c[1]*e[0];a[0]=a[1]=0;a[2]=c;return a};g.lerp=function(a,c,e,b){var p=c[0];c=c[1];a[0]=p+b*(e[0]-p);a[1]=c+b*(e[1]-c);return a};g.random=function(a,c){c=c||1;var e=2*h()*Math.PI;
a[0]=Math.cos(e)*c;a[1]=Math.sin(e)*c;return a};g.transformMat2=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[2]*c;a[1]=e[1]*b+e[3]*c;return a};g.transformMat2d=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[2]*c+e[4];a[1]=e[1]*b+e[3]*c+e[5];return a};g.transformMat3=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[3]*c+e[6];a[1]=e[1]*b+e[4]*c+e[7];return a};g.transformMat4=function(a,c,e){var b=c[0];c=c[1];a[0]=e[0]*b+e[4]*c+e[12];a[1]=e[1]*b+e[5]*c+e[13];return a};var l=g.create();g.forEach=function(a,
c,e,b,p,d){c||(c=2);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)l[0]=a[e],l[1]=a[e+1],p(l,l,d),a[e]=l[0],a[e+1]=l[1];return a};g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};"undefined"!==typeof b&&(b.vec2=g);var i={create:function(){var a=new f(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var c=new f(3);c[0]=a[0];c[1]=a[1];c[2]=a[2];return c},fromValues:function(a,c,e){var b=new f(3);b[0]=a;b[1]=c;b[2]=e;return b},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a},
set:function(a,c,e,b){a[0]=c;a[1]=e;a[2]=b;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];a[2]=c[2]+e[2];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];a[2]=c[2]-e[2];return a}};i.sub=i.subtract;i.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];a[2]=c[2]*e[2];return a};i.mul=i.multiply;i.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];a[2]=c[2]/e[2];return a};i.div=i.divide;i.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);a[2]=Math.min(c[2],
e[2]);return a};i.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],e[1]);a[2]=Math.max(c[2],e[2]);return a};i.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;return a};i.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;a[2]=c[2]+e[2]*b;return a};i.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],p=c[2]-a[2];return Math.sqrt(e*e+b*b+p*p)};i.dist=i.distance;i.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],p=c[2]-a[2];return e*e+b*b+p*p};i.sqrDist=
i.squaredDistance;i.length=function(a){var c=a[0],e=a[1];a=a[2];return Math.sqrt(c*c+e*e+a*a)};i.len=i.length;i.squaredLength=function(a){var c=a[0],e=a[1];a=a[2];return c*c+e*e+a*a};i.sqrLen=i.squaredLength;i.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a};i.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};i.normalize=function(a,c){var e=c[0],b=c[1],p=c[2],e=e*e+b*b+p*p;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e,a[2]=c[2]*e);return a};i.dot=function(a,c){return a[0]*
c[0]+a[1]*c[1]+a[2]*c[2]};i.cross=function(a,c,e){var b=c[0],p=c[1];c=c[2];var d=e[0],r=e[1];e=e[2];a[0]=p*e-c*r;a[1]=c*d-b*e;a[2]=b*r-p*d;return a};i.lerp=function(a,c,e,b){var p=c[0],d=c[1];c=c[2];a[0]=p+b*(e[0]-p);a[1]=d+b*(e[1]-d);a[2]=c+b*(e[2]-c);return a};i.random=function(a,c){c=c||1;var e=2*h()*Math.PI,b=2*h()-1,p=Math.sqrt(1-b*b)*c;a[0]=Math.cos(e)*p;a[1]=Math.sin(e)*p;a[2]=b*c;return a};i.transformMat4=function(a,c,e){var b=c[0],p=c[1];c=c[2];var d=e[3]*b+e[7]*p+e[11]*c+e[15],d=d||1;a[0]=
(e[0]*b+e[4]*p+e[8]*c+e[12])/d;a[1]=(e[1]*b+e[5]*p+e[9]*c+e[13])/d;a[2]=(e[2]*b+e[6]*p+e[10]*c+e[14])/d;return a};i.transformMat3=function(a,c,e){var b=c[0],p=c[1];c=c[2];a[0]=b*e[0]+p*e[3]+c*e[6];a[1]=b*e[1]+p*e[4]+c*e[7];a[2]=b*e[2]+p*e[5]+c*e[8];return a};i.transformQuat=function(a,c,e){var b=c[0],p=c[1],d=c[2];c=e[0];var r=e[1],g=e[2];e=e[3];var f=e*b+r*d-g*p,H=e*p+g*b-c*d,h=e*d+c*p-r*b,b=-c*b-r*p-g*d;a[0]=f*e+b*-c+H*-g-h*-r;a[1]=H*e+b*-r+h*-c-f*-g;a[2]=h*e+b*-g+f*-r-H*-c;return a};i.rotateX=
function(a,c,e,b){var p=[],d=[];p[0]=c[0]-e[0];p[1]=c[1]-e[1];p[2]=c[2]-e[2];d[0]=p[0];d[1]=p[1]*Math.cos(b)-p[2]*Math.sin(b);d[2]=p[1]*Math.sin(b)+p[2]*Math.cos(b);a[0]=d[0]+e[0];a[1]=d[1]+e[1];a[2]=d[2]+e[2];return a};i.rotateY=function(a,c,e,b){var d=[],k=[];d[0]=c[0]-e[0];d[1]=c[1]-e[1];d[2]=c[2]-e[2];k[0]=d[2]*Math.sin(b)+d[0]*Math.cos(b);k[1]=d[1];k[2]=d[2]*Math.cos(b)-d[0]*Math.sin(b);a[0]=k[0]+e[0];a[1]=k[1]+e[1];a[2]=k[2]+e[2];return a};i.rotateZ=function(a,c,e,b){var d=[],k=[];d[0]=c[0]-
e[0];d[1]=c[1]-e[1];d[2]=c[2]-e[2];k[0]=d[0]*Math.cos(b)-d[1]*Math.sin(b);k[1]=d[0]*Math.sin(b)+d[1]*Math.cos(b);k[2]=d[2];a[0]=k[0]+e[0];a[1]=k[1]+e[1];a[2]=k[2]+e[2];return a};var v=i.create();i.forEach=function(a,c,e,b,d,k){c||(c=3);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)v[0]=a[e],v[1]=a[e+1],v[2]=a[e+2],d(v,v,k),a[e]=v[0],a[e+1]=v[1],a[e+2]=v[2];return a};i.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};"undefined"!==typeof b&&(b.vec3=i);var j={create:function(){var a=
new f(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var c=new f(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},fromValues:function(a,c,e,b){var d=new f(4);d[0]=a;d[1]=c;d[2]=e;d[3]=b;return d},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},set:function(a,c,e,b,d){a[0]=c;a[1]=e;a[2]=b;a[3]=d;return a},add:function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];a[2]=c[2]+e[2];a[3]=c[3]+e[3];return a},subtract:function(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];a[2]=c[2]-e[2];
a[3]=c[3]-e[3];return a}};j.sub=j.subtract;j.multiply=function(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];a[2]=c[2]*e[2];a[3]=c[3]*e[3];return a};j.mul=j.multiply;j.divide=function(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];a[2]=c[2]/e[2];a[3]=c[3]/e[3];return a};j.div=j.divide;j.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);a[2]=Math.min(c[2],e[2]);a[3]=Math.min(c[3],e[3]);return a};j.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],e[1]);a[2]=Math.max(c[2],e[2]);a[3]=
Math.max(c[3],e[3]);return a};j.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;a[3]=c[3]*e;return a};j.scaleAndAdd=function(a,c,e,b){a[0]=c[0]+e[0]*b;a[1]=c[1]+e[1]*b;a[2]=c[2]+e[2]*b;a[3]=c[3]+e[3]*b;return a};j.distance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],d=c[2]-a[2],k=c[3]-a[3];return Math.sqrt(e*e+b*b+d*d+k*k)};j.dist=j.distance;j.squaredDistance=function(a,c){var e=c[0]-a[0],b=c[1]-a[1],d=c[2]-a[2],k=c[3]-a[3];return e*e+b*b+d*d+k*k};j.sqrDist=j.squaredDistance;j.length=function(a){var c=
a[0],e=a[1],b=a[2];a=a[3];return Math.sqrt(c*c+e*e+b*b+a*a)};j.len=j.length;j.squaredLength=function(a){var c=a[0],e=a[1],b=a[2];a=a[3];return c*c+e*e+b*b+a*a};j.sqrLen=j.squaredLength;j.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=-c[3];return a};j.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];a[3]=1/c[3];return a};j.normalize=function(a,c){var e=c[0],b=c[1],d=c[2],k=c[3],e=e*e+b*b+d*d+k*k;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e,a[2]=c[2]*e,a[3]=c[3]*e);return a};
j.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]};j.lerp=function(a,c,e,b){var d=c[0],k=c[1],r=c[2];c=c[3];a[0]=d+b*(e[0]-d);a[1]=k+b*(e[1]-k);a[2]=r+b*(e[2]-r);a[3]=c+b*(e[3]-c);return a};j.random=function(a,c){c=c||1;a[0]=h();a[1]=h();a[2]=h();a[3]=h();j.normalize(a,a);j.scale(a,a,c);return a};j.transformMat4=function(a,c,e){var b=c[0],d=c[1],k=c[2];c=c[3];a[0]=e[0]*b+e[4]*d+e[8]*k+e[12]*c;a[1]=e[1]*b+e[5]*d+e[9]*k+e[13]*c;a[2]=e[2]*b+e[6]*d+e[10]*k+e[14]*c;a[3]=e[3]*b+e[7]*d+
e[11]*k+e[15]*c;return a};j.transformQuat=function(a,c,e){var b=c[0],d=c[1],k=c[2];c=e[0];var r=e[1],g=e[2];e=e[3];var f=e*b+r*k-g*d,H=e*d+g*b-c*k,h=e*k+c*d-r*b,b=-c*b-r*d-g*k;a[0]=f*e+b*-c+H*-g-h*-r;a[1]=H*e+b*-r+h*-c-f*-g;a[2]=h*e+b*-g+f*-r-H*-c;return a};var C=j.create();j.forEach=function(a,c,e,b,d,k){c||(c=4);e||(e=0);for(b=b?Math.min(b*c+e,a.length):a.length;e<b;e+=c)C[0]=a[e],C[1]=a[e+1],C[2]=a[e+2],C[3]=a[e+3],d(C,C,k),a[e]=C[0],a[e+1]=C[1],a[e+2]=C[2],a[e+3]=C[3];return a};j.str=function(a){return"vec4("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof b&&(b.vec4=j);g={create:function(){var a=new f(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},clone:function(a){var c=new f(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,c){if(a===c){var e=c[1];a[1]=c[2];a[2]=e}else a[0]=c[0],a[1]=c[2],a[2]=c[1],a[3]=c[3];return a},invert:function(a,c){var e=
c[0],b=c[1],d=c[2],k=c[3],r=e*k-d*b;if(!r)return null;r=1/r;a[0]=k*r;a[1]=-b*r;a[2]=-d*r;a[3]=e*r;return a},adjoint:function(a,c){var e=c[0];a[0]=c[3];a[1]=-c[1];a[2]=-c[2];a[3]=e;return a},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,c,e){var b=c[0],d=c[1],k=c[2];c=c[3];var r=e[0],g=e[1],f=e[2];e=e[3];a[0]=b*r+k*g;a[1]=d*r+c*g;a[2]=b*f+k*e;a[3]=d*f+c*e;return a}};g.mul=g.multiply;g.rotate=function(a,c,e){var b=c[0],d=c[1],k=c[2];c=c[3];var r=Math.sin(e);e=Math.cos(e);a[0]=
b*e+k*r;a[1]=d*e+c*r;a[2]=b*-r+k*e;a[3]=d*-r+c*e;return a};g.scale=function(a,c,e){var b=c[1],d=c[2],k=c[3],r=e[0];e=e[1];a[0]=c[0]*r;a[1]=b*r;a[2]=d*e;a[3]=k*e;return a};g.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};g.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};g.LDU=function(a,c,e,b){a[2]=b[2]/b[0];e[0]=b[0];e[1]=b[1];e[3]=b[3]-a[2]*e[1];return[a,c,e]};"undefined"!==typeof b&&(b.mat2=g);g={create:function(){var a=
new f(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var c=new f(6);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,c){var e=c[0],b=c[1],d=c[2],k=c[3],r=c[4],g=c[5],f=e*k-b*d;if(!f)return null;f=1/f;a[0]=k*f;a[1]=-b*f;a[2]=-d*f;a[3]=e*f;a[4]=(d*g-k*r)*f;a[5]=(b*r-e*g)*f;return a},
determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,c,e){var b=c[0],d=c[1],k=c[2],r=c[3],g=c[4];c=c[5];var f=e[0],h=e[1],x=e[2],n=e[3],i=e[4];e=e[5];a[0]=b*f+k*h;a[1]=d*f+r*h;a[2]=b*x+k*n;a[3]=d*x+r*n;a[4]=b*i+k*e+g;a[5]=d*i+r*e+c;return a}};g.mul=g.multiply;g.rotate=function(a,c,e){var b=c[0],d=c[1],k=c[2],r=c[3],g=c[4];c=c[5];var f=Math.sin(e);e=Math.cos(e);a[0]=b*e+k*f;a[1]=d*e+r*f;a[2]=b*-f+k*e;a[3]=d*-f+r*e;a[4]=g;a[5]=c;return a};g.scale=function(a,c,e){var b=c[1],d=c[2],
k=c[3],r=c[4],f=c[5],g=e[0];e=e[1];a[0]=c[0]*g;a[1]=b*g;a[2]=d*e;a[3]=k*e;a[4]=r;a[5]=f;return a};g.translate=function(a,c,e){var b=c[0],d=c[1],k=c[2],r=c[3],f=c[4];c=c[5];var g=e[0];e=e[1];a[0]=b;a[1]=d;a[2]=k;a[3]=r;a[4]=b*g+k*e+f;a[5]=d*g+r*e+c;return a};g.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};g.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};"undefined"!==
typeof b&&(b.mat2d=g);g={create:function(){var a=new f(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[4];a[4]=c[5];a[5]=c[6];a[6]=c[8];a[7]=c[9];a[8]=c[10];return a},clone:function(a){var c=new f(9);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a},
identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,c){if(a===c){var e=c[1],b=c[2],d=c[5];a[1]=c[3];a[2]=c[6];a[3]=e;a[5]=c[7];a[6]=b;a[7]=d}else a[0]=c[0],a[1]=c[3],a[2]=c[6],a[3]=c[1],a[4]=c[4],a[5]=c[7],a[6]=c[2],a[7]=c[5],a[8]=c[8];return a},invert:function(a,c){var e=c[0],b=c[1],d=c[2],k=c[3],r=c[4],g=c[5],f=c[6],h=c[7],x=c[8],n=x*r-g*h,i=-x*k+g*f,J=h*k-r*f,j=e*n+b*i+d*J;if(!j)return null;j=1/j;a[0]=n*j;a[1]=(-x*b+d*h)*j;a[2]=(g*
b-d*r)*j;a[3]=i*j;a[4]=(x*e-d*f)*j;a[5]=(-g*e+d*k)*j;a[6]=J*j;a[7]=(-h*e+b*f)*j;a[8]=(r*e-b*k)*j;return a},adjoint:function(a,c){var b=c[0],d=c[1],p=c[2],k=c[3],r=c[4],g=c[5],f=c[6],h=c[7],x=c[8];a[0]=r*x-g*h;a[1]=p*h-d*x;a[2]=d*g-p*r;a[3]=g*f-k*x;a[4]=b*x-p*f;a[5]=p*k-b*g;a[6]=k*h-r*f;a[7]=d*f-b*h;a[8]=b*r-d*k;return a},determinant:function(a){var c=a[3],b=a[4],d=a[5],p=a[6],k=a[7],r=a[8];return a[0]*(r*b-d*k)+a[1]*(-r*c+d*p)+a[2]*(k*c-b*p)},multiply:function(a,c,b){var d=c[0],p=c[1],k=c[2],r=c[3],
g=c[4],f=c[5],h=c[6],x=c[7];c=c[8];var n=b[0],i=b[1],j=b[2],l=b[3],m=b[4],t=b[5],u=b[6],q=b[7];b=b[8];a[0]=n*d+i*r+j*h;a[1]=n*p+i*g+j*x;a[2]=n*k+i*f+j*c;a[3]=l*d+m*r+t*h;a[4]=l*p+m*g+t*x;a[5]=l*k+m*f+t*c;a[6]=u*d+q*r+b*h;a[7]=u*p+q*g+b*x;a[8]=u*k+q*f+b*c;return a}};g.mul=g.multiply;g.translate=function(a,c,b){var d=c[0],p=c[1],k=c[2],r=c[3],g=c[4],f=c[5],h=c[6],x=c[7];c=c[8];var n=b[0];b=b[1];a[0]=d;a[1]=p;a[2]=k;a[3]=r;a[4]=g;a[5]=f;a[6]=n*d+b*r+h;a[7]=n*p+b*g+x;a[8]=n*k+b*f+c;return a};g.rotate=
function(a,c,b){var d=c[0],p=c[1],k=c[2],r=c[3],g=c[4],f=c[5],h=c[6],x=c[7];c=c[8];var n=Math.sin(b);b=Math.cos(b);a[0]=b*d+n*r;a[1]=b*p+n*g;a[2]=b*k+n*f;a[3]=b*r-n*d;a[4]=b*g-n*p;a[5]=b*f-n*k;a[6]=h;a[7]=x;a[8]=c;return a};g.scale=function(a,c,b){var d=b[0];b=b[1];a[0]=d*c[0];a[1]=d*c[1];a[2]=d*c[2];a[3]=b*c[3];a[4]=b*c[4];a[5]=b*c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a};g.fromMat2d=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=0;a[3]=c[2];a[4]=c[3];a[5]=0;a[6]=c[4];a[7]=c[5];a[8]=1;return a};g.fromQuat=
function(a,c){var b=c[0],d=c[1],p=c[2],k=c[3],r=b+b,g=d+d,f=p+p,b=b*r,h=d*r,d=d*g,x=p*r,n=p*g,p=p*f,r=k*r,g=k*g,k=k*f;a[0]=1-d-p;a[3]=h-k;a[6]=x+g;a[1]=h+k;a[4]=1-b-p;a[7]=n-r;a[2]=x-g;a[5]=n+r;a[8]=1-b-d;return a};g.normalFromMat4=function(a,c){var b=c[0],d=c[1],p=c[2],k=c[3],g=c[4],f=c[5],h=c[6],H=c[7],x=c[8],n=c[9],i=c[10],j=c[11],l=c[12],m=c[13],t=c[14],u=c[15],q=b*f-d*g,A=b*h-p*g,y=b*H-k*g,z=d*h-p*f,s=d*H-k*f,w=p*H-k*h,v=x*m-n*l,F=x*t-i*l,x=x*u-j*l,G=n*t-i*m,n=n*u-j*m,i=i*u-j*t,j=q*i-A*n+y*G+
z*x-s*F+w*v;if(!j)return null;j=1/j;a[0]=(f*i-h*n+H*G)*j;a[1]=(h*x-g*i-H*F)*j;a[2]=(g*n-f*x+H*v)*j;a[3]=(p*n-d*i-k*G)*j;a[4]=(b*i-p*x+k*F)*j;a[5]=(d*x-b*n-k*v)*j;a[6]=(m*w-t*s+u*z)*j;a[7]=(t*y-l*w-u*A)*j;a[8]=(l*s-m*y+u*q)*j;return a};g.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};g.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],
2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof b&&(b.mat3=g);var s={create:function(){var a=new f(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var c=new f(16);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},copy:function(a,c){a[0]=c[0];a[1]=c[1];a[2]=
c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,c){if(a===c){var b=c[1],d=c[2],p=c[3],k=c[6],g=c[7],f=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=b;a[6]=c[9];a[7]=c[13];a[8]=d;a[9]=k;a[11]=c[14];a[12]=p;a[13]=g;a[14]=f}else a[0]=
c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a},invert:function(a,c){var b=c[0],d=c[1],p=c[2],k=c[3],g=c[4],f=c[5],h=c[6],i=c[7],x=c[8],n=c[9],j=c[10],l=c[11],m=c[12],q=c[13],t=c[14],u=c[15],B=b*f-d*g,A=b*h-p*g,y=b*i-k*g,z=d*h-p*f,s=d*i-k*f,w=p*i-k*h,v=x*q-n*m,F=x*t-j*m,G=x*u-l*m,C=n*t-j*q,D=n*u-l*q,I=j*u-l*t,E=B*I-A*D+y*C+z*G-s*F+w*v;if(!E)return null;E=1/E;a[0]=(f*I-h*
D+i*C)*E;a[1]=(p*D-d*I-k*C)*E;a[2]=(q*w-t*s+u*z)*E;a[3]=(j*s-n*w-l*z)*E;a[4]=(h*G-g*I-i*F)*E;a[5]=(b*I-p*G+k*F)*E;a[6]=(t*y-m*w-u*A)*E;a[7]=(x*w-j*y+l*A)*E;a[8]=(g*D-f*G+i*v)*E;a[9]=(d*G-b*D-k*v)*E;a[10]=(m*s-q*y+u*B)*E;a[11]=(n*y-x*s-l*B)*E;a[12]=(f*F-g*C-h*v)*E;a[13]=(b*C-d*F+p*v)*E;a[14]=(q*A-m*z-t*B)*E;a[15]=(x*z-n*A+j*B)*E;return a},adjoint:function(a,c){var b=c[0],d=c[1],p=c[2],k=c[3],g=c[4],f=c[5],h=c[6],i=c[7],j=c[8],n=c[9],l=c[10],m=c[11],q=c[12],s=c[13],t=c[14],u=c[15];a[0]=f*(l*u-m*t)-
n*(h*u-i*t)+s*(h*m-i*l);a[1]=-(d*(l*u-m*t)-n*(p*u-k*t)+s*(p*m-k*l));a[2]=d*(h*u-i*t)-f*(p*u-k*t)+s*(p*i-k*h);a[3]=-(d*(h*m-i*l)-f*(p*m-k*l)+n*(p*i-k*h));a[4]=-(g*(l*u-m*t)-j*(h*u-i*t)+q*(h*m-i*l));a[5]=b*(l*u-m*t)-j*(p*u-k*t)+q*(p*m-k*l);a[6]=-(b*(h*u-i*t)-g*(p*u-k*t)+q*(p*i-k*h));a[7]=b*(h*m-i*l)-g*(p*m-k*l)+j*(p*i-k*h);a[8]=g*(n*u-m*s)-j*(f*u-i*s)+q*(f*m-i*n);a[9]=-(b*(n*u-m*s)-j*(d*u-k*s)+q*(d*m-k*n));a[10]=b*(f*u-i*s)-g*(d*u-k*s)+q*(d*i-k*f);a[11]=-(b*(f*m-i*n)-g*(d*m-k*n)+j*(d*i-k*f));a[12]=
-(g*(n*t-l*s)-j*(f*t-h*s)+q*(f*l-h*n));a[13]=b*(n*t-l*s)-j*(d*t-p*s)+q*(d*l-p*n);a[14]=-(b*(f*t-h*s)-g*(d*t-p*s)+q*(d*h-p*f));a[15]=b*(f*l-h*n)-g*(d*l-p*n)+j*(d*h-p*f);return a},determinant:function(a){var c=a[0],b=a[1],d=a[2],f=a[3],k=a[4],g=a[5],h=a[6],i=a[7],j=a[8],l=a[9],n=a[10],m=a[11],q=a[12],s=a[13],w=a[14];a=a[15];return(c*g-b*k)*(n*a-m*w)-(c*h-d*k)*(l*a-m*s)+(c*i-f*k)*(l*w-n*s)+(b*h-d*g)*(j*a-m*q)-(b*i-f*g)*(j*w-n*q)+(d*i-f*h)*(j*s-l*q)},multiply:function(a,c,b){var d=c[0],f=c[1],g=c[2],
h=c[3],i=c[4],j=c[5],l=c[6],m=c[7],n=c[8],q=c[9],s=c[10],w=c[11],v=c[12],t=c[13],u=c[14];c=c[15];var B=b[0],A=b[1],y=b[2],z=b[3];a[0]=B*d+A*i+y*n+z*v;a[1]=B*f+A*j+y*q+z*t;a[2]=B*g+A*l+y*s+z*u;a[3]=B*h+A*m+y*w+z*c;B=b[4];A=b[5];y=b[6];z=b[7];a[4]=B*d+A*i+y*n+z*v;a[5]=B*f+A*j+y*q+z*t;a[6]=B*g+A*l+y*s+z*u;a[7]=B*h+A*m+y*w+z*c;B=b[8];A=b[9];y=b[10];z=b[11];a[8]=B*d+A*i+y*n+z*v;a[9]=B*f+A*j+y*q+z*t;a[10]=B*g+A*l+y*s+z*u;a[11]=B*h+A*m+y*w+z*c;B=b[12];A=b[13];y=b[14];z=b[15];a[12]=B*d+A*i+y*n+z*v;a[13]=
B*f+A*j+y*q+z*t;a[14]=B*g+A*l+y*s+z*u;a[15]=B*h+A*m+y*w+z*c;return a}};s.mul=s.multiply;s.translate=function(a,c,b){var d=b[0],f=b[1];b=b[2];var g,h,i,j,l,m,n,q,s,w,v,t;c===a?(a[12]=c[0]*d+c[4]*f+c[8]*b+c[12],a[13]=c[1]*d+c[5]*f+c[9]*b+c[13],a[14]=c[2]*d+c[6]*f+c[10]*b+c[14],a[15]=c[3]*d+c[7]*f+c[11]*b+c[15]):(g=c[0],h=c[1],i=c[2],j=c[3],l=c[4],m=c[5],n=c[6],q=c[7],s=c[8],w=c[9],v=c[10],t=c[11],a[0]=g,a[1]=h,a[2]=i,a[3]=j,a[4]=l,a[5]=m,a[6]=n,a[7]=q,a[8]=s,a[9]=w,a[10]=v,a[11]=t,a[12]=g*d+l*f+s*b+
c[12],a[13]=h*d+m*f+w*b+c[13],a[14]=i*d+n*f+v*b+c[14],a[15]=j*d+q*f+t*b+c[15]);return a};s.scale=function(a,c,b){var d=b[0],f=b[1];b=b[2];a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*f;a[5]=c[5]*f;a[6]=c[6]*f;a[7]=c[7]*f;a[8]=c[8]*b;a[9]=c[9]*b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};s.rotate=function(a,c,b,f){var g=f[0],k=f[1];f=f[2];var h=Math.sqrt(g*g+k*k+f*f),i,j,l,m,n,q,s,w,v,t,u,B,A,y,z,C,D,I,F,G;if(Math.abs(h)<d)return null;h=1/h;g*=
h;k*=h;f*=h;i=Math.sin(b);j=Math.cos(b);l=1-j;b=c[0];h=c[1];m=c[2];n=c[3];q=c[4];s=c[5];w=c[6];v=c[7];t=c[8];u=c[9];B=c[10];A=c[11];y=g*g*l+j;z=k*g*l+f*i;C=f*g*l-k*i;D=g*k*l-f*i;I=k*k*l+j;F=f*k*l+g*i;G=g*f*l+k*i;g=k*f*l-g*i;k=f*f*l+j;a[0]=b*y+q*z+t*C;a[1]=h*y+s*z+u*C;a[2]=m*y+w*z+B*C;a[3]=n*y+v*z+A*C;a[4]=b*D+q*I+t*F;a[5]=h*D+s*I+u*F;a[6]=m*D+w*I+B*F;a[7]=n*D+v*I+A*F;a[8]=b*G+q*g+t*k;a[9]=h*G+s*g+u*k;a[10]=m*G+w*g+B*k;a[11]=n*G+v*g+A*k;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};
s.rotateX=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[4],g=c[5],h=c[6],i=c[7],j=c[8],l=c[9],m=c[10],n=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=f*b+j*d;a[5]=g*b+l*d;a[6]=h*b+m*d;a[7]=i*b+n*d;a[8]=j*b-f*d;a[9]=l*b-g*d;a[10]=m*b-h*d;a[11]=n*b-i*d;return a};s.rotateY=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],g=c[1],h=c[2],i=c[3],j=c[8],l=c[9],m=c[10],n=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],
a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b-j*d;a[1]=g*b-l*d;a[2]=h*b-m*d;a[3]=i*b-n*d;a[8]=f*d+j*b;a[9]=g*d+l*b;a[10]=h*d+m*b;a[11]=i*d+n*b;return a};s.rotateZ=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],g=c[1],h=c[2],i=c[3],j=c[4],l=c[5],m=c[6],n=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b+j*d;a[1]=g*b+l*d;a[2]=h*b+m*d;a[3]=i*b+n*d;a[4]=j*b-f*d;a[5]=l*b-g*d;a[6]=m*b-h*d;a[7]=n*b-i*d;return a};s.fromRotationTranslation=
function(a,c,b){var d=c[0],f=c[1],g=c[2],h=c[3],i=d+d,j=f+f,l=g+g;c=d*i;var m=d*j,d=d*l,n=f*j,f=f*l,g=g*l,i=h*i,j=h*j,h=h*l;a[0]=1-(n+g);a[1]=m+h;a[2]=d-j;a[3]=0;a[4]=m-h;a[5]=1-(c+g);a[6]=f+i;a[7]=0;a[8]=d+j;a[9]=f-i;a[10]=1-(c+n);a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};s.fromQuat=function(a,c){var b=c[0],d=c[1],f=c[2],g=c[3],h=b+b,i=d+d,j=f+f,b=b*h,l=d*h,d=d*i,m=f*h,n=f*i,f=f*j,h=g*h,i=g*i,g=g*j;a[0]=1-d-f;a[1]=l+g;a[2]=m-i;a[3]=0;a[4]=l-g;a[5]=1-b-f;a[6]=n+h;a[7]=0;a[8]=m+i;
a[9]=n-h;a[10]=1-b-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};s.frustum=function(a,c,b,d,f,g,h){var i=1/(b-c),j=1/(f-d),l=1/(g-h);a[0]=2*g*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*j;a[6]=0;a[7]=0;a[8]=(b+c)*i;a[9]=(f+d)*j;a[10]=(h+g)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(h*g)*l;a[15]=0;return a};s.perspective=function(a,c,b,d,f){c=1/Math.tan(c/2);var g=1/(d-f);a[0]=c/b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(f+d)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*f*d*g;a[15]=0;
return a};s.ortho=function(a,c,b,d,f,g,h){var i=1/(c-b),j=1/(d-f),l=1/(g-h);a[0]=-2*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*j;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(c+b)*i;a[13]=(f+d)*j;a[14]=(h+g)*l;a[15]=1;return a};s.lookAt=function(a,c,b,f){var g,h,i,j,l,m,q,n,w=c[0],v=c[1];c=c[2];i=f[0];j=f[1];h=f[2];q=b[0];f=b[1];g=b[2];if(Math.abs(w-q)<d&&Math.abs(v-f)<d&&Math.abs(c-g)<d)return s.identity(a);b=w-q;f=v-f;q=c-g;n=1/Math.sqrt(b*b+f*f+q*q);b*=n;f*=n;q*=n;g=j*q-h*f;h=h*b-i*q;i=i*f-j*
b;(n=Math.sqrt(g*g+h*h+i*i))?(n=1/n,g*=n,h*=n,i*=n):i=h=g=0;j=f*i-q*h;l=q*g-b*i;m=b*h-f*g;(n=Math.sqrt(j*j+l*l+m*m))?(n=1/n,j*=n,l*=n,m*=n):m=l=j=0;a[0]=g;a[1]=j;a[2]=b;a[3]=0;a[4]=h;a[5]=l;a[6]=f;a[7]=0;a[8]=i;a[9]=m;a[10]=q;a[11]=0;a[12]=-(g*w+h*v+i*c);a[13]=-(j*w+l*v+m*c);a[14]=-(b*w+f*v+q*c);a[15]=1;return a};s.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};s.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof b&&(b.mat4=s);var q={create:function(){var a=new f(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},w=i.create(),I=i.fromValues(1,0,0),K=i.fromValues(0,1,0);q.rotationTo=
function(a,c,b){var d=i.dot(c,b);if(-0.999999>d)return i.cross(w,I,c),1E-6>i.length(w)&&i.cross(w,K,c),i.normalize(w,w),q.setAxisAngle(a,w,Math.PI),a;if(0.999999<d)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;i.cross(w,c,b);a[0]=w[0];a[1]=w[1];a[2]=w[2];a[3]=1+d;return q.normalize(a,a)};var D=g.create();q.setAxes=function(a,c,b,d){D[0]=b[0];D[3]=b[1];D[6]=b[2];D[1]=d[0];D[4]=d[1];D[7]=d[2];D[2]=-c[0];D[5]=-c[1];D[8]=-c[2];return q.normalize(a,q.fromMat3(a,D))};q.clone=j.clone;q.fromValues=j.fromValues;q.copy=
j.copy;q.set=j.set;q.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};q.setAxisAngle=function(a,c,b){b*=0.5;var d=Math.sin(b);a[0]=d*c[0];a[1]=d*c[1];a[2]=d*c[2];a[3]=Math.cos(b);return a};q.add=j.add;q.multiply=function(a,c,b){var d=c[0],f=c[1],g=c[2];c=c[3];var h=b[0],i=b[1],j=b[2];b=b[3];a[0]=d*b+c*h+f*j-g*i;a[1]=f*b+c*i+g*h-d*j;a[2]=g*b+c*j+d*i-f*h;a[3]=c*b-d*h-f*i-g*j;return a};q.mul=q.multiply;q.scale=j.scale;q.rotateX=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);
b=Math.cos(b);a[0]=d*b+c*h;a[1]=f*b+g*h;a[2]=g*b-f*h;a[3]=c*b-d*h;return a};q.rotateY=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);b=Math.cos(b);a[0]=d*b-g*h;a[1]=f*b+c*h;a[2]=g*b+d*h;a[3]=c*b-f*h;return a};q.rotateZ=function(a,c,b){b*=0.5;var d=c[0],f=c[1],g=c[2];c=c[3];var h=Math.sin(b);b=Math.cos(b);a[0]=d*b+f*h;a[1]=f*b-d*h;a[2]=g*b+c*h;a[3]=c*b-g*h;return a};q.calculateW=function(a,c){var b=c[0],d=c[1],f=c[2];a[0]=b;a[1]=d;a[2]=f;a[3]=Math.sqrt(Math.abs(1-b*b-d*d-
f*f));return a};q.dot=j.dot;q.lerp=j.lerp;q.slerp=function(a,c,b,d){var f=c[0],g=c[1],h=c[2];c=c[3];var i=b[0],j=b[1],l=b[2];b=b[3];var m,n,q;n=f*i+g*j+h*l+c*b;0>n&&(n=-n,i=-i,j=-j,l=-l,b=-b);1E-6<1-n?(m=Math.acos(n),q=Math.sin(m),n=Math.sin((1-d)*m)/q,d=Math.sin(d*m)/q):n=1-d;a[0]=n*f+d*i;a[1]=n*g+d*j;a[2]=n*h+d*l;a[3]=n*c+d*b;return a};q.invert=function(a,c){var b=c[0],d=c[1],f=c[2],g=c[3],h=b*b+d*d+f*f+g*g,h=h?1/h:0;a[0]=-b*h;a[1]=-d*h;a[2]=-f*h;a[3]=g*h;return a};q.conjugate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};q.length=j.length;q.len=q.length;q.squaredLength=j.squaredLength;q.sqrLen=q.squaredLength;q.normalize=j.normalize;q.fromMat3=function(a,c){var b=c[0]+c[4]+c[8];if(0<b)b=Math.sqrt(b+1),a[3]=0.5*b,b=0.5/b,a[0]=(c[5]-c[7])*b,a[1]=(c[6]-c[2])*b,a[2]=(c[1]-c[3])*b;else{var d=0;c[4]>c[0]&&(d=1);c[8]>c[3*d+d]&&(d=2);var f=(d+1)%3,g=(d+2)%3,b=Math.sqrt(c[3*d+d]-c[3*f+f]-c[3*g+g]+1);a[d]=0.5*b;b=0.5/b;a[3]=(c[3*f+g]-c[3*g+f])*b;a[f]=(c[3*f+d]+c[3*d+f])*b;a[g]=
(c[3*g+d]+c[3*d+g])*b}return a};q.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof b&&(b.quat=q)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}GLMJS_PREFIX="glm-js: ";var GLMJSError=function(b,d){function f(f){this.name=b;Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=f;d&&d.apply(this,arguments)}f.prototype=Error();f.prototype.name=b;return f.prototype.constructor=f}("GLMJSError");
$GLM_extern=function(b,d){d=d||b;return function(){GLM[d]=GLM.$outer.functions[b]||GLM.$outer[b];if(!GLM[d])throw new GLMJSError("$GLM_extern: unresolved external symbol: "+b);return GLM[d].apply(this,arguments)}};"undefined"===typeof $GLM_log&&($GLM_log=function(b,d){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(GLM.to_string))});"undefined"===typeof $GLM_console_log&&($GLM_console_log=function(b,d){(console[b]||function(){}).apply(console,[].slice.call(arguments,1))});
"undefined"===typeof $GLM_console_logger&&($GLM_console_logger=function(b){return $GLM_console_log.bind($GLM_console_log,b)});
GLM={version:"0.0.1",GLM_VERSION:95,$outer:{functions:{},intern:function(b,d){if(void 0===d&&"object"===typeof b)for(var f in b)GLM.$outer.intern(f,b[f]);else return GLM.$outer.console.debug("intern "+b,d&&(d.name||typeof d)),GLM.$outer[b]=d},"import":function(b){GLM.$outer.intern(b.statics);GLM.$template.functions(b.functions);GLM.$template.operations(b.operations);GLM.$template.calculators(b.calculators);GLM.$init(b)},console:function(b){var d={};"debug,warn,info,error,log,write".replace(/\w+/g,
function(f){d[f]=b(f)});return d}($GLM_console_logger),quat_array_from_zyx:function(b){var d=glm.quat();d["*="](glm.angleAxis(b.z,glm.vec3(0,0,1)));d["*="](glm.angleAxis(b.y,glm.vec3(0,1,0)));d["*="](glm.angleAxis(b.x,glm.vec3(1,0,0)));return d.elements},_vec3_eulerAngles:function(b){var d=this.mat4_array_from_quat(b);b=d[0];var f=d[4],h=d[1],g=d[5],m=d[2],l=d[6],d=d[10],i=new glm.vec3;i.y=Math.asin(-glm._clamp(m,-1,1));0.99999>Math.abs(m)?(i.x=Math.atan2(l,d),i.z=Math.atan2(h,b)):(i.x=0,i.z=Math.atan2(-f,
g));return i}},$extern:$GLM_extern,$log:$GLM_log,GLMJSError:GLMJSError,_radians:function(b){return b*Math.PI/180},_degrees:function(b){return 180*b/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),mix:$GLM_extern("mix"),clamp:$GLM_extern("clamp"),rotate:function(b,d,f){return b.mul(GLM.$outer.mat4_angleAxis(d,f))},scale:function(b,d){return b.mul(GLM.$outer.mat4_scale(d))},translate:function(b,
d){return b.mul(GLM.$outer.mat4_translation(d))},perspective:function(b,d,f,h){return GLM.$outer.mat4_perspective(b,d,f,h)},eulerAngles:function(b){return GLM.$outer.vec3_eulerAngles(b)},angleAxis:function(b,d){return GLM.$outer.quat_angleAxis(b,d)},make_mat4:function(b){return new GLM.mat4([].slice.call(b,0,16))},toMat4:function(b){return new GLM.mat4(b)},FAITHFUL:!0,to_string:function(b,d){try{var f=b.$type||typeof b;if(!GLM[f])throw new GLMJSError("unsupported argtype to GLM.to_string: "+[b,f]);
if(!GLM[f].$)throw new GLMJSError("missing .$... GLM.to_string: "+[b,f]);return GLM.FAITHFUL?GLM[f].$.to_string(b,d).replace(/[\t\n]/g,""):GLM[f].$.to_string(b,d)}catch(h){return GLM.$outer.console.error("to_string error: ",f,b+"",h),h+""}},$isGLMType:function(b){return~GLM.$types.indexOf(b&&b.$type)},$to_array:function(b){return[].slice.call(b.elements)},$sizeof:function(b){return b.BYTES_PER_ELEMENT},_clamp:function(b,d,f){return b<d?d:b>f?f:b},max:function(b,d){return Math.max(b,d)},min:function(b,
d){return Math.min(b,d)},sign:Math.sign||function(b){return 0<b?1:0>b?-1:0},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toString:function(b,d,f,h){h=void 0===h?GLM.FIXEDPRECISION:h;if(!f||!f.map)throw Error("unsupported argtype to $toString(..,..,props="+typeof f+")");try{var g="";f.map(function(b){b=d[g=b];if(!b.toFixed)throw Error("!toFixed in w");return b.toFixed(0)})}catch(m){throw GLM.$outer.console.error("$toString error",b,typeof d,Object.prototype.toString.call(d),g),glm.$log("$toString error",
b,typeof d,Object.prototype.toString.call(d),g),new GLMJSError(m);}return[b,"(",f.map(function(b){return d[b].toFixed(h)}).join(", "),")"].join("")}};
var GLM_template=GLM.$template={_genArgError:function(b,d,f,h){return new GLMJSError("unsupported argtype to "+d+""+b.$sig+": [typ="+f+"] :: got arg types: "+h.map(GLM_template.jstypes.get)+" // supported types: "+Object.keys(b).join("||"))},jstypes:{get:function(b){return null===b?"null":void 0===b?"undefined":b.$type||GLM_template.jstypes[typeof b]||GLM_template.jstypes[b+""]||"<unknown "+[typeof b,b]+">"},"0":"float",number:"float","[object Float32Array]":"Float32Array"},"<T>":function(b,d){function f(f){var m=
[f&&f.$type||h[typeof f]||"null"];if(!b[m])throw GLM_template._genArgError(b,d,m,[f]);return b[m](f)}var h=GLM_template.jstypes;b.$sig="<T>";f.$template=b;return f},"<T,V,n>":function(b,d){function f(f,m,l){this.$type&&(l=m,m=f,f=this);var i=[f&&f.$type||h[typeof m],m&&m.$type||h[typeof m]||h[m+""]||"<unknown "+m+">"];if(!b[i])throw GLM_template._genArgError(b,d,i,[].slice.call(arguments));if("number"!==typeof l)throw new GLMJSError(d+b.$sig+": unsupported n type: "+[typeof l,l]);return b[i](f,m,
l)}var h=GLM_template.jstypes;b.$sig="<T,V,n>";f.$template=b;return f},"<T,V>":function(b,d){function f(f,m,l,i,v){this.$type&&(v=i,i=l,l=m,m=f,f=this);var j=[f&&f.$type||h[typeof m],m&&m.$type||h[typeof m]||h[m+""]||"<unknown "+m+">"];if(!b[j])throw GLM_template._genArgError(b,d,j,[].slice.call(arguments));return b[j](f,m,l,i,v)}var h=GLM_template.jstypes;b.$sig="<T,V>";f.$template=b;return f},override:function(b,d,f,h){GLM.$outer.console.debug("glm.$template.override: ",b,d,f.op?'op: ["'+f.op+'"]':
"");if(!h)throw Error("unspecified target group "+h+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var g=h[d]&&h[d];h[d]=GLM_template[b](GLM_template.deNify(f),d);h[d].op=f.op;if(g){if(g.op!==h[d].op)throw Error('glm.$template.override: mismatch merging existing override: .op "'+[g.op,"!=",h[d].op].join(" ")+'"  p='+[d,g.op,h[d].op,"||"+Object.keys(g.$template).join("||")]);var m=[],l;for(l in h[d].$template)l in g.$template||GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+
d+" ... "+l+" overlayed");for(l in g.$template)l in h[d].$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+d+" ... "+l+" carried-forward"),m.push(l),h[d].$template[l]=g.$template[l]);GLM.$outer.console.debug("glm.$template.override: "+d+" ... "+Object.keys(h[d].$template).filter(function(b){return!~b.indexOf("$")}).map(function(b){return!~m.indexOf(b)?"*"+b+"*":b}).join(" | "))}else GLM.$outer.console.debug("glm.$template.override: "+d+" ... "+Object.keys(h[d].$template).filter(function(b){return!~b.indexOf("$")}).map(function(b){return"*"+
b+"*"}).join(" | "));return h},_override:function(b,d,f){for(var h in d)this.override(b,h,d[h],f);return f},operations:function(b){return this._override("<T,V>",b,GLM.$outer.functions)},calculators:function(b){return this._override("<T>",b,GLM.$outer.functions)},functions:function(b){return this._override("<T,V,n>",b,GLM.$outer.functions)},deNify:function(b){for(var d in b)if(/vec<N>/.test(d)){var f=b[d];delete b[d];[2,3,4].forEach(function(h){var g=d.replace(/<N>/g,h);g in b||(b[g]=eval(("1,"+f).replace(/N/g,
h)))})}return b},GLMType:function(b,d){var f=d.identity.length,h=function(g){var m=typeof g+arguments.length,l=d[m];if(!l)throw new GLMJSError("no template found for "+b+".$."+m);if(this instanceof h){if(g instanceof Float32Array){if(g.length>f)throw glm.$outer.console.error(b+" elements size mismatch: "+["wanted:"+f,"handed:"+g.length]),g=g.subarray(0,f),Error(b+" elements size mismatch: "+["wanted:"+f,"handed:"+g.length]);elements=g}else(elements=new Float32Array(f)).set(l.apply(d,arguments));Object.defineProperty(this,
"elements",{enumerable:!1,configurable:!0,value:elements})}else return new h(l.apply(d,arguments))};h.$=d;h.componentLength=f;h.BYTES_PER_ELEMENT=f*Float32Array.BYTES_PER_ELEMENT;h.toString=function(){return"function GLM."+b+"(){ [ GLMType ] }"};h.prototype={$type:b,$typeName:d.name||"<"+b+">",$len:f,constructor:h,clone:function(){return new h(this)},toString:function(){return d.to_string(this)},byteLength:h.BYTES_PER_ELEMENT,componentLength:h.componentLength,get address(){var b=this.elements.byteOffset.toString(16);
return"0x00000000".substr(0,10-b.length)+b}};return h}};
GLM.$template.functions({mix:{"float,float":function(b,d,f){return d*f+b*(1-f)},"vec<N>,vec<N>":function(b,d,f){if(void 0===f)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");b=glm.$to_array(b);d=glm.$to_array(d);var h=1-f;return new glm.vecN(b.map(function(b,m){return d[m]*f+b*h}))}},clamp:{"float,float":function(b,d,f){return GLM._clamp(b,d,f)},"vec<N>,float":function(b,d,f){return new GLM.vecN(GLM.$to_array(b).map(function(b){return GLM._clamp(b,d,f)}))}}});
GLM.degrees=GLM.$template.calculators({degrees:{"float":function(b){return GLM._degrees(b)},"vec<N>":function(b){return new GLM.vecN(GLM.$to_array(b).map(GLM._degrees))}}}).degrees;GLM.radians=GLM.$template.calculators({radians:{"float":function(b){return GLM._radians(b)},"vec<N>":function(b){return new GLM.vecN(GLM.$to_array(b).map(GLM._radians))}}}).radians;
GLM.to_glsl=GLM.$template.calculators({to_glsl:{"vec<N>":function(b){for(var d=GLM.$to_array(b);d.length&&d[d.length-2]===d[d.length-1];)d.pop();return b.$type+"("+d+")"},uvec4:function(b){return this.vec4(b)},quat:function(b){return 0===b.x+b.y+b.z?"quat("+b.w+")":"quat("+GLM.$to_array(b)+")"},mat3:function(b){b=GLM.$to_array(b);return b.reduce(function(b,f){return b+f},0)===3*b[0]?"mat3("+b[0]+")":"mat3("+b+")"},mat4:function(b){b=GLM.$to_array(b);return b.reduce(function(b,f){return b+f},0)===
4*b[0]?"mat4("+b[0]+")":"mat4("+b+")"}}}).to_glsl;GLM.from_glsl=function(b){var d;b.replace(/^(\w+)\(([-.0-9ef, ]+)\)$/,function(b,h,g){d=glm[h].apply(glm,g.split(",").map(parseFloat))});return d};GLM.$template.override("<T,V>","copy",{op:"=","mat4,mat4":function(b,d){b.elements.set(d.elements);return b},"mat3,mat3":function(b,d){b.elements.set(d.elements);return b},"quat,quat":function(b,d){b.elements.set(d.elements);return b},"vec<N>,vec<N>":function(b,d){b.elements.set(d.elements);return b}},GLM.$outer.functions);
GLM.$template.override("<T,V>","sub",{op:"-","vec<N>,vec<N>":function(b,d){new Float32Array(N);return new glm.vecN(glm.$to_array(b).map(function(b,h){return b-d[h]}))}},GLM.$outer.functions);GLM.$template.override("<T,V>","add",{op:"+","vec<N>,vec<N>":function(b,d){new Float32Array(N);return new glm.vecN(glm.$to_array(b).map(function(b,h){return b+d[h]}))}},GLM.$outer.functions);GLM.string={$typeName:"string",$:{to_string:function(b){return b}}};
GLM.number={$typeName:"float",$:{to_string:function(b,d){return GLM.$toString("float",{value:b},["value"],d)}}};
GLM.vec2=GLM_template.GLMType("vec2",{name:"fvec2",identity:[0,0],undefined0:function(){return this.identity},number1:function(b){return[b,b]},number2:function(b,d){return[b,d]},object1:function(b){switch(b.length){case 4:case 3:case 2:return[b[0],b[1]];default:if("y"in b&&"x"in b){if(typeof b.x!==typeof b.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+b);return[b.x,b.y]}}throw new GLMJSError("unrecognized object passed to GLM.vec2: "+b);},to_string:function(b,d){return GLM.$toString(b.$typeName,
b,["x","y"],d)}});
GLM.vec3=GLM_template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],undefined0:function(){return GLM.vec3.$.identity},number1:function(b){return[b,b,b]},number2:function(b,d){return[b,d,d]},number3:function(b,d,f){return[b,d,f]},object1:function(b){switch(b.length){case 4:case 3:return[b[0],b[1],b[2]];case 2:return[b[0],b[1],b[1]];default:if("z"in b&&"x"in b){if(typeof b.x!==typeof b.y)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+b);return[b.x,b.y,b.z]}}throw new GLMJSError("unrecognized object passed to GLM.vec3: "+b);
},object2:function(b,d){if(b instanceof GLM.vec2)return[b.x,b.y,d];throw new GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[b,d]);},to_string:function(b,d){return GLM.$toString(b.$typeName,b,["x","y","z"],d)}});
GLM.vec4=GLM_template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],undefined0:function(){return this.identity},number1:function(b){return[b,b,b,b]},number2:function(b,d){return[b,d,d,d]},number3:function(b,d,f){return[b,d,f,f]},number4:function(b,d,f,h){return[b,d,f,h]},object1:function(b){switch(b.length){case 4:return[b[0],b[1],b[2],b[3]];case 3:return[b[0],b[1],b[2],b[2]];case 2:return[b[0],b[1],b[1],b[1]];default:if("w"in b&&"x"in b){if(typeof b.x!==typeof b.w)throw new GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+
b);return[b.x,b.y,b.z,b.w]}}throw new GLMJSError("unrecognized object passed to GLM.vec4: "+[b,b.$type]);},object2:function(b,d){if(b instanceof GLM.vec3)return[b.x,b.y,b.z,d];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[b,d]);},object3:function(b,d,f){if(b instanceof GLM.vec2)return[b.x,b.y,d,f];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[b,d,f]);},to_string:function(b,d){return GLM.$toString(b.$typeName,b,["x","y","z","w"],d)}});
GLM.uvec4=GLM_template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],_clamp:function(b){return~~glm._clamp(b,0,Infinity)},undefined0:function(){return this.identity},number1:function(b){b=this._clamp(b);return[b,b,b,b]},number2:function(b,d){b=this._clamp(b);d=this._clamp(d);return[b,d,d,d]},number3:function(b,d,f){b=this._clamp(b);d=this._clamp(d);f=this._clamp(f);return[b,d,f,f]},number4:function(b,d,f,h){return[b,d,f,h].map(this._clamp)},object1:function(b){switch(b.length){case 4:return[b[0],
b[1],b[2],b[3]].map(this._clamp);case 3:return[b[0],b[1],b[2],b[2]].map(this._clamp);case 2:return[b[0],b[1],b[1],b[1]].map(this._clamp);default:if("w"in b&&"x"in b)return[b.x,b.y,b.z,b.w].map(this._clamp)}throw new GLMJSError("unrecognized object passed to GLM.uvec4: "+[b,b.$type]);},object2:function(b,d){if(b instanceof GLM.vec3)return[b.x,b.y,b.z,d].map(this._clamp);throw new GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+[b,d]);},to_string:function(b){return b.$typeName+"("+glm.$to_array(b)+
")"}});
GLM.mat3=GLM_template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(b){return 1===b?this.identity:[b,0,0,0,b,0,0,0,b]},number9:function(){return arguments},object1:function(b){var d=b.elements||b;if(16===d.length)return[d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]];if(9===d.length)return d;throw new GLMJSError("unrecognized object passed to GLM.mat3: "+b);},to_string:function(b,d){var f=[0,1,2].map(function(d){return b[d]}).map(function(b){return GLM.$toString("\t",b,
["x","y","z"],d)});return b.$typeName+"(\n"+f.join(", \n")+"\n)"}});
GLM.mat4=GLM_template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(){return arguments},number1:function(b){return 1===b?this.identity:[b,0,0,0,0,b,0,0,0,0,b,0,0,0,0,b]},object1:function(b){if(b instanceof GLM.quat||"quat"===b.$type)return GLM.$outer.mat4_array_from_quat(b);var d=b.elements||b;if(9===d.length)return[d[0],d[1],d[2],0,d[3],d[4],d[5],0,d[6],d[7],d[8],0,0,0,0,1];if(16!==d.length)throw new GLMJSError("unrecognized object passed to GLM.mat4: "+
[b,d.length]);return d},to_string:function(b,d){var f=[0,1,2,3].map(function(d){return b[d]}).map(function(b){return GLM.$toString("\t",b,["x","y","z","w"],d)});return b.$typeName+"(\n"+f.join(", \n")+"\n)"}});
GLM.quat=GLM_template.GLMType("quat",{identity:[0,0,0,1],undefined0:function(){return this.identity},number1:function(b){if(1!==b)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(b,d,f,h){return[d,f,h,b]},object1:function(b){if(b instanceof GLM.mat4)return GLM.$outer.quat_array_from_mat4(b);if(4===b.length)return b;if(b instanceof GLM.quat)return[b.x,b.y,b.z,b.w];if(b instanceof GLM.vec3)return GLM.$outer.quat_array_from_zyx(b);if("w"in
b&&"x"in b)return[b.x,b.y,b.z,b.w];throw new GLMJSError("unrecognized object passed to GLM.quat.object1: "+[b,b.$type,typeof b,b.constructor]);},to_string:function(b,d){b=GLM.degrees(GLM.eulerAngles(b));return GLM.$toString("<quat>"+b.$typeName,b,["x","y","z"],d)}});
(function(){var b=function(b,d,g){var m=[0,1,2,3].map(function(b){return{enumerable:g,get:function(){return this.elements[b]},set:function(d){this.elements[b]=d}}});d.forEach(function(d,g){Object.defineProperty(b.prototype,d,m[g])});if(isNaN(d[0])&&!/^_/.test(d[0])){do(function(d,g,h){Object.defineProperty(b.prototype,d,{enumerable:!1,get:function(){return new GLM[g](this.elements.subarray(0*h,1*h))}})})(d.join(""),"vec"+d.length,d.length);while(d[1]!=d.pop())}};b(GLM.vec2,["x","y"],!0);b(GLM.vec3,
["x","y","z"],!0);b(GLM.vec3,["r","g","b"]);b(GLM.vec4,["x","y","z","w"],!0);b(GLM.vec4,["r","g","b","a"]);b(GLM.quat,["x","y","z","w"],!0);b(GLM.uvec4,["x","y","z","w"],!0);b(GLM.uvec4,["0","1","2","3"]);Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});[2,3,4].forEach(function(d){d=GLM["vec"+d];b(d,d.$.identity.map(function(b,d){return d}))});var d=Float32Array.BYTES_PER_ELEMENT;GLM.$partition=function(b,h,g,m){if(void 0===g)throw new GLMJSError("nrows is undefined");
var l=h.$.identity.length;g=g||l;for(var i=d*l,v=0;v<g;v++)(function(d){var g=d*i,s=m&&m+d,q=d*l;Object.defineProperty(b,d,{configurable:!0,enumerable:!0,set:function(g){if(g instanceof h)this.elements.set(g.elements,q);else if(g&&g.length===l)this.elements.set(g,q);else throw new GLMJSError("unsupported argtype to "+(b&&b.$type)+"["+d+"] setter: "+[typeof g,g]);},get:function(){if(m){if(this[s])return d||GLM.$outer.console.debug("CACHEDBG: cache hit "+s),Object.defineProperty(this,d,{configurable:!0,
enumerable:!1,value:this[s]}),this[s];d||GLM.$outer.console.debug("CACHEDBG: cache miss "+s)}var b,f=new h(b=new Float32Array(this.elements.buffer,this.elements.byteOffset+g,l));if(f.elements!==b)throw 5;m&&Object.defineProperty(this,s,{configurable:!0,enumerable:!1,value:f});return f}})})(v)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();
GLM.$dumpTypes=function(b){for(var d in GLM)GLM[d].componentLength&&b("GLM."+d,JSON.stringify({"#type":GLM[d].prototype.$typeName,"#floats":GLM[d].componentLength,"#bytes":GLM[d].BYTES_PER_ELEMENT}))};
GLM.$init=function(b){b.prefix&&(GLMJS_PREFIX=b.prefix);var d=b.log||function(){};try{d("GLM-js: ENV: "+_ENV._VERSION)}catch(f){}d("GLM-JS: initializing: "+JSON.stringify(b,0,2));d(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));GLM.$outer.vec3_eulerAngles=GLM.$outer.vec3_eulerAngles||GLM.$outer._vec3_eulerAngles;GLM.$symbols=[];GLM.$types=[];for(var h in GLM)"function"===typeof GLM[h]&&(/^[a-z]/.test(h)&&GLM.$symbols.push(h),"$"in GLM[h]&&GLM.$types.push(h));GLM.$types.forEach(function(b){for(var d in GLM.$outer.functions){var f=
GLM.$outer.functions[d];f.op&&(GLM[b].prototype[d]=f,GLM[b].prototype[f.op]=f)}});d("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+b.vendor_name+" vendor_version="+b.vendor_version);glm.vendor=b};
GLM.using_namespace=function(b){GLM.$outer.console.warn("GLM.using_namespace munges globals; it should not be used!");var d=[],f=GLM.$symbols,h=f.filter(function(b){return eval("1, 'undefined' !== typeof "+b)});f.map(function(b){var f="GLM.using_namespace."+b+"=undefined;delete GLM.using_namespace."+b+";";try{GLM.using_namespace[b]=eval("1,"+b),d.push(new Function("",b+"=GLM.using_namespace."+b+";"+f))}catch(h){d.push(new Function("",b+"=undefined;delete "+b+";"+f))}eval(b+"=GLM."+b)});b();d.map(function(b){b()});
b=f.filter(function(b){return eval("1, 'undefined' !== typeof "+b)});if(h.length!==b.length)throw Error(JSON.stringify({before:h,after:b,usn:Object.keys(GLM.using_namespace)}));};try{module.exports=GLM}catch(e$$17){}GLMAT.mat4.exists;glm=GLM;
var DLL={_version:"0.0.1",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix",statics:{mat4_perspective:function(b,d,f,h){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),b,d,f,h))},mat4_angleAxis:function(b,d){var f=GLMAT.quat.setAxisAngle(new Float32Array(4),d,b);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),f))},quat_angleAxis:function(b,d){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),
d,b))},mat4_translation:function(b){var d=new glm.mat4;GLMAT.mat4.translate(d.elements,d.elements,b.elements);return d},mat4_scale:function(b){var d=new glm.mat4;GLMAT.mat4.scale(d.elements,d.elements,b.elements);return d},vec3_eulerAngles:function(b){var d=new Float32Array(16);GLMAT.mat4.fromQuat(d,b.elements);b=d[0];var f=d[4],h=d[1],g=d[5],m=d[2],l=d[6],d=d[10],i=new glm.vec3;i.y=Math.asin(-glm.clamp(m,-1,1));0.99999>Math.abs(m)?(i.x=Math.atan2(l,d),i.z=Math.atan2(h,b)):(i.x=0,i.z=Math.atan2(-f,
g));return i},mat4_array_from_quat:function(b){return GLMAT.mat4.fromQuat(new Float32Array(16),b.elements)},quat_array_from_mat4:function(b){b=GLMAT.mat3.fromMat4(new Float32Array(9),b.elements);return GLMAT.quat.fromMat3(new Float32Array(4),b)}},operations:{mul:{op:"*","quat,vec3":function(b,d){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),d.elements,b.elements))},"vec3,quat":function(b,d){return this["quat,vec3"](d,b)},"vec4,quat":function(b,d){return new glm.vec4(this["quat,vec3"](d,
b),1)},"vec<N>,float":function(b,d){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),b.elements,d))},"mat4,vec4":function(b,d){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),d.elements,b.elements))},"mat4,mat4":function(b,d){return new glm.mat4(GLMAT.mat4.mul(new Float32Array(16),b.elements,d.elements))},"quat,quat":function(b,d){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),b.elements,d.elements))}},mul_eq:{op:"*=","mat4,mat4":function(b,d){GLMAT.mat4.multiply(b.elements,
b.elements,d.elements);return b},"vec<N>,float":function(b,d){return GLMAT.vecN.scale(b,b,d)},"quat,quat":function(b,d){GLMAT.quat.multiply(b.elements,b.elements,d.elements);return b}}},functions:{mix:{"quat,quat":function(b,d,f){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),b.elements,d.elements,f))}}},calculators:{normalize:{"vec<N>":function(b){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),b))},quat:function(b){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),
b.elements))}},length:{quat:function(b){return GLMAT.quat.length(b.elements)},"vec<N>":function(b){return GLMAT.vecN.length(b.elements)}},length2:{quat:function(b){return GLMAT.quat.squaredLength(b.elements)},"vec<N>":function(b){return GLMAT.vecN.squaredLength(b.elements)}},inverse:{quat:function(b){return new glm.quat(GLMAT.quat.invert(new Float32Array(4),b.elements))},mat4:function(b){return new glm.mat4(GLMAT.mat4.invert(new Float32Array(16),b.elements))}},transpose:{mat4:function(b){return new glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),
b.elements))}}}};glm.$outer.import(DLL);try{module.exports=glm}catch(e$$18){};
