glm = (function glmjs_scope(g) { var GLMJS_PREFIX, $GLM_reset_logging;
GLMAT={};GLMAT_VERSION="2.2.2";
(function(a){a.VERSION=GLMAT_VERSION;if(!b)var b=1E-6;if(!d)var d="undefined"!==typeof Float32Array?Float32Array:Array;if(!e)var e=Math.random;var f={setMatrixArrayType:function(c){d=c}};"undefined"!==typeof a&&(a.glMatrix=f);var i=Math.PI/180;f.toRadian=function(c){return c*i};f={create:function(){var c=new d(2);c[0]=0;c[1]=0;return c},clone:function(c){var j=new d(2);j[0]=c[0];j[1]=c[1];return j},fromValues:function(c,j){var a=new d(2);a[0]=c;a[1]=j;return a},copy:function(c,j){c[0]=j[0];c[1]=j[1];
return c},set:function(c,j,a){c[0]=j;c[1]=a;return c},add:function(c,j,a){c[0]=j[0]+a[0];c[1]=j[1]+a[1];return c},subtract:function(c,j,a){c[0]=j[0]-a[0];c[1]=j[1]-a[1];return c}};f.sub=f.subtract;f.multiply=function(c,j,a){c[0]=j[0]*a[0];c[1]=j[1]*a[1];return c};f.mul=f.multiply;f.divide=function(c,j,a){c[0]=j[0]/a[0];c[1]=j[1]/a[1];return c};f.div=f.divide;f.min=function(c,j,a){c[0]=Math.min(j[0],a[0]);c[1]=Math.min(j[1],a[1]);return c};f.max=function(c,j,a){c[0]=Math.max(j[0],a[0]);c[1]=Math.max(j[1],
a[1]);return c};f.scale=function(c,j,a){c[0]=j[0]*a;c[1]=j[1]*a;return c};f.scaleAndAdd=function(c,j,a,b){c[0]=j[0]+a[0]*b;c[1]=j[1]+a[1]*b;return c};f.distance=function(c,j){var a=j[0]-c[0],b=j[1]-c[1];return Math.sqrt(a*a+b*b)};f.dist=f.distance;f.squaredDistance=function(c,j){var a=j[0]-c[0],b=j[1]-c[1];return a*a+b*b};f.sqrDist=f.squaredDistance;f.length=function(c){var j=c[0];c=c[1];return Math.sqrt(j*j+c*c)};f.len=f.length;f.squaredLength=function(c){var j=c[0];c=c[1];return j*j+c*c};f.sqrLen=
f.squaredLength;f.negate=function(c,j){c[0]=-j[0];c[1]=-j[1];return c};f.inverse=function(c,j){c[0]=1/j[0];c[1]=1/j[1];return c};f.normalize=function(c,j){var a=j[0],b=j[1],a=a*a+b*b;0<a&&(a=1/Math.sqrt(a),c[0]=j[0]*a,c[1]=j[1]*a);return c};f.dot=function(c,j){return c[0]*j[0]+c[1]*j[1]};f.cross=function(c,j,a){j=j[0]*a[1]-j[1]*a[0];c[0]=c[1]=0;c[2]=j;return c};f.lerp=function(c,j,a,b){var m=j[0];j=j[1];c[0]=m+b*(a[0]-m);c[1]=j+b*(a[1]-j);return c};f.random=function(c,j){j=j||1;var a=2*e()*Math.PI;
c[0]=Math.cos(a)*j;c[1]=Math.sin(a)*j;return c};f.transformMat2=function(c,j,a){var b=j[0];j=j[1];c[0]=a[0]*b+a[2]*j;c[1]=a[1]*b+a[3]*j;return c};f.transformMat2d=function(c,j,a){var b=j[0];j=j[1];c[0]=a[0]*b+a[2]*j+a[4];c[1]=a[1]*b+a[3]*j+a[5];return c};f.transformMat3=function(c,j,a){var b=j[0];j=j[1];c[0]=a[0]*b+a[3]*j+a[6];c[1]=a[1]*b+a[4]*j+a[7];return c};f.transformMat4=function(c,j,a){var b=j[0];j=j[1];c[0]=a[0]*b+a[4]*j+a[12];c[1]=a[1]*b+a[5]*j+a[13];return c};var l=f.create();f.forEach=function(c,
j,a,b,m,E){j||(j=2);a||(a=0);for(b=b?Math.min(b*j+a,c.length):c.length;a<b;a+=j)l[0]=c[a],l[1]=c[a+1],m(l,l,E),c[a]=l[0],c[a+1]=l[1];return c};f.str=function(c){return"vec2("+c[0]+", "+c[1]+")"};"undefined"!==typeof a&&(a.vec2=f);var g={create:function(){var c=new d(3);c[0]=0;c[1]=0;c[2]=0;return c},clone:function(c){var j=new d(3);j[0]=c[0];j[1]=c[1];j[2]=c[2];return j},fromValues:function(c,j,a){var b=new d(3);b[0]=c;b[1]=j;b[2]=a;return b},copy:function(c,j){c[0]=j[0];c[1]=j[1];c[2]=j[2];return c},
set:function(c,j,a,b){c[0]=j;c[1]=a;c[2]=b;return c},add:function(c,j,a){c[0]=j[0]+a[0];c[1]=j[1]+a[1];c[2]=j[2]+a[2];return c},subtract:function(c,j,a){c[0]=j[0]-a[0];c[1]=j[1]-a[1];c[2]=j[2]-a[2];return c}};g.sub=g.subtract;g.multiply=function(c,j,a){c[0]=j[0]*a[0];c[1]=j[1]*a[1];c[2]=j[2]*a[2];return c};g.mul=g.multiply;g.divide=function(c,j,a){c[0]=j[0]/a[0];c[1]=j[1]/a[1];c[2]=j[2]/a[2];return c};g.div=g.divide;g.min=function(c,j,a){c[0]=Math.min(j[0],a[0]);c[1]=Math.min(j[1],a[1]);c[2]=Math.min(j[2],
a[2]);return c};g.max=function(c,j,a){c[0]=Math.max(j[0],a[0]);c[1]=Math.max(j[1],a[1]);c[2]=Math.max(j[2],a[2]);return c};g.scale=function(c,j,a){c[0]=j[0]*a;c[1]=j[1]*a;c[2]=j[2]*a;return c};g.scaleAndAdd=function(c,j,a,b){c[0]=j[0]+a[0]*b;c[1]=j[1]+a[1]*b;c[2]=j[2]+a[2]*b;return c};g.distance=function(c,j){var a=j[0]-c[0],b=j[1]-c[1],m=j[2]-c[2];return Math.sqrt(a*a+b*b+m*m)};g.dist=g.distance;g.squaredDistance=function(c,j){var a=j[0]-c[0],b=j[1]-c[1],m=j[2]-c[2];return a*a+b*b+m*m};g.sqrDist=
g.squaredDistance;g.length=function(c){var j=c[0],a=c[1];c=c[2];return Math.sqrt(j*j+a*a+c*c)};g.len=g.length;g.squaredLength=function(c){var j=c[0],a=c[1];c=c[2];return j*j+a*a+c*c};g.sqrLen=g.squaredLength;g.negate=function(c,j){c[0]=-j[0];c[1]=-j[1];c[2]=-j[2];return c};g.inverse=function(c,j){c[0]=1/j[0];c[1]=1/j[1];c[2]=1/j[2];return c};g.normalize=function(c,j){var a=j[0],b=j[1],m=j[2],a=a*a+b*b+m*m;0<a&&(a=1/Math.sqrt(a),c[0]=j[0]*a,c[1]=j[1]*a,c[2]=j[2]*a);return c};g.dot=function(c,j){return c[0]*
j[0]+c[1]*j[1]+c[2]*j[2]};g.cross=function(c,j,a){var b=j[0],m=j[1];j=j[2];var E=a[0],d=a[1];a=a[2];c[0]=m*a-j*d;c[1]=j*E-b*a;c[2]=b*d-m*E;return c};g.lerp=function(c,a,L,b){var m=a[0],d=a[1];a=a[2];c[0]=m+b*(L[0]-m);c[1]=d+b*(L[1]-d);c[2]=a+b*(L[2]-a);return c};g.random=function(c,a){a=a||1;var L=2*e()*Math.PI,b=2*e()-1,m=Math.sqrt(1-b*b)*a;c[0]=Math.cos(L)*m;c[1]=Math.sin(L)*m;c[2]=b*a;return c};g.transformMat4=function(c,a,b){var h=a[0],m=a[1];a=a[2];var d=b[3]*h+b[7]*m+b[11]*a+b[15],d=d||1;c[0]=
(b[0]*h+b[4]*m+b[8]*a+b[12])/d;c[1]=(b[1]*h+b[5]*m+b[9]*a+b[13])/d;c[2]=(b[2]*h+b[6]*m+b[10]*a+b[14])/d;return c};g.transformMat3=function(c,a,b){var h=a[0],m=a[1];a=a[2];c[0]=h*b[0]+m*b[3]+a*b[6];c[1]=h*b[1]+m*b[4]+a*b[7];c[2]=h*b[2]+m*b[5]+a*b[8];return c};g.transformQuat=function(c,a,b){var h=a[0],m=a[1],d=a[2];a=b[0];var F=b[1],e=b[2];b=b[3];var f=b*h+F*d-e*m,D=b*m+e*h-a*d,g=b*d+a*m-F*h,h=-a*h-F*m-e*d;c[0]=f*b+h*-a+D*-e-g*-F;c[1]=D*b+h*-F+g*-a-f*-e;c[2]=g*b+h*-e+f*-F-D*-a;return c};g.rotateX=
function(c,a,b,h){var m=[],d=[];m[0]=a[0]-b[0];m[1]=a[1]-b[1];m[2]=a[2]-b[2];d[0]=m[0];d[1]=m[1]*Math.cos(h)-m[2]*Math.sin(h);d[2]=m[1]*Math.sin(h)+m[2]*Math.cos(h);c[0]=d[0]+b[0];c[1]=d[1]+b[1];c[2]=d[2]+b[2];return c};g.rotateY=function(c,a,b,h){var m=[],d=[];m[0]=a[0]-b[0];m[1]=a[1]-b[1];m[2]=a[2]-b[2];d[0]=m[2]*Math.sin(h)+m[0]*Math.cos(h);d[1]=m[1];d[2]=m[2]*Math.cos(h)-m[0]*Math.sin(h);c[0]=d[0]+b[0];c[1]=d[1]+b[1];c[2]=d[2]+b[2];return c};g.rotateZ=function(c,a,b,h){var m=[],d=[];m[0]=a[0]-
b[0];m[1]=a[1]-b[1];m[2]=a[2]-b[2];d[0]=m[0]*Math.cos(h)-m[1]*Math.sin(h);d[1]=m[0]*Math.sin(h)+m[1]*Math.cos(h);d[2]=m[2];c[0]=d[0]+b[0];c[1]=d[1]+b[1];c[2]=d[2]+b[2];return c};var p=g.create();g.forEach=function(c,a,b,h,m,d){a||(a=3);b||(b=0);for(h=h?Math.min(h*a+b,c.length):c.length;b<h;b+=a)p[0]=c[b],p[1]=c[b+1],p[2]=c[b+2],m(p,p,d),c[b]=p[0],c[b+1]=p[1],c[b+2]=p[2];return c};g.str=function(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"};"undefined"!==typeof a&&(a.vec3=g);var k={create:function(){var c=
new d(4);c[0]=0;c[1]=0;c[2]=0;c[3]=0;return c},clone:function(c){var a=new d(4);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},fromValues:function(c,a,b,h){var m=new d(4);m[0]=c;m[1]=a;m[2]=b;m[3]=h;return m},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},set:function(c,a,b,h,m){c[0]=a;c[1]=b;c[2]=h;c[3]=m;return c},add:function(c,a,b){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];
c[3]=a[3]-b[3];return c}};k.sub=k.subtract;k.multiply=function(c,a,b){c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c};k.mul=k.multiply;k.divide=function(c,a,b){c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c};k.div=k.divide;k.min=function(c,a,b){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c};k.max=function(c,a,b){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=
Math.max(a[3],b[3]);return c};k.scale=function(c,a,b){c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};k.scaleAndAdd=function(c,a,b,h){c[0]=a[0]+b[0]*h;c[1]=a[1]+b[1]*h;c[2]=a[2]+b[2]*h;c[3]=a[3]+b[3]*h;return c};k.distance=function(c,a){var b=a[0]-c[0],h=a[1]-c[1],m=a[2]-c[2],d=a[3]-c[3];return Math.sqrt(b*b+h*h+m*m+d*d)};k.dist=k.distance;k.squaredDistance=function(c,a){var b=a[0]-c[0],h=a[1]-c[1],m=a[2]-c[2],d=a[3]-c[3];return b*b+h*h+m*m+d*d};k.sqrDist=k.squaredDistance;k.length=function(c){var a=
c[0],b=c[1],h=c[2];c=c[3];return Math.sqrt(a*a+b*b+h*h+c*c)};k.len=k.length;k.squaredLength=function(c){var a=c[0],b=c[1],h=c[2];c=c[3];return a*a+b*b+h*h+c*c};k.sqrLen=k.squaredLength;k.negate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=-a[3];return c};k.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];c[3]=1/a[3];return c};k.normalize=function(c,a){var b=a[0],h=a[1],m=a[2],d=a[3],b=b*b+h*h+m*m+d*d;0<b&&(b=1/Math.sqrt(b),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b);return c};
k.dot=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]};k.lerp=function(c,a,b,h){var m=a[0],d=a[1],F=a[2];a=a[3];c[0]=m+h*(b[0]-m);c[1]=d+h*(b[1]-d);c[2]=F+h*(b[2]-F);c[3]=a+h*(b[3]-a);return c};k.random=function(c,a){a=a||1;c[0]=e();c[1]=e();c[2]=e();c[3]=e();k.normalize(c,c);k.scale(c,c,a);return c};k.transformMat4=function(c,a,b){var h=a[0],d=a[1],E=a[2];a=a[3];c[0]=b[0]*h+b[4]*d+b[8]*E+b[12]*a;c[1]=b[1]*h+b[5]*d+b[9]*E+b[13]*a;c[2]=b[2]*h+b[6]*d+b[10]*E+b[14]*a;c[3]=b[3]*h+b[7]*d+
b[11]*E+b[15]*a;return c};k.transformQuat=function(c,a,b){var h=a[0],d=a[1],E=a[2];a=b[0];var F=b[1],e=b[2];b=b[3];var f=b*h+F*E-e*d,D=b*d+e*h-a*E,g=b*E+a*d-F*h,h=-a*h-F*d-e*E;c[0]=f*b+h*-a+D*-e-g*-F;c[1]=D*b+h*-F+g*-a-f*-e;c[2]=g*b+h*-e+f*-F-D*-a;return c};var s=k.create();k.forEach=function(c,a,b,h,d,E){a||(a=4);b||(b=0);for(h=h?Math.min(h*a+b,c.length):c.length;b<h;b+=a)s[0]=c[b],s[1]=c[b+1],s[2]=c[b+2],s[3]=c[b+3],d(s,s,E),c[b]=s[0],c[b+1]=s[1],c[b+2]=s[2],c[b+3]=s[3];return c};k.str=function(c){return"vec4("+
c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};"undefined"!==typeof a&&(a.vec4=k);f={create:function(){var c=new d(4);c[0]=1;c[1]=0;c[2]=0;c[3]=1;return c},clone:function(c){var a=new d(4);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;return c},transpose:function(c,a){if(c===a){var b=a[1];c[1]=a[2];c[2]=b}else c[0]=a[0],c[1]=a[2],c[2]=a[1],c[3]=a[3];return c},invert:function(c,a){var b=
a[0],h=a[1],d=a[2],E=a[3],e=b*E-d*h;if(!e)return null;e=1/e;c[0]=E*e;c[1]=-h*e;c[2]=-d*e;c[3]=b*e;return c},adjoint:function(c,a){var b=a[0];c[0]=a[3];c[1]=-a[1];c[2]=-a[2];c[3]=b;return c},determinant:function(c){return c[0]*c[3]-c[2]*c[1]},multiply:function(c,a,b){var h=a[0],d=a[1],e=a[2];a=a[3];var F=b[0],f=b[1],r=b[2];b=b[3];c[0]=h*F+e*f;c[1]=d*F+a*f;c[2]=h*r+e*b;c[3]=d*r+a*b;return c}};f.mul=f.multiply;f.rotate=function(c,a,b){var h=a[0],d=a[1],e=a[2];a=a[3];var f=Math.sin(b);b=Math.cos(b);c[0]=
h*b+e*f;c[1]=d*b+a*f;c[2]=h*-f+e*b;c[3]=d*-f+a*b;return c};f.scale=function(c,a,b){var h=a[1],d=a[2],e=a[3],f=b[0];b=b[1];c[0]=a[0]*f;c[1]=h*f;c[2]=d*b;c[3]=e*b;return c};f.str=function(c){return"mat2("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};f.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2))};f.LDU=function(c,a,b,h){c[2]=h[2]/h[0];b[0]=h[0];b[1]=h[1];b[3]=h[3]-c[2]*b[1];return[c,a,b]};"undefined"!==typeof a&&(a.mat2=f);f={create:function(){var c=
new d(6);c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c},clone:function(c){var a=new d(6);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c},identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c},invert:function(c,a){var b=a[0],h=a[1],d=a[2],e=a[3],f=a[4],A=a[5],r=b*e-h*d;if(!r)return null;r=1/r;c[0]=e*r;c[1]=-h*r;c[2]=-d*r;c[3]=b*r;c[4]=(d*A-e*f)*r;c[5]=(h*f-b*A)*r;return c},
determinant:function(c){return c[0]*c[3]-c[1]*c[2]},multiply:function(c,a,b){var h=a[0],d=a[1],e=a[2],f=a[3],A=a[4];a=a[5];var r=b[0],D=b[1],g=b[2],n=b[3],i=b[4];b=b[5];c[0]=h*r+e*D;c[1]=d*r+f*D;c[2]=h*g+e*n;c[3]=d*g+f*n;c[4]=h*i+e*b+A;c[5]=d*i+f*b+a;return c}};f.mul=f.multiply;f.rotate=function(c,a,b){var h=a[0],d=a[1],e=a[2],f=a[3],A=a[4];a=a[5];var r=Math.sin(b);b=Math.cos(b);c[0]=h*b+e*r;c[1]=d*b+f*r;c[2]=h*-r+e*b;c[3]=d*-r+f*b;c[4]=A;c[5]=a;return c};f.scale=function(c,a,b){var h=a[1],d=a[2],
e=a[3],f=a[4],A=a[5],r=b[0];b=b[1];c[0]=a[0]*r;c[1]=h*r;c[2]=d*b;c[3]=e*b;c[4]=f;c[5]=A;return c};f.translate=function(c,a,b){var h=a[0],d=a[1],e=a[2],f=a[3],A=a[4];a=a[5];var r=b[0];b=b[1];c[0]=h;c[1]=d;c[2]=e;c[3]=f;c[4]=h*r+e*b+A;c[5]=d*r+f*b+a;return c};f.str=function(c){return"mat2d("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+")"};f.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2)+Math.pow(c[4],2)+Math.pow(c[5],2)+1)};"undefined"!==
typeof a&&(a.mat2d=f);f={create:function(){var c=new d(9);c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c},fromMat4:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[4];c[4]=a[5];c[5]=a[6];c[6]=a[8];c[7]=a[9];c[8]=a[10];return c},clone:function(c){var a=new d(9);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a},copy:function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},
identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c},transpose:function(c,a){if(c===a){var b=a[1],d=a[2],m=a[5];c[1]=a[3];c[2]=a[6];c[3]=b;c[5]=a[7];c[6]=d;c[7]=m}else c[0]=a[0],c[1]=a[3],c[2]=a[6],c[3]=a[1],c[4]=a[4],c[5]=a[7],c[6]=a[2],c[7]=a[5],c[8]=a[8];return c},invert:function(c,a){var b=a[0],d=a[1],m=a[2],e=a[3],f=a[4],A=a[5],r=a[6],D=a[7],g=a[8],n=g*f-A*D,i=-g*e+A*r,l=D*e-f*r,k=b*n+d*i+m*l;if(!k)return null;k=1/k;c[0]=n*k;c[1]=(-g*d+m*D)*k;c[2]=(A*
d-m*f)*k;c[3]=i*k;c[4]=(g*b-m*r)*k;c[5]=(-A*b+m*e)*k;c[6]=l*k;c[7]=(-D*b+d*r)*k;c[8]=(f*b-d*e)*k;return c},adjoint:function(a,b){var d=b[0],h=b[1],m=b[2],e=b[3],f=b[4],A=b[5],r=b[6],g=b[7],i=b[8];a[0]=f*i-A*g;a[1]=m*g-h*i;a[2]=h*A-m*f;a[3]=A*r-e*i;a[4]=d*i-m*r;a[5]=m*e-d*A;a[6]=e*g-f*r;a[7]=h*r-d*g;a[8]=d*f-h*e;return a},determinant:function(a){var b=a[3],d=a[4],h=a[5],m=a[6],e=a[7],f=a[8];return a[0]*(f*d-h*e)+a[1]*(-f*b+h*m)+a[2]*(e*b-d*m)},multiply:function(a,b,d){var h=b[0],m=b[1],e=b[2],f=b[3],
A=b[4],r=b[5],g=b[6],i=b[7];b=b[8];var n=d[0],k=d[1],l=d[2],p=d[3],q=d[4],B=d[5],t=d[6],s=d[7];d=d[8];a[0]=n*h+k*f+l*g;a[1]=n*m+k*A+l*i;a[2]=n*e+k*r+l*b;a[3]=p*h+q*f+B*g;a[4]=p*m+q*A+B*i;a[5]=p*e+q*r+B*b;a[6]=t*h+s*f+d*g;a[7]=t*m+s*A+d*i;a[8]=t*e+s*r+d*b;return a}};f.mul=f.multiply;f.translate=function(a,b,d){var h=b[0],m=b[1],e=b[2],f=b[3],A=b[4],r=b[5],g=b[6],i=b[7];b=b[8];var n=d[0];d=d[1];a[0]=h;a[1]=m;a[2]=e;a[3]=f;a[4]=A;a[5]=r;a[6]=n*h+d*f+g;a[7]=n*m+d*A+i;a[8]=n*e+d*r+b;return a};f.rotate=
function(a,b,d){var h=b[0],m=b[1],e=b[2],f=b[3],g=b[4],r=b[5],D=b[6],i=b[7];b=b[8];var n=Math.sin(d);d=Math.cos(d);a[0]=d*h+n*f;a[1]=d*m+n*g;a[2]=d*e+n*r;a[3]=d*f-n*h;a[4]=d*g-n*m;a[5]=d*r-n*e;a[6]=D;a[7]=i;a[8]=b;return a};f.scale=function(a,b,d){var h=d[0];d=d[1];a[0]=h*b[0];a[1]=h*b[1];a[2]=h*b[2];a[3]=d*b[3];a[4]=d*b[4];a[5]=d*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};f.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};f.fromQuat=
function(a,b){var d=b[0],h=b[1],m=b[2],e=b[3],f=d+d,g=h+h,r=m+m,d=d*f,i=h*f,h=h*g,k=m*f,n=m*g,m=m*r,f=e*f,g=e*g,e=e*r;a[0]=1-h-m;a[3]=i-e;a[6]=k+g;a[1]=i+e;a[4]=1-d-m;a[7]=n-f;a[2]=k-g;a[5]=n+f;a[8]=1-d-h;return a};f.normalFromMat4=function(a,b){var d=b[0],h=b[1],m=b[2],e=b[3],f=b[4],g=b[5],r=b[6],i=b[7],k=b[8],n=b[9],l=b[10],z=b[11],p=b[12],q=b[13],t=b[14],s=b[15],x=d*g-h*f,y=d*r-m*f,v=d*i-e*f,w=h*r-m*g,u=h*i-e*g,H=m*i-e*r,I=k*q-n*p,J=k*t-l*p,k=k*s-z*p,K=n*t-l*q,n=n*s-z*q,l=l*s-z*t,z=x*l-y*n+v*K+
w*k-u*J+H*I;if(!z)return null;z=1/z;a[0]=(g*l-r*n+i*K)*z;a[1]=(r*k-f*l-i*J)*z;a[2]=(f*n-g*k+i*I)*z;a[3]=(m*n-h*l-e*K)*z;a[4]=(d*l-m*k+e*J)*z;a[5]=(h*k-d*n-e*I)*z;a[6]=(q*H-t*u+s*w)*z;a[7]=(t*v-p*H-s*y)*z;a[8]=(p*u-q*v+s*x)*z;return a};f.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],
2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof a&&(a.mat3=f);var t={create:function(){var a=new d(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new d(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=
b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(a===b){var d=b[1],h=b[2],e=b[3],f=b[6],g=b[7],i=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=h;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=i}else a[0]=
b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},invert:function(a,b){var d=b[0],h=b[1],e=b[2],f=b[3],g=b[4],i=b[5],r=b[6],D=b[7],k=b[8],n=b[9],l=b[10],z=b[11],p=b[12],q=b[13],t=b[14],s=b[15],x=d*i-h*g,y=d*r-e*g,v=d*D-f*g,w=h*r-e*i,u=h*D-f*i,H=e*D-f*r,I=k*q-n*p,J=k*t-l*p,K=k*s-z*p,C=n*t-l*q,O=n*s-z*q,P=l*s-z*t,G=x*P-y*O+v*C+w*K-u*J+H*I;if(!G)return null;G=1/G;a[0]=(i*P-r*
O+D*C)*G;a[1]=(e*O-h*P-f*C)*G;a[2]=(q*H-t*u+s*w)*G;a[3]=(l*u-n*H-z*w)*G;a[4]=(r*K-g*P-D*J)*G;a[5]=(d*P-e*K+f*J)*G;a[6]=(t*v-p*H-s*y)*G;a[7]=(k*H-l*v+z*y)*G;a[8]=(g*O-i*K+D*I)*G;a[9]=(h*K-d*O-f*I)*G;a[10]=(p*u-q*v+s*x)*G;a[11]=(n*v-k*u-z*x)*G;a[12]=(i*J-g*C-r*I)*G;a[13]=(d*C-h*J+e*I)*G;a[14]=(q*y-p*w-t*x)*G;a[15]=(k*w-n*y+l*x)*G;return a},adjoint:function(a,b){var d=b[0],h=b[1],e=b[2],f=b[3],g=b[4],i=b[5],r=b[6],k=b[7],l=b[8],n=b[9],p=b[10],q=b[11],t=b[12],s=b[13],B=b[14],u=b[15];a[0]=i*(p*u-q*B)-
n*(r*u-k*B)+s*(r*q-k*p);a[1]=-(h*(p*u-q*B)-n*(e*u-f*B)+s*(e*q-f*p));a[2]=h*(r*u-k*B)-i*(e*u-f*B)+s*(e*k-f*r);a[3]=-(h*(r*q-k*p)-i*(e*q-f*p)+n*(e*k-f*r));a[4]=-(g*(p*u-q*B)-l*(r*u-k*B)+t*(r*q-k*p));a[5]=d*(p*u-q*B)-l*(e*u-f*B)+t*(e*q-f*p);a[6]=-(d*(r*u-k*B)-g*(e*u-f*B)+t*(e*k-f*r));a[7]=d*(r*q-k*p)-g*(e*q-f*p)+l*(e*k-f*r);a[8]=g*(n*u-q*s)-l*(i*u-k*s)+t*(i*q-k*n);a[9]=-(d*(n*u-q*s)-l*(h*u-f*s)+t*(h*q-f*n));a[10]=d*(i*u-k*s)-g*(h*u-f*s)+t*(h*k-f*i);a[11]=-(d*(i*q-k*n)-g*(h*q-f*n)+l*(h*k-f*i));a[12]=
-(g*(n*B-p*s)-l*(i*B-r*s)+t*(i*p-r*n));a[13]=d*(n*B-p*s)-l*(h*B-e*s)+t*(h*p-e*n);a[14]=-(d*(i*B-r*s)-g*(h*B-e*s)+t*(h*r-e*i));a[15]=d*(i*p-r*n)-g*(h*p-e*n)+l*(h*r-e*i);return a},determinant:function(a){var b=a[0],d=a[1],h=a[2],e=a[3],f=a[4],g=a[5],i=a[6],r=a[7],k=a[8],l=a[9],n=a[10],p=a[11],q=a[12],t=a[13],s=a[14];a=a[15];return(b*g-d*f)*(n*a-p*s)-(b*i-h*f)*(l*a-p*t)+(b*r-e*f)*(l*s-n*t)+(d*i-h*g)*(k*a-p*q)-(d*r-e*g)*(k*s-n*q)+(h*r-e*i)*(k*t-l*q)},multiply:function(a,b,d){var h=b[0],e=b[1],f=b[2],
g=b[3],i=b[4],r=b[5],k=b[6],l=b[7],n=b[8],p=b[9],q=b[10],t=b[11],s=b[12],u=b[13],C=b[14];b=b[15];var x=d[0],y=d[1],v=d[2],w=d[3];a[0]=x*h+y*i+v*n+w*s;a[1]=x*e+y*r+v*p+w*u;a[2]=x*f+y*k+v*q+w*C;a[3]=x*g+y*l+v*t+w*b;x=d[4];y=d[5];v=d[6];w=d[7];a[4]=x*h+y*i+v*n+w*s;a[5]=x*e+y*r+v*p+w*u;a[6]=x*f+y*k+v*q+w*C;a[7]=x*g+y*l+v*t+w*b;x=d[8];y=d[9];v=d[10];w=d[11];a[8]=x*h+y*i+v*n+w*s;a[9]=x*e+y*r+v*p+w*u;a[10]=x*f+y*k+v*q+w*C;a[11]=x*g+y*l+v*t+w*b;x=d[12];y=d[13];v=d[14];w=d[15];a[12]=x*h+y*i+v*n+w*s;a[13]=
x*e+y*r+v*p+w*u;a[14]=x*f+y*k+v*q+w*C;a[15]=x*g+y*l+v*t+w*b;return a}};t.mul=t.multiply;t.translate=function(a,b,d){var h=d[0],e=d[1];d=d[2];var f,g,i,r,k,l,n,p,q,t,s,u;b===a?(a[12]=b[0]*h+b[4]*e+b[8]*d+b[12],a[13]=b[1]*h+b[5]*e+b[9]*d+b[13],a[14]=b[2]*h+b[6]*e+b[10]*d+b[14],a[15]=b[3]*h+b[7]*e+b[11]*d+b[15]):(f=b[0],g=b[1],i=b[2],r=b[3],k=b[4],l=b[5],n=b[6],p=b[7],q=b[8],t=b[9],s=b[10],u=b[11],a[0]=f,a[1]=g,a[2]=i,a[3]=r,a[4]=k,a[5]=l,a[6]=n,a[7]=p,a[8]=q,a[9]=t,a[10]=s,a[11]=u,a[12]=f*h+k*e+q*d+
b[12],a[13]=g*h+l*e+t*d+b[13],a[14]=i*h+n*e+s*d+b[14],a[15]=r*h+p*e+u*d+b[15]);return a};t.scale=function(a,b,d){var h=d[0],e=d[1];d=d[2];a[0]=b[0]*h;a[1]=b[1]*h;a[2]=b[2]*h;a[3]=b[3]*h;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};t.rotate=function(a,d,e,h){var f=h[0],g=h[1];h=h[2];var i=Math.sqrt(f*f+g*g+h*h),k,r,l,p,n,q,t,s,u,B,C,x,y,v,w,M,H,I,J,K;if(Math.abs(i)<b)return null;i=1/i;f*=
i;g*=i;h*=i;k=Math.sin(e);r=Math.cos(e);l=1-r;e=d[0];i=d[1];p=d[2];n=d[3];q=d[4];t=d[5];s=d[6];u=d[7];B=d[8];C=d[9];x=d[10];y=d[11];v=f*f*l+r;w=g*f*l+h*k;M=h*f*l-g*k;H=f*g*l-h*k;I=g*g*l+r;J=h*g*l+f*k;K=f*h*l+g*k;f=g*h*l-f*k;g=h*h*l+r;a[0]=e*v+q*w+B*M;a[1]=i*v+t*w+C*M;a[2]=p*v+s*w+x*M;a[3]=n*v+u*w+y*M;a[4]=e*H+q*I+B*J;a[5]=i*H+t*I+C*J;a[6]=p*H+s*I+x*J;a[7]=n*H+u*I+y*J;a[8]=e*K+q*f+B*g;a[9]=i*K+t*f+C*g;a[10]=p*K+s*f+x*g;a[11]=n*K+u*f+y*g;d!==a&&(a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);return a};
t.rotateX=function(a,b,d){var h=Math.sin(d);d=Math.cos(d);var e=b[4],f=b[5],g=b[6],i=b[7],k=b[8],l=b[9],p=b[10],n=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*d+k*h;a[5]=f*d+l*h;a[6]=g*d+p*h;a[7]=i*d+n*h;a[8]=k*d-e*h;a[9]=l*d-f*h;a[10]=p*d-g*h;a[11]=n*d-i*h;return a};t.rotateY=function(a,b,d){var h=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],i=b[3],k=b[8],l=b[9],p=b[10],n=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],
a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d-k*h;a[1]=f*d-l*h;a[2]=g*d-p*h;a[3]=i*d-n*h;a[8]=e*h+k*d;a[9]=f*h+l*d;a[10]=g*h+p*d;a[11]=i*h+n*d;return a};t.rotateZ=function(a,b,d){var h=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],i=b[3],k=b[4],l=b[5],p=b[6],n=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d+k*h;a[1]=f*d+l*h;a[2]=g*d+p*h;a[3]=i*d+n*h;a[4]=k*d-e*h;a[5]=l*d-f*h;a[6]=p*d-g*h;a[7]=n*d-i*h;return a};t.fromRotationTranslation=
function(a,b,d){var h=b[0],e=b[1],f=b[2],g=b[3],i=h+h,k=e+e,l=f+f;b=h*i;var p=h*k,h=h*l,n=e*k,e=e*l,f=f*l,i=g*i,k=g*k,g=g*l;a[0]=1-(n+f);a[1]=p+g;a[2]=h-k;a[3]=0;a[4]=p-g;a[5]=1-(b+f);a[6]=e+i;a[7]=0;a[8]=h+k;a[9]=e-i;a[10]=1-(b+n);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};t.fromQuat=function(a,b){var d=b[0],e=b[1],f=b[2],g=b[3],i=d+d,k=e+e,l=f+f,d=d*i,p=e*i,e=e*k,q=f*i,n=f*k,f=f*l,i=g*i,k=g*k,g=g*l;a[0]=1-e-f;a[1]=p+g;a[2]=q-k;a[3]=0;a[4]=p-g;a[5]=1-d-f;a[6]=n+i;a[7]=0;a[8]=q+k;
a[9]=n-i;a[10]=1-d-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};t.frustum=function(a,b,d,e,f,g,i){var k=1/(d-b),l=1/(f-e),p=1/(g-i);a[0]=2*g*k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*l;a[6]=0;a[7]=0;a[8]=(d+b)*k;a[9]=(f+e)*l;a[10]=(i+g)*p;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(i*g)*p;a[15]=0;return a};t.perspective=function(a,b,d,e,f){b=1/Math.tan(b/2);var g=1/(e-f);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(f+e)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*f*e*g;a[15]=0;
return a};t.ortho=function(a,b,d,e,f,g,i){var k=1/(b-d),l=1/(e-f),p=1/(g-i);a[0]=-2*k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*l;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*p;a[11]=0;a[12]=(b+d)*k;a[13]=(f+e)*l;a[14]=(i+g)*p;a[15]=1;return a};t.lookAt=function(a,d,e,f){var g,i,k,l,p,q,s,n,u=d[0],z=d[1];d=d[2];k=f[0];l=f[1];i=f[2];s=e[0];f=e[1];g=e[2];if(Math.abs(u-s)<b&&Math.abs(z-f)<b&&Math.abs(d-g)<b)return t.identity(a);e=u-s;f=z-f;s=d-g;n=1/Math.sqrt(e*e+f*f+s*s);e*=n;f*=n;s*=n;g=l*s-i*f;i=i*e-k*s;k=k*f-l*
e;(n=Math.sqrt(g*g+i*i+k*k))?(n=1/n,g*=n,i*=n,k*=n):k=i=g=0;l=f*k-s*i;p=s*g-e*k;q=e*i-f*g;(n=Math.sqrt(l*l+p*p+q*q))?(n=1/n,l*=n,p*=n,q*=n):q=p=l=0;a[0]=g;a[1]=l;a[2]=e;a[3]=0;a[4]=i;a[5]=p;a[6]=f;a[7]=0;a[8]=k;a[9]=q;a[10]=s;a[11]=0;a[12]=-(g*u+i*z+k*d);a[13]=-(l*u+p*z+q*d);a[14]=-(e*u+f*z+s*d);a[15]=1;return a};t.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"};t.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof a&&(a.mat4=t);var q={create:function(){var a=new d(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},u=g.create(),Q=g.fromValues(1,0,0),R=g.fromValues(0,1,0);q.rotationTo=
function(a,b,d){var e=g.dot(b,d);if(-0.999999>e)return g.cross(u,Q,b),1E-6>g.length(u)&&g.cross(u,R,b),g.normalize(u,u),q.setAxisAngle(a,u,Math.PI),a;if(0.999999<e)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;g.cross(u,b,d);a[0]=u[0];a[1]=u[1];a[2]=u[2];a[3]=1+e;return q.normalize(a,a)};var C=f.create();q.setAxes=function(a,b,d,e){C[0]=d[0];C[3]=d[1];C[6]=d[2];C[1]=e[0];C[4]=e[1];C[7]=e[2];C[2]=-b[0];C[5]=-b[1];C[8]=-b[2];return q.normalize(a,q.fromMat3(a,C))};q.clone=k.clone;q.fromValues=k.fromValues;q.copy=
k.copy;q.set=k.set;q.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};q.setAxisAngle=function(a,b,d){d*=0.5;var e=Math.sin(d);a[0]=e*b[0];a[1]=e*b[1];a[2]=e*b[2];a[3]=Math.cos(d);return a};q.add=k.add;q.multiply=function(a,b,d){var e=b[0],f=b[1],g=b[2];b=b[3];var i=d[0],k=d[1],l=d[2];d=d[3];a[0]=e*d+b*i+f*l-g*k;a[1]=f*d+b*k+g*i-e*l;a[2]=g*d+b*l+e*k-f*i;a[3]=b*d-e*i-f*k-g*l;return a};q.mul=q.multiply;q.scale=k.scale;q.rotateX=function(a,b,d){d*=0.5;var e=b[0],f=b[1],g=b[2];b=b[3];var i=Math.sin(d);
d=Math.cos(d);a[0]=e*d+b*i;a[1]=f*d+g*i;a[2]=g*d-f*i;a[3]=b*d-e*i;return a};q.rotateY=function(a,b,d){d*=0.5;var e=b[0],f=b[1],g=b[2];b=b[3];var i=Math.sin(d);d=Math.cos(d);a[0]=e*d-g*i;a[1]=f*d+b*i;a[2]=g*d+e*i;a[3]=b*d-f*i;return a};q.rotateZ=function(a,b,d){d*=0.5;var e=b[0],f=b[1],g=b[2];b=b[3];var i=Math.sin(d);d=Math.cos(d);a[0]=e*d+f*i;a[1]=f*d-e*i;a[2]=g*d+b*i;a[3]=b*d-g*i;return a};q.calculateW=function(a,b){var d=b[0],e=b[1],f=b[2];a[0]=d;a[1]=e;a[2]=f;a[3]=Math.sqrt(Math.abs(1-d*d-e*e-
f*f));return a};q.dot=k.dot;q.lerp=k.lerp;q.slerp=function(a,b,d,e){var f=b[0],g=b[1],i=b[2];b=b[3];var k=d[0],l=d[1],p=d[2];d=d[3];var q,n,s;n=f*k+g*l+i*p+b*d;0>n&&(n=-n,k=-k,l=-l,p=-p,d=-d);1E-6<1-n?(q=Math.acos(n),s=Math.sin(q),n=Math.sin((1-e)*q)/s,e=Math.sin(e*q)/s):n=1-e;a[0]=n*f+e*k;a[1]=n*g+e*l;a[2]=n*i+e*p;a[3]=n*b+e*d;return a};q.invert=function(a,b){var d=b[0],e=b[1],f=b[2],g=b[3],i=d*d+e*e+f*f+g*g,i=i?1/i:0;a[0]=-d*i;a[1]=-e*i;a[2]=-f*i;a[3]=g*i;return a};q.conjugate=function(a,b){a[0]=
-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};q.length=k.length;q.len=q.length;q.squaredLength=k.squaredLength;q.sqrLen=q.squaredLength;q.normalize=k.normalize;q.fromMat3=function(a,b){var d=b[0]+b[4]+b[8];if(0<d)d=Math.sqrt(d+1),a[3]=0.5*d,d=0.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{var e=0;b[4]>b[0]&&(e=1);b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3,d=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1);a[e]=0.5*d;d=0.5/d;a[3]=(b[3*f+g]-b[3*g+f])*d;a[f]=(b[3*f+e]+b[3*e+f])*d;a[g]=
(b[3*g+e]+b[3*e+g])*d}return a};q.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof a&&(a.quat=q)})(GLMAT);try{module.exports=GLMAT}catch(e$$10){}try{glm.exists&&alert("glm.common.js loaded over exist glm instance: "+glm)}catch(e$$11){}glm=null;GLMJS_PREFIX="glm-js: ";
var GLMJSError=function(a,b){function d(d){this.name=a;Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=d;b&&b.apply(this,arguments)}d.prototype=Error();d.prototype.name=a;return d.prototype.constructor=d}("GLMJSError");
$GLM_extern=function(a,b){b=b||a;return function(){GLM[b]=GLM.$outer.functions[a]||GLM.$outer[a];if(!GLM[b])throw new GLM.GLMJSError("$GLM_extern: unresolved external symbol: "+a);GLM.$DEBUG&&GLM.$outer.console.debug("$GLM_extern: resolved external symbol "+a+" "+typeof GLM[b]);return GLM[b].apply(this,arguments)}};
$GLM_reset_logging=function(a){if(a||"undefined"===typeof $GLM_log)$GLM_log=function(a,b){GLM.$outer.console.log.apply(GLM.$outer.console,[].slice.call(arguments).map(function(a){var b=typeof a;return"boolean"===b||"string"===b?a+"":GLM.$isGLMObject(a)||!isNaN(a)?GLM.to_string(a):a+""}))};if(a||"undefined"===typeof $GLM_console_log)$GLM_console_log=function(a,b){(console[a]||function(){}).apply(console,[].slice.call(arguments,1))};if(a||"undefined"===typeof $GLM_console_logger)$GLM_console_logger=
function(a){return $GLM_console_log.bind($GLM_console_log,a)};var b=$GLM_console_logger,d={};"debug,warn,info,error,log,write".replace(/\w+/g,function(a){d[a]=b(a)});"object"===typeof GLM&&GLM.$outer&&(GLM.$outer.console=d);return d};
GLM={$DEBUG:"undefined"!==typeof $GLM_DEBUG&&$GLM_DEBUG,version:"0.0.4c",GLM_VERSION:96,$outer:{functions:{},intern:function(a,b){if(void 0===b&&"object"===typeof a)for(var d in a)GLM.$outer.intern(d,a[d]);else return GLM.$DEBUG&&GLM.$outer.console.debug("intern "+a,b&&(b.name||typeof b)),GLM.$outer[a]=b},$import:function(a){GLM.$outer.intern(a.statics);GLM.$template.extend(GLM,GLM.$template.functions(a.functions),GLM.$template.operations(a.operations),GLM.$template.calculators(a.calculators));GLM.$init(a)},
console:$GLM_reset_logging(),quat_array_from_xyz:function(a){var b=glm.quat();b["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));b["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));b["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));return b.elements},quat_array_from_zyx:function(a){var b=glm.quat();b["*="](glm.angleAxis(a.z,glm.vec3(0,0,1)));b["*="](glm.angleAxis(a.y,glm.vec3(0,1,0)));b["*="](glm.angleAxis(a.x,glm.vec3(1,0,0)));return b.elements},_vec3_eulerAngles:function(a){var b=this.mat4_array_from_quat(a);a=b[0];
var d=b[4],e=b[1],f=b[5],i=b[2],l=b[6],b=b[10],g=new glm.vec3;g.y=Math.asin(-glm._clamp(i,-1,1));0.99999>Math.abs(i)?(g.x=Math.atan2(l,b),g.z=Math.atan2(e,a)):(g.x=0,g.z=Math.atan2(-d,f));return g},ArrayBuffer:ArrayBuffer,Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,$rebindTypedArrays:function(a){var b=Object.keys(GLM.$outer).filter(RegExp.prototype.test.bind(/Array/)).map(function(b){var e=
a.call(this,b,GLM.$outer[b]);e!==GLM.$outer[b]&&(GLM.$outer.console.warn("$rebindTypedArrays("+b+")... replacing"),GLM.$outer[b]=e);return e});GLM.$subarray=GLM.patch_subarray();return b}},$extern:$GLM_extern,$log:$GLM_log,GLMJSError:GLMJSError,_radians:function(a){return a*Math.PI/180},_degrees:function(a){return 180*a/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),transpose:$GLM_extern("transpose"),mix:$GLM_extern("mix"),
clamp:$GLM_extern("clamp"),angleAxis:$GLM_extern("angleAxis"),rotate:$GLM_extern("rotate"),scale:$GLM_extern("scale"),translate:$GLM_extern("translate"),perspective:function(a,b,d,e){return GLM.$outer.mat4_perspective(a,b,d,e)},eulerAngles:function(a){return GLM.$outer.vec3_eulerAngles(a)},angle:function(a){return 2*Math.acos(a.w)},axis:function(a){var b=1-a.w*a.w;if(0>=b)return glm.vec3(0,0,1);b=1/Math.sqrt(b);return glm.vec3(a.x*b,a.y*b,a.z*b)},$from_ptr:function(a,b,d){if(this!==GLM)throw new GLM.GLMJSError("... use glm.make_<type>() (not new glm.make<type>())");
b=new GLM.$outer.Float32Array(b.buffer||b,d||0,a.componentLength);b=new GLM.$outer.Float32Array(b);return new a(b)},make_vec2:function(a,b){return GLM.$from_ptr.call(this,GLM.vec2,a,2===arguments.length?b:a.byteOffset)},make_vec3:function(a,b){return GLM.$from_ptr.call(this,GLM.vec3,a,2===arguments.length?b:a.byteOffset)},make_vec4:function(a,b){return GLM.$from_ptr.call(this,GLM.vec4,a,2===arguments.length?b:a.byteOffset)},make_quat:function(a,b){return GLM.$from_ptr.call(this,GLM.quat,a,2===arguments.length?
b:a.byteOffset)},make_mat3:function(a,b){return GLM.$from_ptr.call(this,GLM.mat3,a,2===arguments.length?b:a.byteOffset)},make_mat4:function(a,b){return GLM.$from_ptr.call(this,GLM.mat4,a,2===arguments.length?b:a.byteOffset)},diagonal4x4:function(a){if("vec4"!==a.$type)throw new GLM.GLMJSError("unsupported argtype to GLM.diagonal4x4: "+["type:"+type.o]);a=a.elements;return new GLM.mat4([a[0],0,0,0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]])},toMat4:function(a){return new GLM.mat4(GLM.$outer.mat4_array_from_quat(a))},
FAITHFUL:!0,to_string:function(a,b){try{var d=a.$type||typeof a;if(!GLM[d])throw new GLM.GLMJSError("unsupported argtype to GLM.to_string: "+["type:"+d,a]);return GLM.FAITHFUL?GLM.$to_string(a,b).replace(/[\t\n]/g,""):GLM.$to_string(a,b)}catch(e){return GLM.$DEBUG&&GLM.$outer.console.error("to_string error: ",d,a+"",e),e+""}},$sizeof:function(a){return a.BYTES_PER_ELEMENT},$types:[],$isGLMConstructor:function(a){return!!(a&&a.prototype instanceof GLM.$GLMBaseType)},$getGLMType:function(a){return a instanceof
GLM.$GLMBaseType&&a.constructor||"string"===typeof a&&GLM[a]},$isGLMObject:function(a){return a instanceof GLM.$GLMBaseType&&a.$type},$to_array:function(a){return[].slice.call(a.elements)},$to_json:function(a,b,d){this instanceof GLM.$GLMBaseType&&(d=b,b=a,a=this);return JSON.stringify(GLM.$to_object(a),b,d)},$inspect:function(a){this instanceof GLM.$GLMBaseType&&(a=this);return GLM.$to_json(a,null,2)},_clamp:function(a,b,d){return a<b?b:a>d?d:a},max:function(a,b){return Math.max(a,b)},min:function(a,
b){return Math.min(a,b)},_sign:function(a){return 0<a?1:0>a?-1:+a},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toFixedString:function(a,b,d,e){void 0===e&&(e=GLM.FIXEDPRECISION);if(!d||!d.map)throw Error("unsupported argtype to $toFixedString(..,..,props="+typeof d+")");try{var f="";d.map(function(a){a=b[f=a];if(!a.toFixed)throw Error("!toFixed in w");return a.toFixed(0)})}catch(i){throw GLM.$DEBUG&&GLM.$outer.console.error("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),
f),GLM.$DEBUG&&glm.$log("$toFixedString error",a,typeof b,Object.prototype.toString.call(b),f),new GLM.GLMJSError(i);}d=d.map(function(a){return b[a].toFixed(e)});return a+"("+d.join(", ")+")"}};GLM.sign=Math.sign||GLM._sign;
GLM.$GLMBaseType=function(){function a(a,d){var e=a.$||{};this.$type=d;this.$type_name=e.name||"<"+d+">";e.components&&(this.$components=e.components[0]);this.$len=this.components=a.componentLength;this.constructor=a;this.byteLength=a.BYTES_PER_ELEMENT;GLM.$types.push(d)}a.prototype={clone:function(){return new this.constructor(new this.elements.constructor(this.elements))},toString:function(){return GLM.$to_string(this)},inspect:function(){return GLM.$inspect(this)},toJSON:function(){return GLM.$to_object(this)}};
Object.defineProperty(a.prototype,"address",{get:function(){var a=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-a.length)+a}});return a}();
(function(){function a(a,b,d){return a.subarray(b,d||a.length)}function b(a,b,d){d=d||a.length;return new GLM.$outer.Float32Array(a.buffer,a.byteOffset+b*GLM.$outer.Float32Array.BYTES_PER_ELEMENT,d-b)}var d=new ArrayBuffer(64);(new Float32Array(d)).length===d.byteLength&&GLM.$outer.console.error("BROKEN TypedArrays detected");Object.defineProperty(GLM,"patch_subarray",{configurable:!0,value:function(){var d=new GLM.$outer.Float32Array([0,0]);d.subarray(1).subarray(0)[0]=1;return 1!==d[1]||4!==(new GLM.$outer.Float32Array(16)).subarray(12,
16).length?b:a}})})();GLM.$subarray=GLM.patch_subarray();
var GLM_template=GLM.$template={_genArgError:function(a,b,d,e){~e.indexOf(void 0)&&(e=e.slice(0,e.indexOf(void 0)));var f=RegExp.prototype.test.bind(/^[^$_]/);return new GLM.GLMJSError("unsupported argtype to "+b+""+a.$sig+": [typ="+d+"] :: got arg types: "+e.map(GLM.$template.jstypes.get)+" // supported types: "+Object.keys(a).filter(f).join("||"))},jstypes:{get:function(a){if(null===a)a="null";else if(void 0===a)a="undefined";else{var b;if(!(b=a.$type))if(!(b=GLM.$template.jstypes[typeof a]))if(!(b=
GLM.$template.jstypes[a+""]))a:{if("object"===typeof a){if(a instanceof GLM.$outer.Float32Array){b="Float32Array";break a}if(a instanceof GLM.$outer.ArrayBuffer){b="ArrayBuffer";break a}}b="<unknown "+[typeof a,a]+">"}a=b}return a},"0":"float",number:"float",string:"string","[object Float32Array]":"Float32Array","[object ArrayBuffer]":"ArrayBuffer","function":"function"},_add_overrides:function(a,b){for(var d in b)b[d]&&GLM[d].override(a,b[d])},_add_inline_override:function(a,b,d){this[b]=eval(GLM.$template._traceable("glm_"+
a+"_"+b,d))();return this},_inline_helpers:function(a,b){return{$type:"built-in",$type_name:b,$template:a,F:a,dbg:b,override:this._add_inline_override.bind(a,b),link:function(d){var e=a[d];e||(e=a[[d,"undefined"]]);if(!e)throw new GLM.GLMJSError("error linking direct function for "+b+"<"+d+"> or "+b+"<"+[d,void 0]+">");return/\bthis\./.test(e+"")?e.bind(a):e}}},"<T>":function(a,b){a.$sig="<T>";return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tglm_"+b,function(b){this instanceof
GLM.$GLMBaseType&&(b=this);var e=[b&&b.$type||GLM.$template.jstypes[typeof b]||"null"];if(!a[e])throw GLM.$template._genArgError(a,arguments.callee.dbg,e,[b]);return a[e](b)}))())},"<T,...>":function(a,b){a.$sig="<T,...>";var d=GLM.$template.jstypes;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("Tdotglm_"+b,function(b){for(var f=Array(arguments.length),i=0;i<f.length;i++)f[i]=arguments[i];this instanceof GLM.$GLMBaseType&&f.unshift(b=this);i=[b&&b.$type||d[typeof b]||d.get(b)||
"null"];if(!a[i])throw GLM.$template._genArgError(a,arguments.callee.dbg,i,f);return a[i].apply(a,f)}))())},"<T,V,n>":function(a,b){a.$sig="<T,V,n>";var d=GLM.$template.jstypes;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVnglm_"+b,function(){for(var b=Array(arguments.length),f=0;f<b.length;f++)b[f]=arguments[f];this instanceof GLM.$GLMBaseType&&b.unshift(this);var f=b[0],i=b[1],b=b[2],l=[f&&f.$type||d[typeof f]||d[f+""]||"<unknown "+f+">",i&&i.$type||d[typeof i]||d[i+""]||
"<unknown "+i+">"];if(!a[l])throw GLM.$template._genArgError(a,arguments.callee.dbg,l,[f,i,b]);if("number"!==typeof b)throw new GLM.GLMJSError(arguments.callee.dbg+a.$sig+": unsupported n type: "+[typeof b,b]);return a[l](f,i,b)}))())},"<T,V>":function(a,b){a.$sig="<T,V>";var d=GLM.$template.jstypes,e=GLM.$GLMBaseType,f=GLM.$template._genArgError;return this.slingshot(this._inline_helpers(a,b),eval(this._traceable("TVglm_"+b,function(){for(var b=Array(arguments.length),l=0;l<b.length;l++)b[l]=arguments[l];
this instanceof e&&b.unshift(this);var l=b[0],g=b[1],l=[l&&l.$type||d[typeof l],g&&g.$type||d[typeof g]||d[g+""]||Array.isArray(g)&&"array"+g.length+""||""+g+""];if(!a[l])throw f(a,arguments.callee.dbg,l,b);return a[l].apply(a,b)}))())},override:function(a,b,d,e){GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: ",a,b,d.$op?'$op: ["'+d.$op+'"]':"");if(!e)throw Error("unspecified target group "+e+' (expected override(<TV>, "p", {TSP}, ret={GROUP}))');var f=e[b];if(f&&f.$op!==d.$op)throw Error('glm.$template.override: mismatch merging existing override: .$op "'+
[f.$op,"!=",d.$op].join(" ")+'"  p='+[b,f.$op,d.$op,"||"+Object.keys(f.$template).join("||")]);var i=GLM.$template[a](GLM.$template.deNify(d,b),b);i.$op=d.$op;if(f){var l=[],g;for(g in i.$template)g in f.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+g+" overlayed"),f.$template[g]=i.$template[g]);Object.keys(f.$template).forEach(function(a){a in i.$template||(GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+a+" carried-forward"),l.push(a))});
GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+Object.keys(e[b].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return!~l.indexOf(a)?"*"+a+"*":a}).join(" | "))}else e[b]=i,GLM.$DEBUG&&GLM.$outer.console.debug("glm.$template.override: "+b+" ... "+Object.keys(e[b].$template).filter(function(a){return!~a.indexOf("$")}).map(function(a){return"*"+a+"*"}).join(" | "));return e},_override:function(a,b,d){for(var e in b)this.override(a,e,b[e],d);return d},
slingshot:function(){return this.extend.apply(this,[].reverse.call(arguments))},extend:function(a,b){[].slice.call(arguments,1).forEach(function(b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])});return a},operations:function(a){return this._override("<T,V>",a,GLM.$outer.functions)},calculators:function(a){return this._override("<T>",a,GLM.$outer.functions)},varargs_functions:function(a){return this._override("<T,...>",a,GLM.$outer.functions)},functions:function(a){return this._override("<T,V,n>",
a,GLM.$outer.functions)},_tojsname:function(a){return(a||"_").replace(/[^$a-zA-Z0-9_]/g,"_")},_traceable:function(a,b){var d=b;if("function"!==typeof d)throw new GLM.GLMJSError("_traceable expects tidy function as first arg "+d);if(!a)throw new GLM.GLMJSError("_traceable expects hint or what's the point"+[d,a]);a=this._tojsname(a||"_traceable");d=(d+"").replace(/^(\s*var\s*(\w+)\s*=\s*)__VA_ARGS__;/mg,function(a,b,d){return b+"new Array(arguments.length);for(var I=0;I<varname.length;I++)varname[I]=arguments[I];".replace(/I/g,
"__VA_ARGS__I").replace(/varname/g,d)}).replace(/\barguments[.]callee\b/g,a);if(2===d.split(/^\s*function\b/).length)d=(function(){SRC;return HINT}+"").replace("HINT",a.replace(/[$]/g,"$$$$")).replace("SRC",d.replace(/[$]/g,"$$$$").replace(/^function\s*\(/,"function "+a+"("));else throw new GLM.GLMJSError("expected singular anonymous function: "+[d,a]);d="1,"+d;if(GLM.$DEBUG)try{eval(d)}catch(e){throw console.error(a,d,b,e),e;}return d},deNify:function(a,b){var d={vec:[2,3,4],mat:[3,4]},e=this._tojsname.bind(this),
f;for(f in a){var i=!1;f.replace(/([vV]ec|[mM]at)(?:\w*)<N>/,function(l,g){i=!0;var p=a[f];delete a[f];d[g.toLowerCase()].forEach(function(d){var g=f.replace(/<N[*]N>/g,d*d).replace(/<N>/g,d);if(!(g in a)){var i=e("glm_"+b+"_"+g);a[g]=(new Function("","'use strict'; return "+(p+"").replace(/^function\s*\(/,"function "+i+"(").replace(/N[*]N/g,d*d).replace(/N/g,d)))()}})}.bind(this));/^[$]/.test(f)?GLM.$DEBUG&&GLM.$outer.console.debug("@ NOT naming "+f):!i&&("function"===typeof a[f]&&!a[f].name)&&(GLM.$DEBUG&&
GLM.$outer.console.debug("naming "+e(b+"_"+f)),a[f]=eval(this._traceable("glm_"+b+"_"+f,a[f]))())}return a},$_module_stamp:+new Date,_iso:"/[*][^/*]*[*]/",_get_argnames:function(a){return(a+"").replace(/\s+/g,"").replace(RegExp(this._iso,"g"),"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)},GLMType:function(a,b){var d=b.identity.length;Object.keys(b).filter(function(a){return"function"===typeof b[a]&&!b[a].name}).map(function(d){var e=a+"_"+d;GLM.$DEBUG&&
GLM.$outer.console.debug("naming $."+d+" == "+e,this._traceable(e,b[d]));b[d]=eval(this._traceable("glm_"+e,b[d]))()}.bind(this));var e=eval(this._traceable("glm_"+a+"$class",function(a){for(var b=e.$,d=e.prototype.$type,g=Array(arguments.length),p=0;p<g.length;p++)g[p]=arguments[p];p=b[typeof a+g.length];if(!p){var k="glm."+d,d=k+"("+g.map(function(a){return typeof a})+")",g=Object.keys(b).filter(function(a){return"function"===typeof b[a]&&/^\w+\d+$/.test(a)}).map(function(a){return k+"("+GLM.$template._get_argnames(b[a])+
")"});throw new GLM.GLMJSError("no constructor found for: "+d+"\nsupported signatures:\n\t"+g.join("\n\t"));}if(this instanceof e){if(a instanceof GLM.$outer.Float32Array){2<GLM.$DEBUG&&GLM.$outer.console.info("adopting elements...",typeof a);if(a.length!=e.componentLength)throw GLM.$outer.console.error(d+" elements size mismatch: "+["wanted:"+e.componentLength,"handed:"+a.length]),g=GLM.$subarray(a,0,e.componentLength),new GLM.GLMJSError(d+" elements size mismatch: "+["wanted:"+e.componentLength,
"handed:"+a.length,"theoreticaly-correctable?:"+(g.length===e.componentLength)]);d=a}else(d=new GLM.$outer.Float32Array(e.componentLength)).set(p.apply(b,g));Object.defineProperty(this,"elements",{enumerable:!1,configurable:!0,value:d})}else return new e(p.apply(b,g))}))();b.components=b.components?b.components.map(function(a){return"string"===typeof a?a.split(""):a}):[];e.$=b;e.componentLength=d;e.BYTES_PER_ELEMENT=d*GLM.$outer.Float32Array.BYTES_PER_ELEMENT;e.prototype=new GLM.$GLMBaseType(e,a);
return e}};GLM.$template.functions({mix:{"float,float":function(a,b,d){return b*d+a*(1-d)},"vec<N>,vec<N>":function(a,b,d){if(void 0===d)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");a=glm.$to_array(a);b=glm.$to_array(b);var e=1-d;return new glm.vecN(a.map(function(a,i){return b[i]*d+a*e}))}},clamp:{"float,float":function(a,b,d){return GLM._clamp(a,b,d)},"vec<N>,float":function(a,b,d){return new GLM.vecN(GLM.$to_array(a).map(function(a){return GLM._clamp(a,b,d)}))}}});
GLM.$template.extend(GLM,GLM.$template.calculators({degrees:{"float":function(a){return GLM._degrees(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._degrees))}},radians:{"float":function(a){return GLM._radians(a)},"vec<N>":function(a){return new GLM.vecN(GLM.$to_array(a).map(GLM._radians))}},$to_object:{vec2:function(a){return{x:a.x,y:a.y}},vec3:function(a){return{x:a.x,y:a.y,z:a.z}},vec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},uvec2:function(a){return{x:a.x,y:a.y}},uvec3:function(a){return{x:a.x,
y:a.y,z:a.z}},uvec4:function(a){return{x:a.x,y:a.y,z:a.z,w:a.w}},quat:function(a){return{w:a.w,x:a.x,y:a.y,z:a.z}},mat3:function(a){return{"0":this.vec3(a[0]),1:this.vec3(a[1]),2:this.vec3(a[2])}},mat4:function(a){return{"0":this.vec4(a[0]),1:this.vec4(a[1]),2:this.vec4(a[2]),3:this.vec4(a[3])}}}}),GLM.$template.varargs_functions({$from_glsl:{string:function(a,b){var d;a.replace(/^([$\w]+)\(([-.0-9ef, ]+)\)$/,function(a,f,i){a=glm[f]||glm["$"+f];if(!a)throw new GLM.GLMJSError("glsl decoding issue: unknown type '"+
f+"'");d=i.split(",").map(parseFloat);if(b){for(;d.length<a.componentLength;)d.push(d[d.length-1]);return d}d=a.apply(glm,d)});return d}},$to_glsl:{"vec<N>":function(a,b){var d=GLM.$to_array(a);b&&("object"===typeof b&&"precision"in b)&&(d=d.map(function(a){return a.toFixed(b.precision)}));for(;d.length&&d[d.length-2]===d[d.length-1];)d.pop();return a.$type+"("+d+")"},"uvec<N>":function(a,b){return this.vecN(a,b)},quat:function(a,b){var d;b&&("object"===typeof b&&"precision"in b)&&(d=b.precision);
return 0===a.x+a.y+a.z?"quat("+(void 0===d?a.w:a.w.toFixed(d))+")":this.vec4(a,b)},"mat<N>":function(a,b){var d;b&&("object"===typeof b&&"precision"in b)&&(d=b.precision);var e=GLM.$to_array(a);void 0!==d&&(e=e.map(function(a){return a.toFixed(d)}));return e.reduce(function(a,b){return a+b},0)===e[0]*N?"matN("+e[0]+")":"matN("+e+")"}}}));
GLM.$template.operations({rotate:{"float,vec3":function(a,b){return GLM.$outer.mat4_angleAxis(a,b)},"mat4,float":function(a,b,d){return a.mul(GLM.$outer.mat4_angleAxis(b,d))}},scale:{"mat4,vec3":function(a,b){return a.mul(GLM.$outer.mat4_scale(b))},"vec3,undefined":function(a){return GLM.$outer.mat4_scale(a)}},translate:{"mat4,vec3":function(a,b){return a.mul(GLM.$outer.mat4_translation(b))},"vec3,undefined":function(a){return GLM.$outer.mat4_translation(a)}},angleAxis:{"float,vec3":function(a,b){return GLM.$outer.quat_angleAxis(a,
b)}}});
GLM.$to_string=GLM.$template.varargs_functions({$to_string:{"function":function(a){return"[function "+(a.name||"anonymous")+"]"},ArrayBuffer:function(a){return"[object ArrayBuffer "+JSON.stringify({byteLength:a.byteLength})+"]"},Float32Array:function(a){return"[object Float32Array "+JSON.stringify({length:a.length,byteOffset:a.byteOffset,byteLength:a.byteLength,BPE:a.BYTES_PER_ELEMENT})+"]"},"float":function(a,b){return GLM.$toFixedString("float",{value:a},["value"],b&&b.precision)},string:function(a){return a},"vec<N>":function(a,
b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&b.precision)},"uvec<N>":function(a,b){return GLM.$toFixedString(a.$type_name,a,a.$components,b&&"object"===typeof b&&b.precision||0)},"mat<N>":function(a,b){var d=[0,1,2,3].slice(0,N).map(function(b){return a[b]}).map(function(a){return GLM.$toFixedString("\t",a,a.$components,b&&b.precision)});return a.$type_name+"(\n"+d.join(", \n")+"\n)"},quat:function(a,b){a=GLM.degrees(GLM.eulerAngles(a));return GLM.$toFixedString("<quat>"+a.$type_name,
a,["x","y","z"],b&&b.precision)}}}).$to_string;
GLM.$template.operations({copy:{$op:"=","vec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,array<N>":function(a,b){a.elements.set(b);return a},"uvec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"uvec<N>,array<N>":function(a,b){a.elements.set(b);return a},"uvec<N>,vec<N>":function(a,b){a.elements.set(b.elements);return a},"vec<N>,uvec<N>":function(a,b){a.elements.set(b.elements);return a},"quat,quat":function(a,b){a.elements.set(b.elements);return a},"mat<N>,mat<N>":function(a,
b){a.elements.set(b.elements);return a},"mat<N>,array<N>":function(a,b){b=b.reduce(function(a,b){if(!a.concat)throw new GLM.GLMJSError("matN,arrayN -- [[.length===4] x 4] expected");return a.concat(b)});if(b===N)throw new GLM.GLMJSError("matN,arrayN -- [[N],[N],[N],[N]] expected");return a["="](b)},"mat<N>,array<N*N>":function(a,b){a.elements.set(b);return a},"mat4,array9":function(a,b){a.elements.set((new glm.mat4(b)).elements);return a}},sub:{$op:"-","vec<N>,vec<N>":function(a,b){return new glm.vecN(glm.$to_array(a).map(function(a,
e){return a-b[e]}))}},sub_eq:{$op:"-=","vec<N>,vec<N>":function(a,b){glm.$to_array(a).map(function(d,e){return a.elements[e]=d-b[e]});return a}},add:{$op:"+","vec<N>,vec<N>":function(a,b){return new glm.vecN(glm.$to_array(a).map(function(a,e){return a+b[e]}))}},add_eq:{$op:"+=","vec<N>,vec<N>":function(a,b){glm.$to_array(a).map(function(d,e){return a.elements[e]=d+b[e]});return a}},div:{$op:"/","vec<N>,float":function(a,b){return new glm.vecN(glm.$to_array(a).map(function(a){return a/b}))}},div_eq:{$op:"/=",
"vec<N>,float":function(a,b){for(var d=0;d<N;d++)a.elements[d]/=b;return a}},eql:{$op:"==",$eq:function(a,b){return b.elements.length===glm.$to_array(a).filter(function(a,e){return a===b.elements[e]}).length},"vec<N>,vec<N>":function(a,b){return this.$eq(a,b)},"mat<N>,mat<N>":function(a,b){return this.$eq(a,b)},"quat,quat":function(a,b){return this.$eq(a,b)},"uvec<N>,uvec<N>":function(a,b){return this.$eq(a,b)}}});GLM.string={$type_name:"string",$:{}};GLM.number={$type_name:"float",$:{}};
GLM.vec2=GLM.$template.GLMType("vec2",{name:"fvec2",identity:[0,0],components:["xy","01"],undefined0:function(){return this.identity},number1:function(a){return[a,a]},number2:function(a,b){return[a,b]},object1:function(a){if(null!==a)switch(a.length){case 4:case 3:case 2:return[a[0],a[1]];default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec2: "+a);return"string"===typeof a.x?[1*a.x,1*a.y]:[a.x,a.y]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec2: "+
a);}});
GLM.uvec2=GLM.$template.GLMType("uvec2",{name:"uvec2",identity:[0,0],components:["xy","01"],_clamp:function(a){return~~a},undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b]},object1:function(a){switch(a.length){case 4:case 3:case 2:return[a[0],a[1]].map(this._clamp);default:if("y"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.uvec2: "+a);
return[a.x,a.y].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec2: "+a);}});
GLM.vec3=GLM.$template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],components:["xyz","012","rgb"],undefined0:function(){return GLM.vec3.$.identity},number1:function(a){return[a,a,a]},number2:function(a,b){return[a,b,b]},number3:function(a,b,d){return[a,b,d]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]];case 2:return[a[0],a[1],a[1]];default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec3: "+
a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z]:[a.x,a.y,a.z]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3: "+a);},object2:function(a,b){if(a instanceof GLM.vec2||a instanceof GLM.uvec2)return[a.x,a.y,b];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec3(o,z): "+[a,b]);}});
GLM.uvec3=GLM.$template.GLMType("uvec3",{name:"uvec3",identity:[0,0,0],components:["xyz","012"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b]},number3:function(a,b,d){a=this._clamp(a);b=this._clamp(b);d=this._clamp(d);return[a,b,d]},object1:function(a){if(a)switch(a.length){case 4:case 3:return[a[0],a[1],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1]].map(this._clamp);
default:if("z"in a&&"x"in a){if(typeof a.x!==typeof a.y)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.uvec3: "+a);return[a.x,a.y,a.z].map(this._clamp)}}throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec3: "+a);},object2:function(a,b){if(a instanceof GLM.vec2)return[a.x,a.y,b].map(this._clamp);if(a instanceof GLM.uvec2)return[a.x,a.y,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec3(o,z): "+[a,b]);}});
GLM.vec4=GLM.$template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],components:["xyzw","0123","rgba"],undefined0:function(){return this.identity},number1:function(a){return[a,a,a,a]},number2:function(a,b){return[a,b,b,b]},number3:function(a,b,d){return[a,b,d,d]},number4:function(a,b,d,e){return[a,b,d,e]},object1:function(a){if(a)switch(a.length){case 4:return[a[0],a[1],a[2],a[3]];case 3:return[a[0],a[1],a[2],a[2]];case 2:return[a[0],a[1],a[1],a[1]];default:if("w"in a&&"x"in a){if(typeof a.x!==
typeof a.w)throw new GLM.GLMJSError("unrecognized .x-ish object passed to GLM.vec4: "+a);return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,a.z,a.w]}}throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4: "+[a,a&&a.$type]);},object2:function(a,b){if(a instanceof GLM.vec3||a instanceof GLM.uvec3)return[a.x,a.y,a.z,b];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[a,b]);},object3:function(a,b,d){if(a instanceof GLM.vec2||a instanceof GLM.uvec2)return[a.x,
a.y,b,d];throw new GLM.GLMJSError("unrecognized object passed to GLM.vec4(o,z,w): "+[a,b,d]);}});
GLM.uvec4=GLM.$template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],components:["xyzw","0123"],_clamp:GLM.uvec2.$._clamp,undefined0:function(){return this.identity},number1:function(a){a=this._clamp(a);return[a,a,a,a]},number2:function(a,b){a=this._clamp(a);b=this._clamp(b);return[a,b,b,b]},number3:function(a,b,d){a=this._clamp(a);b=this._clamp(b);d=this._clamp(d);return[a,b,d,d]},number4:function(a,b,d,e){return[a,b,d,e].map(this._clamp)},object1:function(a){if(a)switch(a.length){case 4:return[a[0],
a[1],a[2],a[3]].map(this._clamp);case 3:return[a[0],a[1],a[2],a[2]].map(this._clamp);case 2:return[a[0],a[1],a[1],a[1]].map(this._clamp);default:if("w"in a&&"x"in a)return[a.x,a.y,a.z,a.w].map(this._clamp)}throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec4: "+[a,a&&a.$type]);},object2:function(a,b){if(a instanceof GLM.vec3)return[a.x,a.y,a.z,b].map(this._clamp);if(a instanceof GLM.uvec3)return[a.x,a.y,a.z,this._clamp(b)];throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+
[a,b]);},object3:function(a,b,d){if(a instanceof GLM.vec2)return[a.x,a.y,b,d].map(this._clamp);if(a instanceof GLM.uvec2)return[a.x,a.y,this._clamp(b),this._clamp(d)];throw new GLM.GLMJSError("unrecognized object passed to GLM.uvec4(o,z,w): "+[a,b,d]);}});
GLM.mat3=GLM.$template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(a){return 1===a?this.identity:[a,0,0,0,a,0,0,0,a]},number9:function(a,b,d,e,f,i,l,g,p){return arguments},object1:function(a){if(a){var b=a.elements||a;if(16===b.length)return[b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]];if(9===b.length)return b;if(0 in b&&1 in b&&2 in b&&!(3 in b)&&"object"===typeof b[2])return[b[0],b[1],b[2]].map(GLM.vec3.$.object1).reduce(function(a,
b){return a.concat(b)})}throw new GLM.GLMJSError("unrecognized object passed to GLM.mat3: "+a);},object3:function(a,b,d){return[a,b,d].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});
GLM.mat4=GLM.$template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(a,b,d,e,f,i,l,g,p,k,s,t,q,u,Q,R){return arguments},number1:function(a){return 1===a?this.identity:[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,a]},object1:function(a){var b;if(a){b=a.elements||a;if(9===b.length)return[b[0],b[1],b[2],0,b[3],b[4],b[5],0,b[6],b[7],b[8],0,0,0,0,1];if(4===b.length&&b[0]&&4===b[0].length)return b[0].concat(b[1],b[2],b[3]);if(16===
b.length)return b;if(0 in b&&1 in b&&2 in b&&3 in b&&!(4 in b)&&"object"===typeof b[3])return[b[0],b[1],b[2],b[3]].map(GLM.vec4.$.object1).reduce(function(a,b){return a.concat(b)})}throw new GLM.GLMJSError("unrecognized object passed to GLM.mat4: "+[a,b&&b.length]);},object4:function(a,b,d,e){return[a,b,d,e].map(glm.$to_array).reduce(function(a,b){return a.concat(b)})}});
GLM.quat=GLM.$template.GLMType("quat",{identity:[0,0,0,1],components:["xyzw","0123"],undefined0:function(){return this.identity},number1:function(a){if(1!==a)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(a,b,d,e){return[b,d,e,a]},object1:function(a){if(a){if(a instanceof GLM.mat4)return GLM.$outer.quat_array_from_mat4(a);if(4===a.length)return[a[0],a[1],a[2],a[3]];if(a instanceof GLM.quat)return[a.x,a.y,a.z,a.w];if(a instanceof GLM.vec3)return GLM.$outer.quat_array_from_zyx(a);
if("w"in a&&"x"in a)return"string"===typeof a.x?[1*a.x,1*a.y,1*a.z,1*a.w]:[a.x,a.y,a.z,a.w]}throw new GLM.GLMJSError("unrecognized object passed to GLM.quat.object1: "+[a,a&&a.$type,typeof a,a&&a.constructor]);}});
(function(){var a=function(a,d,e,f){a.$properties=a.$properties||{def:function(d,e){this[d]=e;Object.defineProperty(a.prototype,d,e)}};var i=a.$properties,l=i.def.bind(i),g=[0,1,2,3].map(function(a){return{enumerable:e,get:function(){return this.elements[a]},set:function(b){this.elements[a]=b}}});d.forEach(function(a,b){l(a,g[b])});if(isNaN(d[0])&&!/^_/.test(d[0])){var p=d.slice();do(function(a,b,d){"quat"===b&&(b="vec"+d);l(a,{enumerable:!1,get:function(){return new GLM[b](GLM.$subarray(this.elements,
0*d,1*d))},set:function(a){return(new GLM[b](GLM.$subarray(this.elements,0*d,1*d)))["="](a)}})})(p.join(""),a.prototype.$type.replace(/[1-9]$/,p.length),p.length);while(p[1]!=p.pop());if(f)return i;p=d.slice();if(d={xyz:{yz:1},xyzw:{yzw:1,yz:1,zw:2}}[p.join("")])for(var k in d)(function(a,b,d,e){l(a,{enumerable:!1,get:function(){return new GLM[b](GLM.$subarray(this.elements,0*d+e,1*d+e))},set:function(a){return(new GLM[b](GLM.$subarray(this.elements,0*d+e,1*d+e)))["="](a)}})})(k,a.prototype.$type.replace(/[1-9]$/,
k.length),k.length,d[k])}return i};a(GLM.vec2,GLM.vec2.$.components[0],!0);a(GLM.vec2,GLM.vec2.$.components[1]);a(GLM.vec3,GLM.vec3.$.components[0],!0);a(GLM.vec3,GLM.vec3.$.components[1]);a(GLM.vec3,GLM.vec3.$.components[2]);a(GLM.vec4,GLM.vec4.$.components[0],!0);a(GLM.vec4,GLM.vec4.$.components[1]);a(GLM.vec4,GLM.vec4.$.components[2]);a(GLM.quat,GLM.quat.$.components[0],!0,"noswizzles");a(GLM.quat,GLM.quat.$.components[1]);GLM.quat.$properties.def("wxyz",{enumerable:!1,get:function(){return new GLM.vec4(this.w,
this.x,this.y,this.z)},set:function(a){a=GLM.vec4(a);return this["="](GLM.quat(a.x,a.y,a.z,a.w))}});a(GLM.uvec2,GLM.uvec2.$.components[0],!0);a(GLM.uvec2,GLM.uvec2.$.components[1]);a(GLM.uvec3,GLM.uvec3.$.components[0],!0);a(GLM.uvec3,GLM.uvec3.$.components[1]);a(GLM.uvec4,GLM.uvec4.$.components[0],!0);a(GLM.uvec4,GLM.uvec4.$.components[1]);Object.defineProperty(GLM.quat.prototype,"_x",{get:function(){throw Error("erroneous quat._x access");}});GLM.$partition=function(a,d,e,f){if(void 0===e)throw new GLM.GLMJSError("nrows is undefined");
var i=d.$.identity.length;e=e||i;for(var l=function(a){3<GLM.$DEBUG&&GLM.$outer.console.debug("CACHEDBG: "+a)},g=0;g<e;g++)(function(e){var g=f&&f+e,s=e*i;Object.defineProperty(a,e,{configurable:!0,enumerable:!0,set:function(f){if(f instanceof d)this.elements.set(f.elements,s);else if(f&&f.length===i)this.elements.set(f,s);else throw new GLM.GLMJSError("unsupported argtype to "+(a&&a.$type)+"["+e+"] setter: "+[typeof f,f]);},get:function(){if(f){if(this[g])return e||l("cache hit "+g),this[g];e||l("cache miss "+
g)}var a,b=new d(a=GLM.$subarray(this.elements,s,s+i));if(b.elements!==a)throw new GLM.GLMJSError("v.elements !== t");f&&Object.defineProperty(this,g,{configurable:!0,enumerable:!1,value:b});return b}})})(g)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4,"_cache_");GLM.$partition(GLM.mat3.prototype,GLM.vec3,3,"_cache_")})();
GLM.$dumpTypes=function(a){GLM.$types.forEach(function(b){GLM[b].componentLength&&a("GLM."+b,JSON.stringify({"#type":GLM[b].prototype.$type_name,"#floats":GLM[b].componentLength,"#bytes":GLM[b].BYTES_PER_ELEMENT}))})};
GLM.$init=function(a){a.prefix&&(GLMJS_PREFIX=a.prefix);GLM.$prefix=GLMJS_PREFIX;var b=a.log||function(){};try{b("GLM-js: ENV: "+_ENV._VERSION)}catch(d){}b("GLM-JS: initializing: "+JSON.stringify(a,0,2));b(JSON.stringify({functions:Object.keys(GLM.$outer.functions)}));GLM.$outer.vec3_eulerAngles=GLM.$outer.vec3_eulerAngles||GLM.$outer._vec3_eulerAngles;GLM.$symbols=[];for(var e in GLM)"function"===typeof GLM[e]&&/^[a-z]/.test(e)&&GLM.$symbols.push(e);GLM.$types.forEach(function(a){var b=GLM[a].prototype.$type,
d;for(d in GLM.$outer.functions){var e=GLM.$outer.functions[d];e.$op&&(GLM.$DEBUG&&GLM.$outer.console.debug("mapping operator<"+b+"> "+d+" / "+e.$op),GLM[a].prototype[d]=e,GLM[a].prototype[e.$op]=e)}});b("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+a.vendor_name+" vendor_version="+a.vendor_version);glm.vendor=a};
GLM.using_namespace=function(a){GLM.$DEBUG&&GLM.$outer.console.debug("GLM.using_namespace munges globals; it should probably not be used!");var b=GLM.$symbols,d=[],e=[],f=GLM.using_namespace.before=[],i=GLM.using_namespace.after=[];eval(b.map(function(a,b){return"GLM.using_namespace['"+a+"'] = GLM.using_namespace.before["+b+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace before #globals: "+f.length);b.map(function(a){var b="GLM.using_namespace['"+a+
"']=undefined;delete GLM.using_namespace['"+a+"'];";try{e.push(a+"=GLM.using_namespace['"+a+"'];"+b)}catch(f){e.push(a+"=undefined;delete "+a+";"+b)}d.push(a+"=GLM."+a+";")});eval(d.join("\n"));a=a();eval(e.join("\n"));eval(b.map(function(a,b){return"GLM.using_namespace.after["+b+"] = 'undefined' !== typeof "+a+";"}).join("\n"));GLM.$DEBUG&&console.warn("GLM.using_namespace after #globals: "+i.length);if(f.length!==i.length)throw Error(JSON.stringify({before:f,after:i,usn:Object.keys(GLM.using_namespace)}));
return a};try{module.exports=GLM}catch(e$$18){}GLMAT.mat4.exists;glm=GLM;var DLL={_version:"0.0.1",_name:"glm.gl-matrix.js",_glm_version:glm.version,prefix:"glm-js[glMatrix]: ",vendor_version:GLMAT.VERSION,vendor_name:"glMatrix"};
DLL.statics={mat4_perspective:function(a,b,d,e){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),a,b,d,e))},mat4_angleAxis:function(a,b){var d=GLMAT.quat.setAxisAngle(new Float32Array(4),b,a);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),d))},quat_angleAxis:function(a,b){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),b,a))},mat4_translation:function(a){var b=new glm.mat4;GLMAT.mat4.translate(b.elements,b.elements,a.elements);return b},mat4_scale:function(a){var b=
new glm.mat4;GLMAT.mat4.scale(b.elements,b.elements,a.elements);return b},vec3_eulerAngles:function(a){var b=new Float32Array(16);GLMAT.mat4.fromQuat(b,a.elements);a=b[0];var d=b[4],e=b[1],f=b[5],i=b[2],l=b[6],b=b[10],g=new glm.vec3;g.y=Math.asin(-glm.clamp(i,-1,1));0.99999>Math.abs(i)?(g.x=Math.atan2(l,b),g.z=Math.atan2(e,a)):(g.x=0,g.z=Math.atan2(-d,f));return g},mat4_array_from_quat:function(a){return GLMAT.mat4.fromQuat(new Float32Array(16),a.elements)},$qtmp:new Float32Array(9),quat_array_from_mat4:function(a){return GLMAT.quat.fromMat3(new Float32Array(4),
GLMAT.mat3.fromMat4(this.$qtmp,a.elements))}};
DLL.operations={mul:{$op:"*","quat,vec3":function(a,b){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),b.elements,a.elements))},"vec3,quat":function(a,b){return this["quat,vec3"](glm.inverse(b),a)},"quat,vec4":function(a,b){return this["mat4,vec4"](glm.toMat4(a),b)},"vec4,quat":function(a,b){return this["quat,vec4"](glm.inverse(b),a)},"vec<N>,float":function(a,b){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),a.elements,b))},"mat4,vec4":function(a,b){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),
b.elements,a.elements))},"vec4,mat4":function(a,b){return this["mat4,vec4"](glm.inverse(b),a)},"mat<N>,mat<N>":function(a,b){return new glm.matN(GLMAT.matN.mul(new Float32Array(N*N),a.elements,b.elements))},"quat,quat":function(a,b){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),a.elements,b.elements))}},mul_eq:{$op:"*=","mat<N>,mat<N>":function(a,b){GLMAT.matN.multiply(a.elements,a.elements,b.elements);return a},"vec<N>,float":function(a,b){GLMAT.vecN.scale(a.elements,a.elements,b);
return a},"quat,quat":function(a,b){GLMAT.quat.multiply(a.elements,a.elements,b.elements);return a},"inplace:vec3,quat":function(a,b){var d=GLMAT.quat.invert(new Float32Array(4),b.elements);GLMAT.vec3.transformQuat(a.elements,a.elements,d);return a},"inplace:vec4,mat4":function(a,b){var d=GLMAT.mat4.invert(new Float32Array(16),b.elements);GLMAT.vec4.transformMat4(a.elements,a.elements,d);return a}},cross:{"vec2,vec2":function(a,b){return new glm.vec2(GLMAT.vec2.cross(new Float32Array(2),a,b))},"vec3,vec3":function(a,
b){return new glm.vec3(GLMAT.vec3.cross(new Float32Array(3),a,b))}},dot:{"vec<N>,vec<N>":function(a,b){return GLMAT.vecN.dot(a,b)}}};DLL.functions={mix:{"quat,quat":function(a,b,d){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),a.elements,b.elements,d))}}};
DLL.calculators={normalize:{"vec<N>":function(a){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),a))},quat:function(a){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),a.elements))}},length:{quat:function(a){return GLMAT.quat.length(a.elements)},"vec<N>":function(a){return GLMAT.vecN.length(a.elements)}},length2:{quat:function(a){return GLMAT.quat.squaredLength(a.elements)},"vec<N>":function(a){return GLMAT.vecN.squaredLength(a.elements)}},inverse:{quat:function(a){return glm.quat(GLMAT.quat.invert(new Float32Array(4),
a.elements))},xmat4:function(a){return glm.mat4(GLMAT.mat4.invert(new Float32Array(16),a.elements))},mat4:function(a){a=a.clone();GLMAT.mat4.invert(a.elements,a.elements);return a}},transpose:{xmat4:function(a){return glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),a.elements))},mat4:function(a){a=a.clone();GLMAT.mat4.transpose(a.elements,a.elements);return a}}};glm.$outer.$import(DLL);try{module.exports=glm}catch(e$$19){};
return glm; })(this);
