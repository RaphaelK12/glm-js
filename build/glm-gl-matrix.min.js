GLMAT_VERSION="2.2.2";
(function(c){var d;"undefined"===typeof exports?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d={},define(function(){return d})):d="undefined"!==typeof window?window:c:d=exports;c=d;c.VERSION=GLMAT_VERSION;if(!g)var g=1E-6;if(!i)var i="undefined"!==typeof Float32Array?Float32Array:Array;if(!k)var k=Math.random;var f={setMatrixArrayType:function(a){i=a}};"undefined"!==typeof c&&(c.glMatrix=f);var r=Math.PI/180;f.toRadian=function(a){return a*r};f={create:function(){var a=new i(2);
a[0]=0;a[1]=0;return a},clone:function(a){var b=new i(2);b[0]=a[0];b[1]=a[1];return b},fromValues:function(a,b){var e=new i(2);e[0]=a;e[1]=b;return e},copy:function(a,b){a[0]=b[0];a[1]=b[1];return a},set:function(a,b,e){a[0]=b;a[1]=e;return a},add:function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];return a},subtract:function(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];return a}};f.sub=f.subtract;f.multiply=function(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];return a};f.mul=f.multiply;f.divide=function(a,b,e){a[0]=
b[0]/e[0];a[1]=b[1]/e[1];return a};f.div=f.divide;f.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);return a};f.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);return a};f.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;return a};f.scaleAndAdd=function(a,b,e,c){a[0]=b[0]+e[0]*c;a[1]=b[1]+e[1]*c;return a};f.distance=function(a,b){var e=b[0]-a[0],c=b[1]-a[1];return Math.sqrt(e*e+c*c)};f.dist=f.distance;f.squaredDistance=function(a,b){var e=b[0]-a[0],c=b[1]-
a[1];return e*e+c*c};f.sqrDist=f.squaredDistance;f.length=function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};f.len=f.length;f.squaredLength=function(a){var b=a[0];a=a[1];return b*b+a*a};f.sqrLen=f.squaredLength;f.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};f.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};f.normalize=function(a,b){var e=b[0],c=b[1],e=e*e+c*c;0<e&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e);return a};f.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};f.cross=function(a,
b,e){b=b[0]*e[1]-b[1]*e[0];a[0]=a[1]=0;a[2]=b;return a};f.lerp=function(a,b,e,c){var h=b[0];b=b[1];a[0]=h+c*(e[0]-h);a[1]=b+c*(e[1]-b);return a};f.random=function(a,b){b=b||1;var e=2*k()*Math.PI;a[0]=Math.cos(e)*b;a[1]=Math.sin(e)*b;return a};f.transformMat2=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b;a[1]=e[1]*c+e[3]*b;return a};f.transformMat2d=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b+e[4];a[1]=e[1]*c+e[3]*b+e[5];return a};f.transformMat3=function(a,b,e){var c=b[0];b=b[1];a[0]=
e[0]*c+e[3]*b+e[6];a[1]=e[1]*c+e[4]*b+e[7];return a};f.transformMat4=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[4]*b+e[12];a[1]=e[1]*c+e[5]*b+e[13];return a};var t=f.create();f.forEach=function(a,b,e,c,h,l){b||(b=2);e||(e=0);for(c=c?Math.min(c*b+e,a.length):a.length;e<c;e+=b)t[0]=a[e],t[1]=a[e+1],h(t,t,l),a[e]=t[0],a[e+1]=t[1];return a};f.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};"undefined"!==typeof c&&(c.vec2=f);var j={create:function(){var a=new i(3);a[0]=0;a[1]=0;a[2]=0;return a},
clone:function(a){var b=new i(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},fromValues:function(a,b,e){var c=new i(3);c[0]=a;c[1]=b;c[2]=e;return c},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,e,c){a[0]=b;a[1]=e;a[2]=c;return a},add:function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];return a},subtract:function(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];a[2]=b[2]-e[2];return a}};j.sub=j.subtract;j.multiply=function(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];a[2]=b[2]*e[2];
return a};j.mul=j.multiply;j.divide=function(a,b,e){a[0]=b[0]/e[0];a[1]=b[1]/e[1];a[2]=b[2]/e[2];return a};j.div=j.divide;j.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);a[2]=Math.min(b[2],e[2]);return a};j.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);a[2]=Math.max(b[2],e[2]);return a};j.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;return a};j.scaleAndAdd=function(a,b,e,c){a[0]=b[0]+e[0]*c;a[1]=b[1]+e[1]*c;a[2]=b[2]+e[2]*c;return a};j.distance=
function(a,b){var e=b[0]-a[0],c=b[1]-a[1],h=b[2]-a[2];return Math.sqrt(e*e+c*c+h*h)};j.dist=j.distance;j.squaredDistance=function(a,b){var e=b[0]-a[0],c=b[1]-a[1],h=b[2]-a[2];return e*e+c*c+h*h};j.sqrDist=j.squaredDistance;j.length=function(a){var b=a[0],e=a[1];a=a[2];return Math.sqrt(b*b+e*e+a*a)};j.len=j.length;j.squaredLength=function(a){var b=a[0],e=a[1];a=a[2];return b*b+e*e+a*a};j.sqrLen=j.squaredLength;j.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};j.inverse=function(a,b){a[0]=
1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};j.normalize=function(a,b){var e=b[0],c=b[1],h=b[2],e=e*e+c*c+h*h;0<e&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e,a[2]=b[2]*e);return a};j.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};j.cross=function(a,b,e){var c=b[0],h=b[1];b=b[2];var l=e[0],d=e[1];e=e[2];a[0]=h*e-b*d;a[1]=b*l-c*e;a[2]=c*d-h*l;return a};j.lerp=function(a,b,e,c){var h=b[0],l=b[1];b=b[2];a[0]=h+c*(e[0]-h);a[1]=l+c*(e[1]-l);a[2]=b+c*(e[2]-b);return a};j.random=function(a,b){b=b||1;
var e=2*k()*Math.PI,c=2*k()-1,h=Math.sqrt(1-c*c)*b;a[0]=Math.cos(e)*h;a[1]=Math.sin(e)*h;a[2]=c*b;return a};j.transformMat4=function(a,b,e){var c=b[0],h=b[1];b=b[2];var l=e[3]*c+e[7]*h+e[11]*b+e[15],l=l||1;a[0]=(e[0]*c+e[4]*h+e[8]*b+e[12])/l;a[1]=(e[1]*c+e[5]*h+e[9]*b+e[13])/l;a[2]=(e[2]*c+e[6]*h+e[10]*b+e[14])/l;return a};j.transformMat3=function(a,b,e){var c=b[0],h=b[1];b=b[2];a[0]=c*e[0]+h*e[3]+b*e[6];a[1]=c*e[1]+h*e[4]+b*e[7];a[2]=c*e[2]+h*e[5]+b*e[8];return a};j.transformQuat=function(a,b,e){var c=
b[0],h=b[1],l=b[2];b=e[0];var d=e[1],u=e[2];e=e[3];var s=e*c+d*l-u*h,I=e*h+u*c-b*l,f=e*l+b*h-d*c,c=-b*c-d*h-u*l;a[0]=s*e+c*-b+I*-u-f*-d;a[1]=I*e+c*-d+f*-b-s*-u;a[2]=f*e+c*-u+s*-d-I*-b;return a};j.rotateX=function(a,b,e,c){var h=[],l=[];h[0]=b[0]-e[0];h[1]=b[1]-e[1];h[2]=b[2]-e[2];l[0]=h[0];l[1]=h[1]*Math.cos(c)-h[2]*Math.sin(c);l[2]=h[1]*Math.sin(c)+h[2]*Math.cos(c);a[0]=l[0]+e[0];a[1]=l[1]+e[1];a[2]=l[2]+e[2];return a};j.rotateY=function(a,b,e,c){var h=[],l=[];h[0]=b[0]-e[0];h[1]=b[1]-e[1];h[2]=
b[2]-e[2];l[0]=h[2]*Math.sin(c)+h[0]*Math.cos(c);l[1]=h[1];l[2]=h[2]*Math.cos(c)-h[0]*Math.sin(c);a[0]=l[0]+e[0];a[1]=l[1]+e[1];a[2]=l[2]+e[2];return a};j.rotateZ=function(a,b,e,c){var h=[],l=[];h[0]=b[0]-e[0];h[1]=b[1]-e[1];h[2]=b[2]-e[2];l[0]=h[0]*Math.cos(c)-h[1]*Math.sin(c);l[1]=h[0]*Math.sin(c)+h[1]*Math.cos(c);l[2]=h[2];a[0]=l[0]+e[0];a[1]=l[1]+e[1];a[2]=l[2]+e[2];return a};var E=j.create();j.forEach=function(a,b,e,c,h,l){b||(b=3);e||(e=0);for(c=c?Math.min(c*b+e,a.length):a.length;e<c;e+=b)E[0]=
a[e],E[1]=a[e+1],E[2]=a[e+2],h(E,E,l),a[e]=E[0],a[e+1]=E[1],a[e+2]=E[2];return a};j.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};"undefined"!==typeof c&&(c.vec3=j);var m={create:function(){var a=new i(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var b=new i(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromValues:function(a,b,e,c){var h=new i(4);h[0]=a;h[1]=b;h[2]=e;h[3]=c;return h},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},set:function(a,
b,e,c,h){a[0]=b;a[1]=e;a[2]=c;a[3]=h;return a},add:function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];a[3]=b[3]+e[3];return a},subtract:function(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];a[2]=b[2]-e[2];a[3]=b[3]-e[3];return a}};m.sub=m.subtract;m.multiply=function(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];a[2]=b[2]*e[2];a[3]=b[3]*e[3];return a};m.mul=m.multiply;m.divide=function(a,b,e){a[0]=b[0]/e[0];a[1]=b[1]/e[1];a[2]=b[2]/e[2];a[3]=b[3]/e[3];return a};m.div=m.divide;m.min=function(a,b,e){a[0]=
Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);a[2]=Math.min(b[2],e[2]);a[3]=Math.min(b[3],e[3]);return a};m.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);a[2]=Math.max(b[2],e[2]);a[3]=Math.max(b[3],e[3]);return a};m.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;return a};m.scaleAndAdd=function(a,b,e,c){a[0]=b[0]+e[0]*c;a[1]=b[1]+e[1]*c;a[2]=b[2]+e[2]*c;a[3]=b[3]+e[3]*c;return a};m.distance=function(a,b){var e=b[0]-a[0],c=b[1]-a[1],h=b[2]-a[2],l=b[3]-
a[3];return Math.sqrt(e*e+c*c+h*h+l*l)};m.dist=m.distance;m.squaredDistance=function(a,b){var e=b[0]-a[0],c=b[1]-a[1],h=b[2]-a[2],l=b[3]-a[3];return e*e+c*c+h*h+l*l};m.sqrDist=m.squaredDistance;m.length=function(a){var b=a[0],e=a[1],c=a[2];a=a[3];return Math.sqrt(b*b+e*e+c*c+a*a)};m.len=m.length;m.squaredLength=function(a){var b=a[0],e=a[1],c=a[2];a=a[3];return b*b+e*e+c*c+a*a};m.sqrLen=m.squaredLength;m.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};m.inverse=function(a,
b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};m.normalize=function(a,b){var e=b[0],c=b[1],h=b[2],l=b[3],e=e*e+c*c+h*h+l*l;0<e&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e,a[2]=b[2]*e,a[3]=b[3]*e);return a};m.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};m.lerp=function(a,b,e,c){var h=b[0],l=b[1],d=b[2];b=b[3];a[0]=h+c*(e[0]-h);a[1]=l+c*(e[1]-l);a[2]=d+c*(e[2]-d);a[3]=b+c*(e[3]-b);return a};m.random=function(a,b){b=b||1;a[0]=k();a[1]=k();a[2]=k();a[3]=k();m.normalize(a,
a);m.scale(a,a,b);return a};m.transformMat4=function(a,b,e){var c=b[0],h=b[1],d=b[2];b=b[3];a[0]=e[0]*c+e[4]*h+e[8]*d+e[12]*b;a[1]=e[1]*c+e[5]*h+e[9]*d+e[13]*b;a[2]=e[2]*c+e[6]*h+e[10]*d+e[14]*b;a[3]=e[3]*c+e[7]*h+e[11]*d+e[15]*b;return a};m.transformQuat=function(a,b,e){var c=b[0],h=b[1],d=b[2];b=e[0];var n=e[1],u=e[2];e=e[3];var s=e*c+n*d-u*h,I=e*h+u*c-b*d,f=e*d+b*h-n*c,c=-b*c-n*h-u*d;a[0]=s*e+c*-b+I*-u-f*-n;a[1]=I*e+c*-n+f*-b-s*-u;a[2]=f*e+c*-u+s*-n-I*-b;return a};var B=m.create();m.forEach=function(a,
b,e,c,h,d){b||(b=4);e||(e=0);for(c=c?Math.min(c*b+e,a.length):a.length;e<c;e+=b)B[0]=a[e],B[1]=a[e+1],B[2]=a[e+2],B[3]=a[e+3],h(B,B,d),a[e]=B[0],a[e+1]=B[1],a[e+2]=B[2],a[e+3]=B[3];return a};m.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof c&&(c.vec4=m);f={create:function(){var a=new i(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},clone:function(a){var b=new i(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];
a[3]=b[3];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(a===b){var e=b[1];a[1]=b[2];a[2]=e}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},invert:function(a,b){var e=b[0],c=b[1],h=b[2],d=b[3],n=e*d-h*c;if(!n)return null;n=1/n;a[0]=d*n;a[1]=-c*n;a[2]=-h*n;a[3]=e*n;return a},adjoint:function(a,b){var e=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=e;return a},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,b,e){var c=b[0],
h=b[1],d=b[2];b=b[3];var n=e[0],u=e[1],s=e[2];e=e[3];a[0]=c*n+d*u;a[1]=h*n+b*u;a[2]=c*s+d*e;a[3]=h*s+b*e;return a}};f.mul=f.multiply;f.rotate=function(a,b,e){var c=b[0],h=b[1],d=b[2];b=b[3];var n=Math.sin(e);e=Math.cos(e);a[0]=c*e+d*n;a[1]=h*e+b*n;a[2]=c*-n+d*e;a[3]=h*-n+b*e;return a};f.scale=function(a,b,e){var c=b[1],h=b[2],d=b[3],n=e[0];e=e[1];a[0]=b[0]*n;a[1]=c*n;a[2]=h*e;a[3]=d*e;return a};f.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],
2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};f.LDU=function(a,b,e,c){a[2]=c[2]/c[0];e[0]=c[0];e[1]=c[1];e[3]=c[3]-a[2]*e[1];return[a,b,e]};"undefined"!==typeof c&&(c.mat2=f);f={create:function(){var a=new i(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var b=new i(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=
0;a[3]=1;a[4]=0;a[5]=0;return a},invert:function(a,b){var e=b[0],c=b[1],h=b[2],d=b[3],n=b[4],u=b[5],s=e*d-c*h;if(!s)return null;s=1/s;a[0]=d*s;a[1]=-c*s;a[2]=-h*s;a[3]=e*s;a[4]=(h*u-d*n)*s;a[5]=(c*n-e*u)*s;return a},determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,b,e){var c=b[0],h=b[1],d=b[2],n=b[3],u=b[4];b=b[5];var s=e[0],f=e[1],g=e[2],p=e[3],i=e[4];e=e[5];a[0]=c*s+d*f;a[1]=h*s+n*f;a[2]=c*g+d*p;a[3]=h*g+n*p;a[4]=c*i+d*e+u;a[5]=h*i+n*e+b;return a}};f.mul=f.multiply;f.rotate=
function(a,b,e){var c=b[0],h=b[1],d=b[2],n=b[3],u=b[4];b=b[5];var s=Math.sin(e);e=Math.cos(e);a[0]=c*e+d*s;a[1]=h*e+n*s;a[2]=c*-s+d*e;a[3]=h*-s+n*e;a[4]=u;a[5]=b;return a};f.scale=function(a,b,e){var c=b[1],h=b[2],d=b[3],n=b[4],u=b[5],s=e[0];e=e[1];a[0]=b[0]*s;a[1]=c*s;a[2]=h*e;a[3]=d*e;a[4]=n;a[5]=u;return a};f.translate=function(a,b,e){var c=b[0],h=b[1],d=b[2],n=b[3],u=b[4];b=b[5];var s=e[0];e=e[1];a[0]=c;a[1]=h;a[2]=d;a[3]=n;a[4]=c*s+d*e+u;a[5]=h*s+n*e+b;return a};f.str=function(a){return"mat2d("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};"undefined"!==typeof c&&(c.mat2d=f);f={create:function(){var a=new i(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},fromMat4:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new i(9);
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(a===b){var e=b[1],c=b[2],h=b[5];a[1]=b[3];a[2]=b[6];a[3]=e;a[5]=b[7];a[6]=c;a[7]=h}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=
b[5],a[8]=b[8];return a},invert:function(a,b){var e=b[0],c=b[1],h=b[2],d=b[3],n=b[4],u=b[5],s=b[6],f=b[7],g=b[8],p=g*n-u*f,i=-g*d+u*s,k=f*d-n*s,j=e*p+c*i+h*k;if(!j)return null;j=1/j;a[0]=p*j;a[1]=(-g*c+h*f)*j;a[2]=(u*c-h*n)*j;a[3]=i*j;a[4]=(g*e-h*s)*j;a[5]=(-u*e+h*d)*j;a[6]=k*j;a[7]=(-f*e+c*s)*j;a[8]=(n*e-c*d)*j;return a},adjoint:function(a,b){var e=b[0],c=b[1],h=b[2],d=b[3],n=b[4],u=b[5],s=b[6],f=b[7],g=b[8];a[0]=n*g-u*f;a[1]=h*f-c*g;a[2]=c*u-h*n;a[3]=u*s-d*g;a[4]=e*g-h*s;a[5]=h*d-e*u;a[6]=d*f-n*
s;a[7]=c*s-e*f;a[8]=e*n-c*d;return a},determinant:function(a){var b=a[3],e=a[4],c=a[5],h=a[6],d=a[7],n=a[8];return a[0]*(n*e-c*d)+a[1]*(-n*b+c*h)+a[2]*(d*b-e*h)},multiply:function(a,b,e){var c=b[0],d=b[1],l=b[2],n=b[3],u=b[4],s=b[5],f=b[6],g=b[7];b=b[8];var p=e[0],i=e[1],k=e[2],j=e[3],m=e[4],w=e[5],x=e[6],J=e[7];e=e[8];a[0]=p*c+i*n+k*f;a[1]=p*d+i*u+k*g;a[2]=p*l+i*s+k*b;a[3]=j*c+m*n+w*f;a[4]=j*d+m*u+w*g;a[5]=j*l+m*s+w*b;a[6]=x*c+J*n+e*f;a[7]=x*d+J*u+e*g;a[8]=x*l+J*s+e*b;return a}};f.mul=f.multiply;
f.translate=function(a,b,e){var c=b[0],d=b[1],l=b[2],n=b[3],u=b[4],s=b[5],f=b[6],g=b[7];b=b[8];var p=e[0];e=e[1];a[0]=c;a[1]=d;a[2]=l;a[3]=n;a[4]=u;a[5]=s;a[6]=p*c+e*n+f;a[7]=p*d+e*u+g;a[8]=p*l+e*s+b;return a};f.rotate=function(a,b,e){var c=b[0],d=b[1],l=b[2],n=b[3],u=b[4],s=b[5],f=b[6],g=b[7];b=b[8];var p=Math.sin(e);e=Math.cos(e);a[0]=e*c+p*n;a[1]=e*d+p*u;a[2]=e*l+p*s;a[3]=e*n-p*c;a[4]=e*u-p*d;a[5]=e*s-p*l;a[6]=f;a[7]=g;a[8]=b;return a};f.scale=function(a,b,e){var c=e[0];e=e[1];a[0]=c*b[0];a[1]=
c*b[1];a[2]=c*b[2];a[3]=e*b[3];a[4]=e*b[4];a[5]=e*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};f.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};f.fromQuat=function(a,b){var e=b[0],c=b[1],d=b[2],l=b[3],n=e+e,u=c+c,s=d+d,e=e*n,f=c*n,c=c*u,g=d*n,p=d*u,d=d*s,n=l*n,u=l*u,l=l*s;a[0]=1-c-d;a[3]=f-l;a[6]=g+u;a[1]=f+l;a[4]=1-e-d;a[7]=p-n;a[2]=g-u;a[5]=p+n;a[8]=1-e-c;return a};f.normalFromMat4=function(a,b){var e=b[0],c=b[1],d=b[2],l=b[3],
n=b[4],u=b[5],f=b[6],g=b[7],i=b[8],p=b[9],k=b[10],j=b[11],m=b[12],y=b[13],w=b[14],x=b[15],J=e*u-c*n,q=e*f-d*n,z=e*g-l*n,A=c*f-d*u,t=c*g-l*u,r=d*g-l*f,v=i*y-p*m,B=i*w-k*m,i=i*x-j*m,G=p*w-k*y,p=p*x-j*y,k=k*x-j*w,j=J*k-q*p+z*G+A*i-t*B+r*v;if(!j)return null;j=1/j;a[0]=(u*k-f*p+g*G)*j;a[1]=(f*i-n*k-g*B)*j;a[2]=(n*p-u*i+g*v)*j;a[3]=(d*p-c*k-l*G)*j;a[4]=(e*k-d*i+l*B)*j;a[5]=(c*i-e*p-l*v)*j;a[6]=(y*r-w*t+x*A)*j;a[7]=(w*z-m*r-x*q)*j;a[8]=(m*t-y*z+x*J)*j;return a};f.str=function(a){return"mat3("+a[0]+", "+
a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};f.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};"undefined"!==typeof c&&(c.mat3=f);var v={create:function(){var a=new i(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new i(16);
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},copy:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=
0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(a===b){var e=b[1],c=b[2],d=b[3],l=b[6],n=b[7],f=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=e;a[6]=b[9];a[7]=b[13];a[8]=c;a[9]=l;a[11]=b[14];a[12]=d;a[13]=n;a[14]=f}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},invert:function(a,b){var e=b[0],c=b[1],d=b[2],l=b[3],n=b[4],f=b[5],s=b[6],g=b[7],i=b[8],p=b[9],k=
b[10],j=b[11],m=b[12],y=b[13],w=b[14],x=b[15],q=e*f-c*n,t=e*s-d*n,z=e*g-l*n,A=c*s-d*f,r=c*g-l*f,v=d*g-l*s,B=i*y-p*m,H=i*w-k*m,G=i*x-j*m,E=p*w-k*y,C=p*x-j*y,D=k*x-j*w,F=q*D-t*C+z*E+A*G-r*H+v*B;if(!F)return null;F=1/F;a[0]=(f*D-s*C+g*E)*F;a[1]=(d*C-c*D-l*E)*F;a[2]=(y*v-w*r+x*A)*F;a[3]=(k*r-p*v-j*A)*F;a[4]=(s*G-n*D-g*H)*F;a[5]=(e*D-d*G+l*H)*F;a[6]=(w*z-m*v-x*t)*F;a[7]=(i*v-k*z+j*t)*F;a[8]=(n*C-f*G+g*B)*F;a[9]=(c*G-e*C-l*B)*F;a[10]=(m*r-y*z+x*q)*F;a[11]=(p*z-i*r-j*q)*F;a[12]=(f*H-n*E-s*B)*F;a[13]=(e*
E-c*H+d*B)*F;a[14]=(y*t-m*A-w*q)*F;a[15]=(i*A-p*t+k*q)*F;return a},adjoint:function(a,b){var e=b[0],c=b[1],d=b[2],l=b[3],n=b[4],f=b[5],g=b[6],i=b[7],k=b[8],p=b[9],j=b[10],m=b[11],q=b[12],y=b[13],w=b[14],x=b[15];a[0]=f*(j*x-m*w)-p*(g*x-i*w)+y*(g*m-i*j);a[1]=-(c*(j*x-m*w)-p*(d*x-l*w)+y*(d*m-l*j));a[2]=c*(g*x-i*w)-f*(d*x-l*w)+y*(d*i-l*g);a[3]=-(c*(g*m-i*j)-f*(d*m-l*j)+p*(d*i-l*g));a[4]=-(n*(j*x-m*w)-k*(g*x-i*w)+q*(g*m-i*j));a[5]=e*(j*x-m*w)-k*(d*x-l*w)+q*(d*m-l*j);a[6]=-(e*(g*x-i*w)-n*(d*x-l*w)+q*(d*
i-l*g));a[7]=e*(g*m-i*j)-n*(d*m-l*j)+k*(d*i-l*g);a[8]=n*(p*x-m*y)-k*(f*x-i*y)+q*(f*m-i*p);a[9]=-(e*(p*x-m*y)-k*(c*x-l*y)+q*(c*m-l*p));a[10]=e*(f*x-i*y)-n*(c*x-l*y)+q*(c*i-l*f);a[11]=-(e*(f*m-i*p)-n*(c*m-l*p)+k*(c*i-l*f));a[12]=-(n*(p*w-j*y)-k*(f*w-g*y)+q*(f*j-g*p));a[13]=e*(p*w-j*y)-k*(c*w-d*y)+q*(c*j-d*p);a[14]=-(e*(f*w-g*y)-n*(c*w-d*y)+q*(c*g-d*f));a[15]=e*(f*j-g*p)-n*(c*j-d*p)+k*(c*g-d*f);return a},determinant:function(a){var b=a[0],c=a[1],d=a[2],h=a[3],l=a[4],n=a[5],f=a[6],g=a[7],i=a[8],k=a[9],
j=a[10],m=a[11],q=a[12],t=a[13],y=a[14];a=a[15];return(b*n-c*l)*(j*a-m*y)-(b*f-d*l)*(k*a-m*t)+(b*g-h*l)*(k*y-j*t)+(c*f-d*n)*(i*a-m*q)-(c*g-h*n)*(i*y-j*q)+(d*g-h*f)*(i*t-k*q)},multiply:function(a,b,c){var d=b[0],h=b[1],l=b[2],n=b[3],f=b[4],g=b[5],i=b[6],k=b[7],j=b[8],m=b[9],q=b[10],t=b[11],y=b[12],w=b[13],x=b[14];b=b[15];var r=c[0],v=c[1],z=c[2],A=c[3];a[0]=r*d+v*f+z*j+A*y;a[1]=r*h+v*g+z*m+A*w;a[2]=r*l+v*i+z*q+A*x;a[3]=r*n+v*k+z*t+A*b;r=c[4];v=c[5];z=c[6];A=c[7];a[4]=r*d+v*f+z*j+A*y;a[5]=r*h+v*g+z*
m+A*w;a[6]=r*l+v*i+z*q+A*x;a[7]=r*n+v*k+z*t+A*b;r=c[8];v=c[9];z=c[10];A=c[11];a[8]=r*d+v*f+z*j+A*y;a[9]=r*h+v*g+z*m+A*w;a[10]=r*l+v*i+z*q+A*x;a[11]=r*n+v*k+z*t+A*b;r=c[12];v=c[13];z=c[14];A=c[15];a[12]=r*d+v*f+z*j+A*y;a[13]=r*h+v*g+z*m+A*w;a[14]=r*l+v*i+z*q+A*x;a[15]=r*n+v*k+z*t+A*b;return a}};v.mul=v.multiply;v.translate=function(a,b,c){var d=c[0],h=c[1];c=c[2];var l,n,f,g,i,k,j,m,q,r,t,w;b===a?(a[12]=b[0]*d+b[4]*h+b[8]*c+b[12],a[13]=b[1]*d+b[5]*h+b[9]*c+b[13],a[14]=b[2]*d+b[6]*h+b[10]*c+b[14],a[15]=
b[3]*d+b[7]*h+b[11]*c+b[15]):(l=b[0],n=b[1],f=b[2],g=b[3],i=b[4],k=b[5],j=b[6],m=b[7],q=b[8],r=b[9],t=b[10],w=b[11],a[0]=l,a[1]=n,a[2]=f,a[3]=g,a[4]=i,a[5]=k,a[6]=j,a[7]=m,a[8]=q,a[9]=r,a[10]=t,a[11]=w,a[12]=l*d+i*h+q*c+b[12],a[13]=n*d+k*h+r*c+b[13],a[14]=f*d+j*h+t*c+b[14],a[15]=g*d+m*h+w*c+b[15]);return a};v.scale=function(a,b,c){var d=c[0],h=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*
c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};v.rotate=function(a,b,c,d){var h=d[0],l=d[1];d=d[2];var f=Math.sqrt(h*h+l*l+d*d),i,k,j,m,p,q,r,t,v,w,x,B,E,z,A,C,D,K,H,G;if(Math.abs(f)<g)return null;f=1/f;h*=f;l*=f;d*=f;i=Math.sin(c);k=Math.cos(c);j=1-k;c=b[0];f=b[1];m=b[2];p=b[3];q=b[4];r=b[5];t=b[6];v=b[7];w=b[8];x=b[9];B=b[10];E=b[11];z=h*h*j+k;A=l*h*j+d*i;C=d*h*j-l*i;D=h*l*j-d*i;K=l*l*j+k;H=d*l*j+h*i;G=h*d*j+l*i;h=l*d*j-h*i;l=d*d*j+k;a[0]=c*z+q*A+w*C;a[1]=f*z+r*A+x*C;a[2]=m*z+t*A+B*
C;a[3]=p*z+v*A+E*C;a[4]=c*D+q*K+w*H;a[5]=f*D+r*K+x*H;a[6]=m*D+t*K+B*H;a[7]=p*D+v*K+E*H;a[8]=c*G+q*h+w*l;a[9]=f*G+r*h+x*l;a[10]=m*G+t*h+B*l;a[11]=p*G+v*h+E*l;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};v.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var h=b[4],l=b[5],f=b[6],g=b[7],i=b[8],k=b[9],j=b[10],m=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=h*c+i*d;a[5]=l*c+k*d;a[6]=f*c+j*d;a[7]=g*c+m*d;a[8]=i*c-
h*d;a[9]=k*c-l*d;a[10]=j*c-f*d;a[11]=m*c-g*d;return a};v.rotateY=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var h=b[0],l=b[1],f=b[2],g=b[3],i=b[8],k=b[9],j=b[10],m=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*c-i*d;a[1]=l*c-k*d;a[2]=f*c-j*d;a[3]=g*c-m*d;a[8]=h*d+i*c;a[9]=l*d+k*c;a[10]=f*d+j*c;a[11]=g*d+m*c;return a};v.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var h=b[0],l=b[1],f=b[2],g=b[3],i=b[4],k=b[5],j=b[6],m=
b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*c+i*d;a[1]=l*c+k*d;a[2]=f*c+j*d;a[3]=g*c+m*d;a[4]=i*c-h*d;a[5]=k*c-l*d;a[6]=j*c-f*d;a[7]=m*c-g*d;return a};v.fromRotationTranslation=function(a,b,c){var d=b[0],h=b[1],f=b[2],g=b[3],i=d+d,k=h+h,j=f+f;b=d*i;var m=d*k,d=d*j,p=h*k,h=h*j,f=f*j,i=g*i,k=g*k,g=g*j;a[0]=1-(p+f);a[1]=m+g;a[2]=d-k;a[3]=0;a[4]=m-g;a[5]=1-(b+f);a[6]=h+i;a[7]=0;a[8]=d+k;a[9]=h-i;a[10]=1-(b+p);a[11]=0;a[12]=c[0];a[13]=
c[1];a[14]=c[2];a[15]=1;return a};v.fromQuat=function(a,b){var c=b[0],d=b[1],h=b[2],f=b[3],g=c+c,i=d+d,k=h+h,c=c*g,j=d*g,d=d*i,m=h*g,p=h*i,h=h*k,g=f*g,i=f*i,f=f*k;a[0]=1-d-h;a[1]=j+f;a[2]=m-i;a[3]=0;a[4]=j-f;a[5]=1-c-h;a[6]=p+g;a[7]=0;a[8]=m+i;a[9]=p-g;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};v.frustum=function(a,b,c,d,h,f,g){var i=1/(c-b),k=1/(h-d),j=1/(f-g);a[0]=2*f*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(c+b)*i;a[9]=(h+d)*k;a[10]=(g+f)*j;a[11]=-1;a[12]=
0;a[13]=0;a[14]=2*(g*f)*j;a[15]=0;return a};v.perspective=function(a,b,c,d,h){b=1/Math.tan(b/2);var f=1/(d-h);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(h+d)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*h*d*f;a[15]=0;return a};v.ortho=function(a,b,c,d,h,f,g){var i=1/(b-c),k=1/(d-h),j=1/(f-g);a[0]=-2*i;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*j;a[11]=0;a[12]=(b+c)*i;a[13]=(h+d)*k;a[14]=(g+f)*j;a[15]=1;return a};v.lookAt=function(a,b,c,d){var h,
f,i,k,j,m,q,p,r=b[0],t=b[1];b=b[2];i=d[0];k=d[1];f=d[2];q=c[0];d=c[1];h=c[2];if(Math.abs(r-q)<g&&Math.abs(t-d)<g&&Math.abs(b-h)<g)return v.identity(a);c=r-q;d=t-d;q=b-h;p=1/Math.sqrt(c*c+d*d+q*q);c*=p;d*=p;q*=p;h=k*q-f*d;f=f*c-i*q;i=i*d-k*c;(p=Math.sqrt(h*h+f*f+i*i))?(p=1/p,h*=p,f*=p,i*=p):i=f=h=0;k=d*i-q*f;j=q*h-c*i;m=c*f-d*h;(p=Math.sqrt(k*k+j*j+m*m))?(p=1/p,k*=p,j*=p,m*=p):m=j=k=0;a[0]=h;a[1]=k;a[2]=c;a[3]=0;a[4]=f;a[5]=j;a[6]=d;a[7]=0;a[8]=i;a[9]=m;a[10]=q;a[11]=0;a[12]=-(h*r+f*t+i*b);a[13]=-(k*
r+j*t+m*b);a[14]=-(c*r+d*t+q*b);a[15]=1;return a};v.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};v.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],
2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};"undefined"!==typeof c&&(c.mat4=v);var q={create:function(){var a=new i(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},C=j.create(),L=j.fromValues(1,0,0),M=j.fromValues(0,1,0);q.rotationTo=function(a,b,c){var d=j.dot(b,c);if(-0.999999>d)return j.cross(C,L,b),1E-6>j.length(C)&&j.cross(C,M,b),j.normalize(C,C),q.setAxisAngle(a,C,Math.PI),a;if(0.999999<d)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;j.cross(C,b,c);a[0]=C[0];a[1]=C[1];a[2]=C[2];a[3]=1+d;return q.normalize(a,
a)};var D=f.create();q.setAxes=function(a,b,c,d){D[0]=c[0];D[3]=c[1];D[6]=c[2];D[1]=d[0];D[4]=d[1];D[7]=d[2];D[2]=-b[0];D[5]=-b[1];D[8]=-b[2];return q.normalize(a,q.fromMat3(a,D))};q.clone=m.clone;q.fromValues=m.fromValues;q.copy=m.copy;q.set=m.set;q.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};q.setAxisAngle=function(a,b,c){c*=0.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a};q.add=m.add;q.multiply=function(a,b,c){var d=b[0],h=b[1],f=b[2];b=b[3];var g=
c[0],i=c[1],k=c[2];c=c[3];a[0]=d*c+b*g+h*k-f*i;a[1]=h*c+b*i+f*g-d*k;a[2]=f*c+b*k+d*i-h*g;a[3]=b*c-d*g-h*i-f*k;return a};q.mul=q.multiply;q.scale=m.scale;q.rotateX=function(a,b,c){c*=0.5;var d=b[0],h=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=h*c+f*g;a[2]=f*c-h*g;a[3]=b*c-d*g;return a};q.rotateY=function(a,b,c){c*=0.5;var d=b[0],f=b[1],g=b[2];b=b[3];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c-g*i;a[1]=f*c+b*i;a[2]=g*c+d*i;a[3]=b*c-f*i;return a};q.rotateZ=function(a,b,c){c*=0.5;
var d=b[0],f=b[1],g=b[2];b=b[3];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*i;a[1]=f*c-d*i;a[2]=g*c+b*i;a[3]=b*c-g*i;return a};q.calculateW=function(a,b){var c=b[0],d=b[1],f=b[2];a[0]=c;a[1]=d;a[2]=f;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-f*f));return a};q.dot=m.dot;q.lerp=m.lerp;q.slerp=function(a,b,c,d){var f=b[0],g=b[1],i=b[2];b=b[3];var k=c[0],j=c[1],m=c[2];c=c[3];var q,p,r;p=f*k+g*j+i*m+b*c;0>p&&(p=-p,k=-k,j=-j,m=-m,c=-c);1E-6<1-p?(q=Math.acos(p),r=Math.sin(q),p=Math.sin((1-d)*q)/r,d=Math.sin(d*q)/
r):p=1-d;a[0]=p*f+d*k;a[1]=p*g+d*j;a[2]=p*i+d*m;a[3]=p*b+d*c;return a};q.invert=function(a,b){var c=b[0],d=b[1],f=b[2],g=b[3],i=c*c+d*d+f*f+g*g,i=i?1/i:0;a[0]=-c*i;a[1]=-d*i;a[2]=-f*i;a[3]=g*i;return a};q.conjugate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};q.length=m.length;q.len=q.length;q.squaredLength=m.squaredLength;q.sqrLen=q.squaredLength;q.normalize=m.normalize;q.fromMat3=function(a,b){var c=b[0]+b[4]+b[8];if(0<c)c=Math.sqrt(c+1),a[3]=0.5*c,c=0.5/c,a[0]=(b[5]-b[7])*
c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[3*d+d]&&(d=2);var f=(d+1)%3,i=(d+2)%3,c=Math.sqrt(b[3*d+d]-b[3*f+f]-b[3*i+i]+1);a[d]=0.5*c;c=0.5/c;a[3]=(b[3*f+i]-b[3*i+f])*c;a[f]=(b[3*f+d]+b[3*d+f])*c;a[i]=(b[3*i+d]+b[3*d+i])*c}return a};q.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof c&&(c.quat=q)})(this);GLMJS_PREFIX="glm-js: ";
function GLMJSError(c){var d;a:{try{generror_()}catch(g){d=g.stack.split(/\n/)[4];break a}d=void 0}this.e=d;this.toString=function(){return"[GLMJSError "+GLMJS_PREFIX+c+"]"+this.e};generatedError.prototype.message=c;GLM.$DLL.console.warn(c)}function generatedError(){}generatedError.prototype=Error();GLMJSError.prototype=new generatedError;
$GLM_extern=function(c,d){d=d||c;return function(){GLM[d]=GLM.$functions[c]||GLM.$DLL[c];if(!GLM[d])throw new GLMJSError("$GLM_extern: unresolved external symbol: "+c);return GLM[d].apply(this,arguments)}};$GLM_intern=function(c,d){if(void 0===d&&"object"===typeof c)for(var g in c)$GLM_intern(g,c[g]);else return GLM.$DLL.console.debug("intern "+c,d&&(d.name||typeof d)),GLM.$DLL[c]=d};
GLM={version:"0.0.1",GLM_VERSION:95,$functions:{},$DLL:{console:{debug:function(){}||(console.debug?function(){console.debug([].slice.call(arguments).join(" "))}:function(){console.warn([].slice.call(arguments).join(" "))}),warn:function(){console.warn([].slice.call(arguments).join(" "))},info:function(){console.info([].slice.call(arguments).join(" "))},error:function(){console.error([].slice.call(arguments).join(" "))},write:function(c){try{console.write(c)}catch(d){this.debug(c)}}},vec3_eulerAngles:function(c){var d=
this.mat4_array_from_quat(c);c=d[0];var g=d[4],i=d[1],k=d[5],f=d[2],r=d[6],d=d[10],t=new glm.vec3;t.y=Math.asin(-glm.clamp(f,-1,1));0.99999>Math.abs(f)?(t.x=Math.atan2(r,d),t.z=Math.atan2(i,c)):(t.x=0,t.z=Math.atan2(-g,k));return t}},$intern:$GLM_intern,$extern:$GLM_extern,GLMJSError:GLMJSError,_radians:function(c){return c*Math.PI/180},_degrees:function(c){return 180*c/Math.PI},normalize:$GLM_extern("normalize"),inverse:$GLM_extern("inverse"),length:$GLM_extern("length"),length2:$GLM_extern("length2"),
transpose:$GLM_extern("transpose"),mix:$GLM_extern("mix"),rotate:function(c,d,g){return c.mul(GLM.$DLL.mat4_angleAxis(d,g))},scale:function(c,d){return c.mul(GLM.$DLL.mat4_scale(d))},translate:function(c,d){return c.mul(GLM.$DLL.mat4_translation(d))},perspective:function(c,d,g,i){return GLM.$DLL.mat4_perspective(c,d,g,i)},eulerAngles:function(c){return GLM.$DLL.vec3_eulerAngles(c)},angleAxis:function(c,d){return GLM.$DLL.quat_angleAxis(c,d)},make_vec2:function(c){return new GLM.vec2([].slice.call(c,
0,2))},make_vec3:function(c){return new GLM.vec3([].slice.call(c,0,3))},make_vec4:function(c){return new GLM.vec4([].slice.call(c,0,4))},make_quat:function(c){return new GLM.quat([].slice.call(c,0,4))},make_mat3:function(c){return new GLM.mat3([].slice.call(c,0,9))},make_mat4:function(c){return new GLM.mat4([].slice.call(c,0,16))},toMat4:function(c){return new GLM.mat4(c)},FAITHFUL:!0,to_string:function(c){try{var d=c.$type||typeof c;if(!GLM[d])throw new GLMJSError("unsupported argtype to GLM.to_string: "+
[c,d]);if(!GLM[d].$)throw new GLMJSError("missing .$... GLM.to_string: "+[c,d]);return GLM.FAITHFUL?GLM[d].$.to_string(c).replace(/[\t\n]/g,""):GLM[d].$.to_string(c)}catch(g){GLM.$DLL.console.error("to_string error: ",d,c+"",g)}},$to_array:function(c){return[].slice.call(c.elements)},$sizeof:function(c){return c.BYTES_PER_ELEMENT},clamp:function(c,d,g){return c<d?d:c>g?g:c},max:function(c,d){return Math.max(c,d)},min:function(c,d){return Math.min(c,d)},sign:Math.sign||function(c){return 0<c?1:0>c?
-1:0},epsilon:function(){return 1E-6},FIXEDPRECISION:6,$toString:function(c,d,g){try{var i="";g.map(function(c){return d[i=c].toFixed(0)})}catch(k){throw GLM.$DLL.console.error("$toString error",c,d,i),new GLMJSError(k);}return[c,"(",g.map(function(c){return d[c].toFixed(GLM.FIXEDPRECISION)}).join(", "),")"].join("")}};
var GLM_template=GLM.$template={jstypes:{get:function(c){return null===c?"null":void 0===c?c+"":c.$type||GLM_template.jstypes[typeof c]||GLM_template.jstypes[c+""]||"<unknown "+[typeof c,c]+">"},number:"float","[object Float32Array]":"Float32Array"},"<T>":function(c,d){var g=function(i){var g=[i.$type||GLM_template.jstypes[typeof i]||"null"];if(!c[g])throw new GLMJSError("unsupported argtype to GLM."+d+"<T>: "+[g||typeof i]);return c[g](i)};g["<T>"]=g.$template=c;return g},"<T,V,n>":function(c,d){var g=
function(i,g,f){this.$type&&(f=g,g=i,i=this);var r=[i.$type||GLM_template.jstypes[typeof g],g.$type||GLM_template.jstypes[typeof g]||GLM_template.jstypes[g+""]||"<unknown "+g+">"];if(!c[r])throw new GLMJSError("unsupported argtype to "+d+"<T,V,n>: ["+r+"] :: "+[].slice.call(arguments).map(GLM_template.jstypes.get)+" // "+Object.keys(c).join("||"));if("number"!==typeof f)throw new GLMJSError(d+"<T,V,n>: unsupported n: "+f);return c[r](i,g,f)};g.sig="<T,V,n>";g.$template=c;return g},"<T,V>":function(c,
d){var g=function(g,k){this.$type&&(k=g,g=this);var f=[g.$type||GLM_template.jstypes[typeof k],k.$type||GLM_template.jstypes[typeof k]||GLM_template.jstypes[k+""]||"<unknown "+k+">"];if(!c[f])throw new GLMJSError("unsupported argtype to "+d+"<T,V>: ["+f+"] :: "+[].slice.call(arguments).map(GLM_template.jstypes.get));return c[f](g,k)};g.sig="<T,V>";g.$template=c;return g},override:function(c,d,g,i){GLM.$DLL.console.debug("override",c,d,g.op||"");if(!i)throw Error('unspecified target group (expected override(<TV>, "p", {TSP}, ret={GROUP}))');
var k=i[d]&&i[d];i[d]=GLM_template[c](GLM_template.denify(g),d);i[d].op=g.op;if(k){if(k.op!==i[d].op)throw Error("mismatch merging existing override:p="+[d,k.op,"||"+Object.keys(k.$template).join("||")]);for(var f in k.$template)f in i[d].$template||(GLM.$DLL.console.debug("carrying-forward: ",d,f),i[d].$template[f]=k.$template[f])}return i},_override:function(c,d,g){for(var i in d)this.override(c,i,d[i],g);return g},operations:function(c){return this._override("<T,V>",c,GLM.$functions)},calculators:function(c){return this._override("<T>",
c,GLM.$functions)},functions:function(c){return this._override("<T,V,n>",c,GLM.$functions)},denify:function(c){for(var d in c)if(/vec<N>/.test(d)){var g=c[d];delete c[d];[2,3,4].forEach(function(i){var k=d.replace(/<N>/g,i);k in c||(c[k]=eval(("1,"+g).replace(/N/g,i)))})}return c},GLMType:function(c,d){var g=d.identity.length,i=function(k){var f=typeof k+arguments.length,r=d[f];if(!r)throw new GLMJSError("no template found for "+c+".$."+f);if(this instanceof i)k instanceof Float32Array?(k.length>
g&&(k=k.subarray(0,g)),this.elements=k):(this.elements=new Float32Array(g)).set(r.apply(d,arguments));else return new i(r.apply(d,arguments))};i.$=d;i.componentLength=g;i.BYTES_PER_ELEMENT=g*Float32Array.BYTES_PER_ELEMENT;i.toString=function(){return"function GLM."+c+"(){ [ GLMType ] }"};i.prototype={$type:c,$typeName:d.name||"<"+c+">",$len:g,constructor:i,__proto__:5,clone:function(){return new i(this)},toString:function(){return d.to_string(this)},byteLength:i.BYTES_PER_ELEMENT,componentLength:i.componentLength,
get address(){var c=this.elements.byteOffset.toString(16);return"0x00000000".substr(0,10-c.length)+c}};return i}};GLM.$template.functions({mix:{"float,float":function(c,d,g){return d*g+c*(1-g)},"vec<N>,vec<N>":function(c,d,g){if(void 0===g)throw Error("glm.mix<vecN,vecN>(v,n,rt) requires 3 arguments");c=glm.$to_array(c);d=glm.$to_array(d);var i=1-g;return new glm.vecN(c.map(function(c,f){return d[f]*g+c*i}))}}});
GLM.degrees=GLM.$template.calculators({degrees:{"float":function(c){return GLM._degrees(c)},"vec<N>":function(c){return new GLM.vecN(GLM.$to_array(c).map(GLM._degrees))}}}).degrees;GLM.radians=GLM.$template.calculators({radians:{"float":function(c){return GLM._radians(c)},"vec<N>":function(c){return new GLM.vecN(GLM.$to_array(c).map(GLM._radians))}}}).radians;
GLM.to_glsl=GLM.$template.calculators({to_glsl:{"vec<N>":function(c){for(var d=GLM.$to_array(c);d.length&&d[d.length-2]===d[d.length-1];)d.pop();return c.$type+"("+d+")"},uvec4:function(c){return this.vec4(c)},quat:function(c){return 0===c.x+c.y+c.z?"quat("+c.w+")":"quat("+GLM.$to_array(c)+")"},mat3:function(c){c=GLM.$to_array(c);switch(c.reduce(function(c,g){return c+g},0)){case 3*c[0]:return"mat3("+c[0]+")";case 0:return"mat3(0)";case 3:if(4===c[0]+c[4]+c[7]+c[10])return"mat3(1)"}return"mat3("+
c+")"},mat4:function(c){c=GLM.$to_array(c);switch(c.reduce(function(c,g){return c+g},0)){case 4*c[0]:return"mat4("+c[0]+")";case 0:return"mat4(0)";case 4:if(4===c[0]+c[5]+c[10]+c[15])return"mat4(1)"}return"mat4("+c+")"}}}).to_glsl;GLM.from_glsl=function(c){if(GLM.from_glsl.shorthands[c])return GLM.from_glsl.shorthands[c]();c._&&c._.replace(/^glm\.(u?vec4|quat|mat4|mat3)\./,function(d,g){"quat"===g?glm[g]().elements.set([c.x,c.y,c.z,c.w]):glm[g]().copy(c)});throw Error("unrecognized json: "+c);};
GLM.from_glsl.shorthands={"mat4(0)":function(){return GLM.mat4(0)},"mat4(1)":function(){return GLM.mat4(1)},"mat3(0)":function(){return GLM.mat3(0)},"mat3(1)":function(){return GLM.mat3(1)},"uvec4(0)":function(){return GLM.uvec4(0)},"uvec4(1)":function(){return GLM.uvec4(1)},"vec3(0)":function(){return GLM.vec3(0)},"vec3(1)":function(){return GLM.vec3(1)},"vec4(0)":function(){return GLM.vec4(0)},"vec4(1)":function(){return GLM.vec4(1)},"quat(0)":function(){return GLM.quat(0)},"quat(1)":function(){return GLM.quat(1)}};
GLM.$template.override("<T,V>","copy",{op:"=","mat4,mat4":function(c,d){c.elements.set(d.elements);return c},"quat,quat":function(c,d){c.elements.set(d.elements)},"vec<N>,vec<N>":function(c,d){c.elements.set(d.elements)}},GLM.$functions);GLM.string={$typeName:"string",$:{to_string:function(c){return c}}};GLM.number={$typeName:"float",$:{to_string:function(c){return GLM.$toString("float",{value:c},["value"])}}};
GLM.vec2=GLM_template.GLMType("vec2",{name:"fvec2",identity:[0,0],undefined0:function(){return this.identity},number1:function(c){return[c,c]},number2:function(c,d){return[c,d]},object1:function(c){switch(c.length){case 4:case 3:case 2:return[c[0],c[1]];default:if("y"in c&&"x"in c)return[c.x,c.y]}throw new GLMJSError("unrecognized object passed to GLM.vec2: "+c);},to_string:function(c){return GLM.$toString(c.$typeName,c,["x","y"])}});
GLM.vec3=GLM_template.GLMType("vec3",{name:"fvec3",identity:[0,0,0],undefined0:function(){return GLM.vec3.$.identity},number1:function(c){return[c,c,c]},number2:function(c,d){return[c,d,d]},number3:function(c,d,g){return[c,d,g]},object1:function(c){switch(c.length){case 4:case 3:return[c[0],c[1],c[2]];case 2:return[c[0],c[1],c[1]];default:if("z"in c&&"x"in c)return[c.x,c.y,c.z]}throw new GLMJSError("unrecognized object passed to GLM.vec3: "+c);},to_string:function(c){return GLM.$toString(c.$typeName,
c,["x","y","z"])}});
GLM.vec4=GLM_template.GLMType("vec4",{name:"fvec4",identity:[0,0,0,0],undefined0:function(){return this.identity},number1:function(c){return[c,c,c,c]},number2:function(c,d){return[c,d,d,d]},number3:function(c,d,g){return[c,d,g,g]},number4:function(c,d,g,i){return[c,d,g,i]},object1:function(c){switch(c.length){case 4:return[c[0],c[1],c[2],c[3]];case 3:return[c[0],c[1],c[2],c[2]];case 2:return[c[0],c[1],c[1],c[1]];default:if("w"in c&&"x"in c)return[c.x,c.y,c.z,c.w]}throw new GLMJSError("unrecognized object passed to GLM.vec4: "+[c,
c.$type]);},object2:function(c,d){if(c instanceof GLM.vec3)return[c.x,c.y,c.z,d];throw new GLMJSError("unrecognized object passed to GLM.vec4(o,w): "+[c,d]);},to_string:function(c){return GLM.$toString(c.$typeName,c,["x","y","z","w"])}});
GLM.uvec4=GLM_template.GLMType("uvec4",{name:"uvec4",identity:[0,0,0,0],_clamp:function(c){return~~glm.clamp(c,0,Infinity)},undefined0:function(){return this.identity},number1:function(c){c=this._clamp(c);return[c,c,c,c]},number2:function(c,d){c=this._clamp(c);d=this._clamp(d);return[c,d,d,d]},number3:function(c,d,g){c=this._clamp(c);d=this._clamp(d);g=this._clamp(g);return[c,d,g,g]},number4:function(c,d,g,i){return[c,d,g,i].map(this._clamp)},object1:function(c){switch(c.length){case 4:return[c[0],
c[1],c[2],c[3]].map(this._clamp);case 3:return[c[0],c[1],c[2],c[2]].map(this._clamp);case 2:return[c[0],c[1],c[1],c[1]].map(this._clamp);default:if("w"in c&&"x"in c)return[c.x,c.y,c.z,c.w].map(this._clamp)}throw new GLMJSError("unrecognized object passed to GLM.uvec4: "+[c,c.$type]);},object2:function(c,d){if(c instanceof GLM.vec3)return[c.x,c.y,c.z,d].map(this._clamp);throw new GLMJSError("unrecognized object passed to GLM.uvec4(o,w): "+[c,d]);},to_string:function(c){return GLM.$toString(c.$typeName,
c,["x","y","z","w"])}});
GLM.mat3=GLM_template.GLMType("mat3",{name:"mat3x3",identity:[1,0,0,0,1,0,0,0,1],undefined0:function(){return this.identity},number1:function(c){return 1===c?this.identity:[c,0,0,0,c,0,0,0,c]},object1:function(c){var d=c.elements||c;if(16===d.length)return[d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]];if(9===d.length)return d;throw new GLMJSError("unrecognized object passed to GLM.mat3: "+c);},to_string:function(c){var d=[0,1,2].map(function(d){return c[d]}).map(function(c){return GLM.$toString("\t",c,
["x","y","z"])});return c.$typeName+"(\n"+d.join(", \n")+"\n)"}});
GLM.mat4=GLM_template.GLMType("mat4",{name:"mat4x4",identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],undefined0:function(){return this.identity},number16:function(){return arguments},number1:function(c){return 1===c?this.identity:[c,0,0,0,0,c,0,0,0,0,c,0,0,0,0,c]},object1:function(c){if(c instanceof GLM.quat)return GLM.$DLL.mat4_array_from_quat(c);var d=c.elements||c;if(9===d.length)return[d[0],d[1],d[2],0,d[3],d[4],d[5],0,d[6],d[7],d[8],0,0,0,0,1];if(16!==d.length)throw new GLMJSError("unrecognized object passed to GLM.mat4: "+
[c,d.length]);return d},to_string:function(c){var d=[0,1,2,3].map(function(d){return c[d]}).map(function(c){return GLM.$toString("\t",c,["x","y","z","w"])});return c.$typeName+"(\n"+d.join(", \n")+"\n)"}});
GLM.quat=GLM_template.GLMType("quat",{identity:[0,0,0,1],undefined0:function(){return this.identity},number1:function(c){if(1!==c)throw Error("only quat(1) syntax supported for quat(number1 args)...");return this.identity},number4:function(c,d,g,i){return[d,g,i,c]},object1:function(c){if(c instanceof GLM.mat4)return GLM.$DLL.quat_array_from_mat4(c);if(4===c.length)return c;if(c instanceof GLM.quat||"w"in c&&"x"in c)return[c.x,c.y,c.z,c.w];throw new GLMJSError("unrecognized object passed to GLM.quat.object1: "+
[c,c.$type,typeof c,c.constructor]);},to_string:function(c){c=GLM.degrees(GLM.eulerAngles(c));return GLM.$toString("<quat>"+c.$typeName,c,["x","y","z"])}});
(function(){var c=[0,1,2,3].map(function(c){return{get:function(){return this.elements[c]},set:function(d){this.elements[c]=d}}}),d=function(d,g){g.forEach(function(f,g){Object.defineProperty(d.prototype,f,c[g])});if(isNaN(g[0])&&!/^_/.test(g[0])){do(function(c,g,k){Object.defineProperty(d.prototype,c,{get:function(){return new GLM[g](this.elements.subarray(0*k,1*k))}})})(g.join(""),"vec"+g.length,g.length);while(g[1]!=g.pop())}};d(GLM.vec2,["x","y"]);d(GLM.vec3,["x","y","z"]);d(GLM.vec3,["r","g",
"b"]);d(GLM.vec4,["x","y","z","w"]);d(GLM.vec4,["r","g","b","a"]);d(GLM.quat,["x","y","z","w"]);[2,3,4].forEach(function(c){c=GLM["vec"+c];d(c,c.$.identity.map(function(c,d){return d}))});var g=Float32Array.BYTES_PER_ELEMENT;GLM.$partition=function(c,d,f){var r=d.$.identity.length;f=f||r;GLM.$DLL.console.info("GLM.$partition",[r,f].join("x"));"elements"in c||void 0===f&&GLM.$DLL.console.warn("GLM.$partition will expects this.elements to be a Float32Array...");for(var t=0;t<f;t++)(function(f){var t=
f*g*r,m="_cached_"+f;Object.defineProperty(c,f,{configurable:!0,enumerable:!0,set:function(g){if(g instanceof d)return this[f].elements.set(g.elements);if(g.length===r)return this[f].elements.set(g);throw new GLMJSError("unsupported argtype to "+c.$type+"["+f+"] setter: "+[typeof g,g]);},get:function(){if(this[m])return f||GLM.$DLL.console.debug("CACHEDBG: cache hit "+m),Object.defineProperty(this,f,{value:this[m]}),this[m];f||GLM.$DLL.console.debug("CACHEDBG: cache miss "+m);Object.defineProperty(this,
m,{configurable:!0,enumerable:!1,value:new d(new Float32Array(this.elements.buffer,this.elements.byteOffset+t))});return this[m]}})})(t)};GLM.$partition(GLM.mat4.prototype,GLM.vec4,4);GLM.$partition(GLM.mat3.prototype,GLM.vec3,3)})();GLM.$dumpTypes=function(c){for(var d in GLM)GLM[d].componentLength&&c("GLM."+d,JSON.stringify({"#type":GLM[d].prototype.$typeName,"#floats":GLM[d].componentLength,"#bytes":GLM[d].BYTES_PER_ELEMENT}))};
GLM.init=function(c,d){d&&(GLMJS_PREFIX=d);var g=function(c){GLM.$DLL.console.write("\u00e2\u009c\u0094 "+c);try{"node"===process.title&&GLM.$DLL.console.write("\n")}catch(d){}};try{g("GLM-js: ENV: "+_ENV._VERSION)}catch(i){}g("GLM-JS: initializing: "+JSON.stringify(c,0,2));g(JSON.stringify({functions:Object.keys(GLM.$functions)}));GLM.$symbols=[];for(var k in GLM)if("function"===typeof GLM[k]&&(/^[a-z]/.test(k)&&GLM.$symbols.push(k),"$"in GLM[k]))for(var f in GLM.$functions){var r=GLM.$functions[f];
r.op&&(GLM[k].prototype[f]=r,GLM[k].prototype[r.op]=r)}g("GLM-JS: "+GLM.version+" emulating GLM_VERSION="+GLM.GLM_VERSION+" vendor_name="+c.vendor_name+" vendor_version="+c.vendor_version);glm.vendor=c};
GLM.using_namespace=function(c){console.warn("GLM.using_namespace munges globals; it should not be used!");var d=[],g=GLM.$symbols,i=g.filter(function(c){return eval("1, 'undefined' !== typeof "+c)});g.map(function(c){var f="GLM.using_namespace."+c+"=undefined;delete GLM.using_namespace."+c+";";try{GLM.using_namespace[c]=eval("1,"+c),d.push(new Function("",c+"=GLM.using_namespace."+c+";"+f))}catch(g){d.push(new Function("",c+"=undefined;delete "+c+";"+f))}eval(c+"=GLM."+c)});c();d.map(function(c){c()});
c=g.filter(function(c){return eval("1, 'undefined' !== typeof "+c)});if(0!==i.length+c.length)throw Error(vec3+":"+JSON.stringify({before:i,after:c,usn:Object.keys(GLM.using_namespace)}));};try{module.exports=GLM}catch(e$$19){}try{GLMAT.exists}catch(e$$20){try{GLMAT=exports}catch(e$$21){GLMAT=this,GLMAT.mat4.exists}}glm=GLM;var DLL={_version:"0.0.0",_name:"glm.gl-matrix.js",_glm_version:glm.version,vendor_version:GLMAT.VERSION,vendor_name:"glMatrix"};console.warn("... glm-js: DLL: ",JSON.stringify(DLL));
if(!glm.$template)throw Error("glm-js: bring glm.$template in first (from glm.common.js)");
glm.$intern({mat4_perspective:function(c,d,g,i){return new glm.mat4(GLMAT.mat4.perspective(new Float32Array(16),c,d,g,i))},mat4_angleAxis:function(c,d){var g=GLMAT.quat.setAxisAngle(new Float32Array(4),d,c);return new glm.mat4(GLMAT.mat4.fromQuat(new Float32Array(16),g))},quat_angleAxis:function(c,d){return new glm.quat(GLMAT.quat.setAxisAngle(new Float32Array(4),d,c))},mat4_translation:function(c){var d=new glm.mat4;GLMAT.mat4.translate(d.elements,d.elements,c.elements);return d},mat4_scale:function(c){var d=
new glm.mat4;GLMAT.mat4.scale(d.elements,d.elements,c.elements);return d},vec3_eulerAngles:function(c){var d=new Float32Array(16);GLMAT.mat4.fromQuat(d,c.elements);c=d[0];var g=d[4],i=d[1],k=d[5],f=d[2],r=d[6],d=d[10],t=new glm.vec3;t.y=Math.asin(-glm.clamp(f,-1,1));0.99999>Math.abs(f)?(t.x=Math.atan2(r,d),t.z=Math.atan2(i,c)):(t.x=0,t.z=Math.atan2(-g,k));return t},mat4_array_from_quat:function(c){return GLMAT.mat4.fromQuat(new Float32Array(16),c.elements)},quat_array_from_mat4:function(c){c=GLMAT.mat3.fromMat4(new Float32Array(9),
c.elements);return GLMAT.quat.fromMat3(new Float32Array(4),c)}});
glm.$template.operations({mul:{op:"*","quat,vec3":function(c,d){return new glm.vec3(GLMAT.vec3.transformQuat(new Float32Array(3),d.elements,c.elements))},"vec3,quat":function(c,d){return this["quat,vec3"](d,c)},"vec4,quat":function(c,d){return new glm.vec4(this["quat,vec3"](d,c),1)},"vec<N>,float":function(c,d){return new glm.vecN(GLMAT.vecN.scale(new Float32Array(N),c.elements,d))},"mat4,vec4":function(c,d){return new glm.vec4(GLMAT.vec4.transformMat4(new Float32Array(4),d.elements,c.elements))},
"mat4,mat4":function(c,d){return new glm.mat4(GLMAT.mat4.mul(new Float32Array(16),c.elements,d.elements))},"quat,quat":function(c,d){return new glm.quat(GLMAT.quat.multiply(new Float32Array(4),c.elements,d.elements))}},mul_eq:{op:"*=","mat4,mat4":function(c,d){GLMAT.mat4.multiply(c.elements,c.elements,d.elements);return c},"vec<N>,float":function(c,d){return GLMAT.vecN.scale(c,c,d)}}});
glm.$template.functions({mix:{"quat,quat":function(c,d,g){return new glm.quat(GLMAT.quat.slerp(new Float32Array(4),c.elements,d.elements,g))}}});
glm.$template.calculators({normalize:{"vec<N>":function(c){return new glm.vecN(GLMAT.vecN.normalize(new Float32Array(N),c))},quat:function(c){return new glm.quat(GLMAT.quat.normalize(new Float32Array(4),c.elements))}},length:{quat:function(c){return GLMAT.quat.length(c.elements)},"vec<N>":function(c){return GLMAT.vecN.length(c.elements)}},length2:{quat:function(c){return GLMAT.quat.squaredLength(c.elements)},"vec<N>":function(c){return GLMAT.vecN.squaredLength(c.elements)}},inverse:{quat:function(c){return new glm.quat(GLMAT.quat.invert(new Float32Array(4),
c.elements))},mat4:function(c){return new glm.mat4(GLMAT.mat4.invert(new Float32Array(16),c.elements))}},transpose:{mat4:function(c){return new glm.mat4(GLMAT.mat4.transpose(new Float32Array(16),c.elements))}}});glm.init(DLL,"glm-js[glMatrix]: ");try{module.exports=glm}catch(e$$22){};
